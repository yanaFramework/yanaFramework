<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--*******************************************************************************************
{INDEX}
********************************************************************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><title>Yana Framework for PHP</title>
<link rel="stylesheet" type="text/css" href="data/readme.css"/>
</head>
<body>
<!-- BEGIN document head -->
<div class="headline"><!-- BEGIN search engine -->
<div id="search"> <img src="data/icon_search.gif" alt="? " border="0"/><a target="_blank" href="engine/index.html">Search</a> </div>
<!-- END search engine --> <img src="data/sml.gif" alt=" &gt;&gt; " border="0"/><a href="index.html">Table of Contents</a><!-- Document Title -->
</div>
<!-- END document head -->
<!-- BEGIN navigation -->
<div class="navline"> <a href="%PREV_URL%" style="position: absolute; left: 75px;"> <img alt="&lt;&lt;" src="data/smr2.gif"/> %PREV_NAME%</a> <a href="index.html">Index</a> <a href="%NEXT_URL%" style="position: absolute; right: 75px;"> %NEXT_NAME% <img alt="&gt;&gt;" src="data/sml2.gif"/></a> </div>
<!-- END navigation -->
<!-- START OF BOOK -->
<h1>General introduction</h1>
<h2>Prelude</h2>
<div class="box">
<p style="font-weight: bold;">Dear reader</p>
<p>Welcome and thank you for choosing this product.</p>
<p>This program took years of hard development work and many hours that numerous helping hands invested by providing notices, suggestions and tests to steadily improve the quality of the program.</p>
<p>All these hours have been lots of joy to me and all those who have been working on this projects.</p>
<p>We hope that the result of our work will be useful and give you the same pleasure that we had programing it. Please provide us with your experiences and comments. If you got suggestions on how to improve this work, I will appreciate your e-mail.</p>
<p style="font-style: italic;"> Thomas Meyer </p>
</div>
<h2>Description</h2>
<div class="box">
<p>Yana supports the development of applications by providing ready-to-use components. Examples: user management, authentication, database API, or templates. In addition it helps developers to write clean code by enforcing the use of a 3 layer architecture. (Compare: &quot;Model-View-Controler&quot;).</p>
<p>More features are in the following list:</p>
<ul title="Features">
<li><b>pre-installed programs:</b>
<ul>
<li>free PHP guestbook, free search engine, free web-log</li>
<li>online administration</li>
<li>login- and user management for multiple users</li>
<li>pre-installed protection against unrequested ads and flooding</li>
<li>skinable and multilingual</li>
</ul>
</li>
<li><b>for developers:</b>
<ul>
<li>supported database systems: MySQL, PostgreSQL, IBM DB2, Oracle DB (Oci), MS SQL-Server, text files</li>
<li>code generator creates complete applications on demand</li>
<li>runtime configurable, free combinable plug-ins</li>
<li>virtual database simulates database server on demand</li>
<li>extensive code- and class library</li>
<li>AJAX support</li>
<li>interface to run cron-jobs</li>
<li>prepared for portable applications on CD/DVD</li>
</ul>
</li>
<li>comprehensive manual with step-by-step installation instructions</li>
</ul>
</div>

<h2><a name="systemvoraussetzungen"></a>system requirements</h2>

<div class="box">
<p>The following minimum conditions have to be met so the program can run properly:</p>
<ul>
<li>Apache or compatible web server</li>
<li>PHP 5.2 or later</li>
<li>at least 5 MB free storage capacity</li>
<li>a minimum of 32MB RAM <a href="http://php.net/ini.core#ini.sect.resource-limits" class="verweis">(see also &quot;php.ini-directives: memory_limit&quot;)</a></li>
</ul>
<ul>
<li>to be able to use database features, PEAR-DB has to be installed as well.</li>
<li>to be able to use image functions like CAPTCHA, the GD library has to be installed.</li>
<li>If you decide to use a database, you may choose from: MySQL 4 or later, PostgreSQL 8.3 or later, Microsoft SQL-Server 2003 or later, DB2 V9, Oracle (Oci8). Recommendation: MySQL 5</li>
</ul>
</div>
<div class="box">
<p>The following configuration is recommended:</p>
<ul>
<li>current Xampp version (includes Apache, MySQL, mail server and PHP)</li>
<li>Apache 2.0</li>
<li>PHP 5 with PEAR-DB, GD library and XML parser</li>
<li>MySQL 5</li>
</ul>
</div>
<h2><a name="compatibility"></a>Notes on compatibility</h2>
<p>In this section you will find references to peculiarities of certain system configurations, as well as information on typical configuration errors and advice that can help you, if you encounter problems during the installation.</p>
<div class="box">
<ul>
<li> <span style="font-weight: bold;"> SELinux: </span> Some users have reported they had problems setting the right access restrictions for users and directories on systems that use the Linux extension &quot;SELinux&quot;. If this is the case, please consult the SELinux documentation for more information on configuration. You should especially note the instructions for setting up policies.</li>
<li> <span style="font-weight: bold;"> Suhosin extension: </span> The &quot;Suhosin&quot; extension for PHP may cause problems with the library PCLZip, which is used in the installation program of the framework. In this case you may run the installation manually or try to deactivate Suhosin.</li>
<li> <span style="font-weight: bold;"> MSSQL driver configuration: </span> Users of MSSQL should check the driver settings in &quot;php.ini&quot; prior to setting a system in productive mode. Note the option &quot;mssql.textlimit&quot;. Per default it is set to a limit of 4 kbyte. Please check if this setting is convenient for your purpose. If you plan to store texts or files larger than 4 kbyte in your database, you may want to adjust these settings to your needs.</li>
<li> <span style="font-weight: bold;"> MSSQL connection problems: </span>If you encounter difficulties while trying to connect with your database, make sure that you have the correct version of the file &quot;ntwdblib.dll installed. The version which is shipped with PHP may not always be suitable for your version of the SQL server. If so, copy the correct file to your PHP installation directory. For further information see the PHP manual on the keyword MSSQL.</li>
<li> <span style="font-weight: bold;"> PostgreSQL connection problems: </span> Users of PostgreSQL who encounter problems connecting to the database should check the settings inside the &quot;pg_hba.conf&quot; file located in the directory 'data' of their postgres installation. This restricts access to the server for external users and may prevent a connection to the database.</li>
<li> <span style="font-weight: bold;"> Safe-mode: </span> The Yana Framework is fully compatible with PHP's safe-mode.</li>
</ul>
</div>

<h2>included files</h2>
<div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Note: </span> If you created new skins, plug-ins or translations and believe these may also be of interest to other users, please let us know. We would be pleased to provide interesting solutions to other users for free.</div>
<p align="center">
<img src="data/abb_files.png" alt="included files (see legend)"/>
</p>
<h3>Files</h3>
<table border="0" cellpadding="5" cellspacing="0" summary="legend" style="width: 90%;">
<tr>
<td align="left" style="background-color: #D6FFC2; width: 20px;"> 1</td>
<td align="left" style="font-family: monospace;">index.php</td>
<td align="right">index site</td>
</tr>
<tr>
<td align="left" style="background-color: #C2EBFF"> 2</td>
<td align="left" style="font-family: monospace;">library.php</td>
<td align="right">loads system libraries</td>
</tr>
<tr>
<td align="left" style="background-color: #FFEBD6"> 3</td>
<td align="left" style="font-family: monospace;">cli.php</td>
<td align="right">command-line program to run cron-jobs</td>
</tr>
</table>
<h3>common directories</h3>
<table border="0" cellpadding="5" cellspacing="0" summary="legend" style="width: 90%;">
<tr>
<td align="left" style="background-color: #ddd; width: 20px;"> 4</td>
<td align="left" style="font-family: monospace;">cache/</td>
<td align="right">directory for temporary data and log files</td>
</tr>
<tr>
<td align="left" style="background-color: #D6FFAD"> 5</td>
<td align="left" style="font-family: monospace;">common_files/smilies/</td>
<td align="right">new emot-icons may be placed here</td>
</tr>
<tr>
<td align="left" style="background-color: #FFFFC2"> 6</td>
<td align="left" style="font-family: monospace;">config/</td>
<td align="right">configuration files</td>
</tr>
<tr>
<td align="left" style="background-color: #ddd"> 7</td>
<td align="left" style="font-family: monospace;">engine/</td>
<td align="right">template engine</td>
</tr>
</table>
<h3>directories, where your extensions and applications are stored</h3>
<table border="0" cellpadding="5" cellspacing="0" summary="legend" style="width: 90%;">
<tr>
<td align="left" style="background-color: #C2EBFF; width: 20px;"> 8</td>
<td align="left" style="font-family: monospace;">languages/</td>
<td align="right">translators may add their language packs here</td>
</tr>
<tr>
<td align="left" style="background-color: #FFC2FF"> 9</td>
<td align="left" style="font-family: monospace;">plugins/</td>
<td align="right">PHP programmers may put their extensions and applications here</td>
</tr>
<tr>
<td align="left" style="background-color: #C2FFC2"> 10</td>
<td align="left" style="font-family: monospace;">skins/</td>
<td align="right">web designers may create and edit additional skins and layouts here</td>
</tr>
<tr>
<td align="left" style="background-color: #FFFFC2"> 11</td>
<td align="left" style="font-family: monospace;">config/db/</td>
<td align="right">databases and configuration files</td>
</tr>
<tr>
<td align="left" style="background-color: #FFFFC2"> 12</td>
<td align="left" style="font-family: monospace;">config/db/*/</td>
<td align="right">uploaded files (binary large objects) are stored in .blob/. Configuration files use the extension &quot;config&quot;. All data resides in its own respective directories.</td>
</tr>
</table>
<h3>configuration files</h3>
<table border="0" cellpadding="5" cellspacing="0" summary="legend" style="width: 90%;">
<tr>
<td align="left" style="background-color: #FFFFC2; width: 20px;"> 13</td>
<td align="left" style="font-family: monospace;">config/profiles/</td>
<td align="right">settings made in the administration menus</td>
</tr>
<tr>
<td align="left" style="background-color: #FFEBD6"> 14</td>
<td align="left" style="font-family: monospace;">config/_drive.config</td>
<td align="right">path setting for system files</td>
</tr>
<tr>
<td align="left" style="background-color: #D6FFC2"> 15</td>
<td align="left" style="font-family: monospace;">config/dbconfig.php</td>
<td align="right">parameters for your database connection</td>
</tr>
<tr>
<td align="left" style="background-color: #C2EBFF"> 16</td>
<td align="left" style="font-family: monospace;">config/system.config</td>
<td align="right">system configuration</td>
</tr>
</table>
<h1>Copyright and legal issues</h1>
<h2>Licences</h2>
<div class="box" title="Notes on licences">
<p> <b>Note on licences:</b> <br/> The installation package contains software components by different authors.</p>
<p> <b>&quot;Yana Framework for PHP&quot;</b> by Thomas Meyer<br/> This software is published under the <abbr title="GNU is Not Unix (recursive acronym)">GNU</abbr> <abbr title="General Public License">GPL</abbr>. See the license here ( <a href="gpl.txt">gpl.txt</a> ).</p>
<p> <b>&quot;Manual to Yana Framework&quot;</b> by Thomas Meyer<br/> This manual is published under a Creative Commons Attribution License 3.0. See the license here ( <a href="http://creativecommons.org/licenses/by/3.0/">creativecommons.org/licenses/by/3.0</a> ).</p>

<p> <b>&quot;Smarty Template-Engine&quot;</b> by New Digital Group<br/> This software is published under the <abbr title="GNU is Not Unix (recursive acronym)">GNU</abbr> <abbr title="Lesser General Public License">LGPL</abbr>. See the license here( <a href="lgpl.txt">lgpl.txt</a> ).</p>
<p> <b>&quot;PhpConcept Library - Zip Module&quot;</b> by Vincent Blavet<br/> This software is published under the <abbr title="GNU is Not Unix (recursive acronym)">GNU</abbr> <abbr title="Lesser General Public License">LGPL</abbr>. See the license here( <a href="lgpl.txt">lgpl.txt</a> ).</p>
<p> <b>&quot;The DHTML Calendar&quot;</b> by Mihai Bazon<br/> This software is published under the <abbr title="GNU is Not Unix (recursive acronym)">GNU</abbr> <abbr title="Lesser General Public License">LGPL</abbr>. See the license here( <a href="lgpl.txt">lgpl.txt</a> ).</p>
<p> <b>&quot;CKEditor&quot;</b> by Frederico Knabben<br/> This software is published under the <abbr title="GNU is Not Unix (recursive acronym)">GNU</abbr> <abbr title="Lesser General Public License">LGPL</abbr>. See the license here( <a href="lgpl.txt">lgpl.txt</a> ).</p>
<p> <b>&quot;JQuery&quot;</b> by John Resig<br/> This software is published under the <abbr title="Massachusetts Institute of Technology">MIT</abbr>-Licence. See the licence here( <a href="mit.txt">mit.txt</a> ).</p>
</div>
<h2>Summary</h2>
<div class="box" title="Links to license text">
<a target="_blank" href="http://www.gnu.de/documents/gpl.de.html">German translation of the GNU GPL v3</a> (only the English original version is obligatory)</div>
<div class="box" title="Summary">
<ul id="license_summary">
<li id="author">Requires to name the author<br/> You are <i>NOT</i> permitted to remove notes on the author, disclaimers of liability, or the license of the software. Please note: The author decides in which form and how often these notes are to appear - not the user.</li>
<li id="share">Permission to copy and share<br/> You have permission to copy and share the complete software free of charge - even via P2P-networks. Each copy must contain a copy of the licence text and the complete, not encrypted and not shortened source code.</li>
<li id="edit">Permission to change and extend<br/> You have permission to make changes or add extensions to the software, as long as you ensure all requirements of the license are still met (e.g. naming the author). You have to clearly mark all changes introduced by you. Each and every changes or extensions introduced by you will automatically fall to the terms of the GNU GPL and will be Open Source Software as well.</li>
<li id="sell">Permission to use for commercial purposes<br/> You have permission to use the software even for commercial purposes without paying a license fee. You may adapt the software to your or any other third-party's needs and you may even get paid for your work. You may offer your own plug-ins to any third party, and charge them money.</li>
</ul>
</div>
<div class="box" title="Place of jurisdiction and liability">
<p>The place of jurisdiction is the home town of the author.</p>
<p>You are using the software and the included documentation on your own risk. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</p>
</div>
<h2>Participating in this project</h2>
<div class="box" title="Participating in this project">
<p>Every user is able to take an active part in the development of this software. A wishlist for future program features and a page to announce discovered bugs can be found at the forum of the project's web site.</p>
<p>In addition you are invited to contribute by writing translations, add your own plug-ins or skins. This manual provides help on completing the first steps. For further questions and discussions with other users you may use the internet forum at any time.</p>
<p>If you don't have the possibility to take part in the project directly, please consider donating to the project. Server and traffic are expensive, as well as literature and hardware - not the mention the effort put in the work on this software. The project's web site explains several ways how to make your donation.</p>
<p>If you would like to link to our web site from your home page, we would be pleased if you do so.</p>
</div>
<div class="box" title="Author">
<p> <b>Author:</b> Thomas Meyer <br/> <b>Internet:</b> <a href="http://www.yanaframework.net" target="_blank">www.yanaframework.net</a> <br/> <b>Mail:</b> <img alt="" src="data/adress.gif" style="position: relative; top: 3px;" height="13" width="166"/> </p>
</div>
<!-- NEXT CHAPTER -->
<h1>Beginner's Guide</h1>

<h2><a name="install1"></a>Installation</h2>
<h3>automatic installation</h3>
<div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Notice to PHP newbies: </span> This software requires PHP and thus will possibly not run on your local hard disk, but only on the internet. To be able to run this software on your web site your provider needs to support PHP. If in doubt, ask your provider.</div>
<div class="box">
<p style="font-weight: bold;">Please remember to check the <a href="#systemvoraussetzungen">system requirements</a> and <a href="#compatibility">notes on compatibility</a>.</p>
<p>The Yana Framework has a tool, which can accomplish the installation for you.</p>

<div style="font-weight: bold;">Step-by-step instructions</div>
<p>To run the installation program do as follows:</p>
<ol>
<li>Open a connection to your account via your FTP program.</li>
<li>Copy the files &quot;install.php&quot;, &quot;install.pak&quot; and &quot;yana.zip&quot; to a directory on your server</li>
<li>Set the access rights for this directory via your ftp program, so that the script may read and write files. For Unix use CHMOD 777. <span class="verweis"> <a href="#fig5">(see figure)</a> </span></li>
<li>close FTP connection.</li>
<li>Open the file &quot;install.php&quot; in your browser</li>
</ol>
<p>When starting the installation program you should see the following page:</p>
<img alt="" src="data/screen18.png" border="1"/>
<div class="kommentar">Figure: front page of the installation program</div>
<p>Click on &quot;next&quot; to continue</p>
<img alt="" src="data/screen19.png" border="1"/>
<div class="kommentar">Figure: License conditions</div>
<p>Read the license conditions carefully. In order to continue with the installation, you must accept the license conditions. If you do not want to use the program, you can abort the installation by clicking the button below.</p>
<img alt="" src="data/screen20.png" border="1"/>
<div class="kommentar">Figure: perform installation</div>
<p>To accomplish the installation click the button &quot;start installation now&quot;. When you are finished, click &quot;next&quot;.</p>
<img alt="" src="data/screen21.png" border="1"/>
<div class="kommentar">Figure: choose password</div>
<p>On this side you specify a password. With this password you can enter the administration menu of the application. To do so, use the name &quot;administrator&quot;. First please enter the password in the left field. Second please retype the password in the right field, just to ensure you didn't mistype it. Following this please click on &quot;OK&quot;.</p>
<p>A message will be shown that indicates whether or not the operation has been successful. When you are finished, click &quot;next&quot;.</p>
<img alt="" src="data/screen22.png" border="1"/>
<div class="kommentar">Figure: self diagnosis</div>
<p>In order to make sure that the installation was successful, you may want to run the self diagnosis of the program. To do so click on &quot;OK&quot;. Consider the viewed operating instructions.</p>
<p>If you wish additional details to the be printed, mark &quot;more details&quot; and click &quot;OK&quot; again. If you are content with the installation, continue by clicking on &quot;next&quot;.</p>
<img alt="" src="data/screen23.png" border="1"/>
<div class="kommentar">Figure: Finish installation</div>
<p>After completion of the installation the program automatically deletes all temporary files.  If you check the option &quot;run the application now&quot;, the YANA Framework is started automatically.</p>
<p>To end the installation program click on &quot;finish&quot;.</p>
</div>


<h3><a name="adv_installation"></a>manual installation</h3>
<div class="box">
<p>Please remember to check the <a href="#systemvoraussetzungen">system requirements</a> and <a href="#compatibility">notes on compatibility</a>.</p>

<div style="font-weight: bold;">Step-by-step instructions</div>
<ol>
<li>the program files are stored in the archive &quot;yana.zip&quot;. Unpack the files using a ZIP program of your choice.</li>
<li>Open a connection to your account via your FTP program.</li>
<li>Upload all files and directories, belonging to the program, to a folder on your web page and link to the start page &quot;index.php&quot; from some page of your choice on your web site.</li>
<li>Set the access rights for the directories &quot;config/&quot;, &quot;cache/&quot;, the included files AND subdirectories to read and writable for group &quot;public&quot; using your FTP program. For Unix use CHMOD 777. <span class="verweis"> <a href="#fig5">(see figure)</a> </span></li>
<li>close FTP connection.</li>
</ol>
</div>
<h4>Example: Setting access rights</h4>
<div class="box"><a name="fig5"></a> <img alt="Screenshot" src="data/screen07.png" border="0"/>
<div class="kommentar">Figure: WS_FTP LE, Win 2000</div>
<p>In WS-FTP (for example) you can change access rights by right-clicking on the directory names and selecting the option &quot;file attributes&quot; from the context menu. Then check all shown options and click &quot;OK&quot;.</p>
<img alt="Screenshot" src="data/screen46.png" border="0"/>
<div class="kommentar">Figure: FireFTP, Win XP</div>
<p>In FireFTP you can change access rights by right-clicking on the directory names and selecting the option &quot;Properties (incl. contents)&quot; from the context menu. Then check all shown options and click &quot;OK&quot;.</p>
<p>If you are using another FTP program, set the rights via the command <code> CHMOD 777 </code>. If you experience problems finding the &quot;right button&quot;, search the documentation of your program for the keyword &quot;CHMOD&quot;.</p>
</div>
<h2>Configuration</h2>
<h3>open online menu</h3>
<div class="box">
<p>Open in your browser the file &quot;index.php?action=index&quot;, which is stored in the program's main directory.  <br/> You will be asked to log on to the system with your user name and associated password. <span class="verweis"> <a href="#fig6">(see figure)</a> </span>
</p>
<p class="kommentar"><a name="fig6"></a>
<img style="border: 0px none" alt="Login: Administrator Password:" src="data/screen01.png"/><br/>Figure: login - Screenshots: Firefox browser</p>
<p>Enter the text &quot;administrator&quot; as &quot;Login&quot;.</p>
<ol>
<li> If you used the &quot;automatic installation&quot;, you must now enter the password, which you did choose at the time of installation.</li>
<li>Otherwise, leave the &quot;Password&quot; empty this time.</li>
<li>If you have forgotten your password continue reading at the section &quot;<a href="#password">frequently asked questions</a>&quot;.</li>
</ol>
<p>Confirm your entry by clicking on &quot;OK&quot;. Then you may access the administration panel. Please note that JavaScript should be activated in your browser, so that the next page can be displayed correctly. If JavaScript is disabled you may experience that some features are not available. Personally I recommend you use Firefox 1.5 or later to view this page.</p>
</div>
<h3>Choose password</h3>
<div class="box">
<p> The following section describes how to change the password for your login.</p>
<p class="kommentar"><a name="fig7"></a>
<img style="border: 0px none" alt="old password: new password: ********" src="data/screen02.png"/> <br/>Figure: Change Password</p>
<p class="kommentar" title="Tip"> <img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/> <span style="font-weight: bold;"> Tip: </span> To avoid, that someone may guess your password, it should be a minimum of 8 characters in length and contain at least 2 special characters. For example: birthdays, names of persons or animals and terms used in standard dictionaries are easy to guess.</p>
</div>
<div class="box">
<div style="font-weight: bold;">Step-by-step instructions</div>
<ol>
<li>Scroll down to section &quot;change password&quot;.</li>
<li>If you haven't set up a password during installation, you may leave the input filed &quot;old password&quot; empty. <br/> Otherwise, enter your old password here.</li>
<li>Enter the text, you want to use as password, in the field &quot;new password&quot;. <span class="verweis"> <a href="#fig7">(see figure)</a> </span></li>
<li>To make sure you didn't mistype your password, enter the text again at the field labeled &quot;confirm password&quot;.</li>
<li> Click on &quot;save changes&quot;.</li>
<li> Finally, you will be asked to use your new password to login to the system.</li>
</ol>
<p> Write down your new password and keep it safe.</p>
<p class="kommentar" title="Note"> <img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/> <span style="font-weight: bold;"> Note: </span> if the access rights were not set, as described in the &quot;installation&quot; chapter, you will get an error message at this point. In  that case read again, what you need to do and execute the instructions step by step. If required contact your operator.</p>
</div>
<h3>Edit settings</h3>
<div class="box">
<p class="kommentar" title="Note"> <img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/> <span style="font-weight: bold;"> Note: </span> Please understand that not all the options and settings are explained in detail.  The following text will therefore only comment on the most important settings. Where needed follow the references in the program.</p>
<p> If you now want to set up your own settings for your application, please select &quot;page layout Setup&quot; from the options table. On this page you may define the layout of the program. E.g. font size, font color or date format. Colors must be specified as hexadecimal values. If you do not know how to do this, click on the square, colorful button next to the field. This will open a pop-up window, which let's you choose a color.  Please also read the help text on this page for more information.</p>
<p class="kommentar"> <img style="border: 0px none" alt="Menu to set up layout options" src="data/screen03.png"/> <br/>Figure: layout Options</p>
</div>
<div class="box"> <span style="font-weight: bold;">Tips:</span>
<ol>
<li>You may click the button &quot;expert mode&quot; In the administration menu, in order to view advanced options</li>
<li>Click on the small icon with the red / white &quot;i&quot; to get additional information on the current menu</li>
<li>To be able to open or close menus JavaScript has to be enabled</li>
<li> To improve security please remember to click the &quot;Logout&quot; button on the main menu, when you have finished your settings</li>
<li>On the main menu click on the name of a plug-in, a language pack or skin pack to get a description</li>
</ol>
</div>
<!-- NEXT CHAPTER -->
<h1>Advanced User's Guide:</h1>
<div class="box"> <img src="data/icon1.gif" alt="" style="margin-right: 5px; float: left;"/> <span style="font-weight: bold;"> Note: </span> This guide is meant for advanced users.  <br/> If you have problems, please check the section for <a href="#install1">beginners</a>.</div>
<h2><a name="install2"></a>Installation (summary)</h2>
<div class="box">
<p>The installation is done in several steps:</p>
<ol>
<li>Decompression of the archive file. It is important to note that filenames are case-sensitive, and the saved file paths are also be restored.</li>
<li>Transfer the extracted data, taking into account the path structure, to the HTDOCS directory of the Apache Web server Using an appropriate software of your choice. If you can work on the server directly, this is usually either the command line or a file manager. Otherwise, as a rule, it is an FTP client. To get the required settings for the FTP connection, please contact your competent administrator.</li>
<li>Note under Unix or Linux operating systems that access rights for the software are configured correctly. This software requires all included files and directories to be readable. All files with the extension &quot;php&quot; must be executable. In addition, the software requires write permissions for the directories &quot;config /&quot;, &quot;cache /&quot; and all the files and subdirectories.</li>
<li> <a name="install_database"></a> <i>The following steps are required only if a database plug-in is to be used.</i>
<ol>
<li>Setting up a new database, unless an already existing database is to be used. For example this can be done using an appropriate graphical user interface like PHPMyAdmin. If this is not available, you may also use the command line of MySQL with the following line: &quot;CREATE DATABASE yana&quot;. The database may have a different name than those used here. Note that the name is case-sensitive.  For further details on MySQL syntax, I recommend reading the free MySQL manual. <span class="verweis"> <a href="#literatur">(see recommended literature)</a> </span></li>
<li>If no suitable user is available for the database, please add a new user for this purpose.  This user needs access to the database is created and the following rights: SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER. Use the following SQL statement: &quot;GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER ON '&lt;DatabaseName&gt;'.  * TO&quot; &lt;UserName&gt; &quot;@&quot; &lt;Host&gt; &quot;IDENTIFIED BY '&lt;password&gt;'; &quot;. Adjust this instruction if necessary. Replace the name of the particular database user name, password and the address of the database server ( &quot;Host&quot;), if necessary in accordance with your current configuration. Write down this information for later use. Note: If you want, you may revoke the user rights &quot;CREATE&quot;, &quot;ALTER&quot; after successful installation of the database.</li>
</ol>
</li>
</ol>
</div>
<div class="box"> <img src="data/icon1.gif" style="margin: 5px; float: left;" alt=""/> <span style="font-weight: bold;"> Note: </span> This guide aims at users who already have experience in dealing with PHP and HTML, and the creation of scripts on Unix systems. If you find yourself not ready for this, please start with the <a href="#install1">chapter for beginners</a>.</div>
<h2>Configuration</h2>
<div class="box">
<p>The most important steps to configure the application:</p>
<ol>
<li>Open the index page &quot;index.php?action=index&quot; in a JavaScript enabled browser. We recommend the use of Firefox 3 or later. This program is available on various platforms. You may, of course, use a different browser of your choice. This should, however, at least meet with the following requirements: support for HTML 4.1, JavaScript 1.5, DOM Level 2 and CSS 2.1 or later.</li>
<li>Log on to the system. Click the button labeled &quot;Login&quot; and log in using the user name &quot;administrator&quot;. Leave the field &quot;Password&quot; empty. (no password is set yet)</li>
<li>The main menu has two settings: beginner and expert mode. You should switch to the expert mode.  Use the switch at the head of the table.</li>
<li>Above the main menu, you will find a menu bar for profile management.  This allows the creation of new profiles, and the selection of existing profiles. Moreover, you will find a switch to empty the template cache. This causes all stored files in the directory &quot;cache /&quot; to be deleted. This switch can occasionally be useful if the program does not behaving as expected, after changing settings. The main menu itself is divided into 2 columns. In the right column, you find a list of all installed components. These are divided in 3 categories: Plug-ins, skins and language files. In the left column, you will find all the configuration settings for the installed plug-ins. The content of this column will change dynamically depending on what plug-ins or application components have been installed.</li>
<li> <i>The following steps are required only if a database plug-in is to be used.</i>
<ol>
<li>Select &quot;Basic Settings&quot; from the profiles bar, then click on &quot;database setup&quot; in the left column of the menu.</li>
<li>Enter the data necessary for the connection to your database server. You will get this data from your competent administrator, in case you don't already got it. Note the information from the online help. (This is the grey text printed above the entry form.) Then save the changes. Detailed instructions and how to handle errors can be found in chapter <a href="#dbadmin">&quot;plug-in: database administration&quot;</a>.</li>
<li>The required tables are created automatically, and synchronized with existing tables stored in the file system. If you would like to complete the process by hand, please use <a href="#SQLsource">these SQL source files</a>, which are prepared for your DBMS.</li>
</ol>
</li>
<li>Finally, it is advisable to set a password for the user account &quot;administrator&quot;.  For this purpose select &quot;change Password&quot; from the options menu. Enter a new password and then save the changes. Then you have to log in to the system with the new password.</li>
<li>Optionally, it is recommended to set individual settings for the layout of the software. This influences the appearance and behavior of the GUI. The options for editing these settings can be found in the left column of the administration menus. Make sure to consult the provided online help for the software.</li>
<li>If you are happy with your settings, you should for security reasons log out by clicking on the button &quot;Logout&quot;. This will terminate your active session. This prevents potential attacks by a third party using your session ID. (&quot;Session Riding&quot;)</li>
</ol>
</div>
<div class="downloadbox">
<p><a name="SQLsource"></a>SQL source files for manual installation:</p>
<img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left"/>
<ul>
<li> <a href="files/mysql.zip">MySQL</a></li>
<li> <a href="files/postgres.zip">PostgreSQL</a></li>
<li> <a href="files/mssql.zip">MS-SQL Server</a></li>
<li> <a href="files/oracle.zip">Oracle Database
Server</a></li>
<li> <a href="files/db2.zip">IBM DB2</a></li>
</ul>
</div>
<h2>General information</h2>
<div class="box">
<p>The program has a profile administration, which allows, several sets of settings (profiles) to be stored and operated at the same time. First of all, you should choose the default profile and adapt it to your needs. Choose one after the other the &quot;setup&quot; entries from the options menu to edit the settings, which are related to the functions of the program. The administration menu offers a number of different options.</p>
<p class="kommentar"> <img src="data/icon1.gif" alt="" style="margin: 5px; float: left;"/> <span style="font-weight: bold;"> Tip for web communities: </span> For example, if you have several guest books and want one of your books to use very special settings, which differ from the default values, use the field &quot;new profile&quot; in order to create an own profile for this guest book. Enter the ID of the guest book and click &quot;GO&quot;. The options are the same as for the basic settings. Once the settings are saved, the name of the new profile appears in the selection menu of available profiles. This way you can access all saved profiles at any time and edit them.</p>
<p>This program can have any number of users simultaneously using separate instances of the application. It is a multiuser system. For example, if you use the guestbook application, you could assign each user to a separate guest book. <br/> To be able to distinguish between all these guest books, each has a unique <b> <i>ID</i></b> which clearly identifies this book (like giving it a &quot;name&quot;). The id is also available in the URL of the browser as the optional parameter &quot;id&quot;. <br/> You can create multiple <b> <i>profiles</i></b>. A profile is a set of properties that apply to the guest book. There is always 1 profile for exactly 1 guestbook.  <br/> If a guestbook has no own profile, then default values are used. The default values are stored in a separate profile with the name &quot; <i> <b>default settings</b></i> &quot;.</p>
<p>At the administration menu of your application, you will find a list of all profiles, which have been created until now. You can use this option to edit your different profiles, if more than 1 profile exists. A profile is only for the guest book with the appropriate ID. <br/> You may create additional profiles using the option &quot; <b>create new profile</b> &quot;. To create new profiles, you need to have administrator privileges.</p>
<p>The <i>user administration for communities</i> is disabled by default. To enable this option (requires administrator priviliges), select the option &quot;on&quot; next to &quot;user administration, configuration&quot; from the menu &quot;Plugins&quot; in the administration menu.  (&quot;on&quot; is the left of the two switches) then click &quot;Save Changes&quot;. In the left column of the main menu a new menu labeled &quot;user administration&quot; will automatically appear, which allows you to create new users, set passwords and grant or revoke access rights.</p>
</div>
<h2><a name="literatur"></a>for further reading</h2>
<ol class="roman">
<li>MySQL online documentation, http://dev.mysql.com/doc/</li>
<li>Self-PHP, http://www.selfphp.info</li>
<li>Official PHP website, http://www.php.net</li>
<li>PHP Security - Manual
http://www.php.net/manual/en/security.php</li>
</ol>
<!-- NEXT CHAPTER -->
<h1>Frequently Asked Questions</h1>
<h2>I got a problem with the automated installation. How do I install the software manually?</h2>
<div class="box">Please remember to check the <a href="#systemvoraussetzungen">system requirements</a> and read chapter <a href="#adv_installation">&quot;manual installation&quot;</a>.</div>
<h2>What should I do if I run into a problem during configuration of the database connection?</h2>
<div class="box"><p>Please check first whether your connection parameters are correct and the database server is available. You may also want to check the <a href="#compatibility">compatibility notes</a>, as these contain guides and solutions to known problems with some DBMS.</p>
<p>If the connection parameters are correct and there is no problem with the database driver or a version conflict, you may circumvent the problem by trying a manual installation. To do so, read the chapter <a href="#databaseerrorchecklist">trouble shooting</a>.</p></div>
<h2>If I call the file &quot;index.php&quot; in my web browser, only the source code is shown. Why?</h2>
<div class="box">This script requires PHP. If only source code is shown in the browser, PHP might not be supported by your hosting service provider. When in doubt ask your provider.</div>
<h2> <a name="password">Forgotten passwords</a></h2>
<div class="box">If you, as a standard user, have forgotten your password, write an e-mail to your administrator. He can set up a new password for you.</div>
<div class="box">
<p>Administrators do as follows to set a new password:</p>
<ol>
<li>Open the administration menu.</li>
<li>Click the option &quot;user management&quot; / &quot;user overview&quot; to see a list of all users.<p class="kommentar" align="justify"> <img alt="user overview: click here" src="data/screen47.png"/> <br/>Figure: menu &quot;user overview&quot;</p>
</li>
<li>You should now see a list of users. Find the name of the user you want to edit and click on the icon in column &quot;user name&quot;.<p class="kommentar" align="justify"> <img alt="edit user: click here to view details on this user" src="data/screen48.png"/> <br/>Figure: list of all users</p>
</li>
<li>Below these settings you will find the link &quot;lost password&quot;. Click to generate a new password. The new password will be sent to the user via e-mail. So ensure the mail address is correct.<p class="kommentar" align="justify"> <img alt="Edit user: generate new password" src="data/screen14.png"/> <br/>Figure: generate new password</p>
</li>
</ol>
</div>
<div class="box">
<p align="justify"> If you have forgotten your own password, please contact another administrator. If you ARE the ONLY administrator, then no new password can be generated. However it is also possible to reset the old password manually.</p>
<p align="justify"> <b>If the installation works with text files,</b> please connect via FTP to your account, and download the file &quot;config/db/user/user.sml&quot;.  Edit this file and replace the password with the text &quot;UNINITIALIZED&quot;.  Upload the file again, and set the access rights via CHMOD to 777.</p>
<p align="justify"> <b>If the installation works with a database,</b> open a connection to the database by using an appropriate program (for example PHPmyAdmin for MySQL) and edit the table &quot;user&quot; and set password of user &quot;Administrator&quot; to &quot;UNINITIALIZED&quot;.<br/> Alternatively, you can simply execute the following SQL statement.<br/> <code>UPDATE `user` SET user_pwd = 'UNINITIALIZED' WHERE user_id = 'ADMINISTRATOR';</code><br/> (please adapt the quoting for the corresponding DBMS)</p>
<p align="justify">Remember to set a new password afterwards.</p>
</div>
<div class="box">
<p class="kommentar" align="justify"> <b> <img style="width: 30px; height: 30px; float: left;" src="data/icon1.gif" alt="Example" hspace="10" vspace="10"/> Note:</b> This script never stores the password as real text Instead it is encrypted after input. This is an one-way encryption which cannot be reversed. For this reason, it is not possible to retrieve a forgotten password on demand - instead it is always required to create a new one.</p>
</div>
<h2> <a name="icons">Adding own smilies and icons</a></h2>
<div class="box">
<p align="justify">Choose the smilies you want to insert. Please note that these graphics are to be stored in GIF format.</p>
<p align="justify">Copy the files to the directory &quot; <code> common_files/smilies </code> &quot; of the framework.</p>
</div>
<div class="box">
<p align="justify">If you want to use smilies from a directory other than the prescribed, then proceed as follows.</p>
<ol>
<li>Open the administration menu.</li>
<li>Switch to the expert mode.</li>
<li>In the left column of the main menu &quot;options&quot; click on &quot;program setup&quot;.</li>
<li>search for the entry &quot;load smilies from&quot;. <span class="verweis"> <a href="#fig1"> (see figure)</a> </span></li>
<li>Type in the desired directory.</li>
<li>When you are done, click &quot;Save changes&quot;.</li>
</ol>
<p align="justify">If you have multiple profiles, you may need to copy the settings for all other profiles as well.</p>
<p class="kommentar"><a name="fig1"></a>
<img alt="" src="data/screen06.png"/> <br/>Figure: Load icons from another directory</p>
</div>
<h2> <a name="install">Problems with the installation</a></h2>
<div class="box">
<p align="justify">Refer to the section &quot; <a href="#install1">Installation for Beginners</a> &quot;. Since version 2.2 the program has a self-diagnosis mode. If you have finished the installation as described in the manual, you can use it to verify that all files are installed correctly.</p>
<p align="justify">For the self-diagnosis to start, open the URL &quot;index.php?action=test&quot; in your browser program. The program will then begin to create a diagnostic protocol. The self-diagnosis tests important directories and files and reports errors. These are shown as red lines in the protocol. If an error is found, read the error message and follow the instructions.</p>
<p align="justify">The self-diagnosis finds some of the most typical installation errors, but may not discover all kinds of possible problems. If you have installed the program according to instructions and still encounter problems during operation, send an email to<img alt="" src="data/adress.gif" style="position: relative; top: 3px;" height="13" width="166"/>. Don't forget to add the URL and a description of your problem. This offer is available to registered users free of charge.</p>
</div>
<h2> <a name="prefix">Using the database prefix</a></h2>
<div class="box">
<p align="justify">The database setup offers an option labeled &quot;prefix for database&quot; (<a href="#fig2">see figure</a> ). This option is EXPERIMENTAL and serves the only purpose, of running two installations of the YANA Framework on the same server and the same database without having them affect each other. In any situation where this is not needed it is strongly recommend that this option is NOT used, due to it's experimental status.</p>
<p class="kommentar"><a name="fig2"></a>
<img alt="" src="data/screen27.png"/> <br/>Figure: experimental option to set a prefix on a database connection</p>
<p align="justify">A typical application for this option would be if someone is switching from an older to a new version, and therefore wants to temporarily run tow installations for testing purposes, to test the new version in a real environment before making a permanent change.</p>
<p align="justify">If you use a prefix, this also means that the SQL installation files in the directory &quot;config/db/.install&quot; need to be corrected by hand, according to the new table names including the chosen prefix. Only then the database may be installed as usual. The is currently no automatic process available to apply these changes. The PHP source code, however, does not need to be changed.</p>
<p align="justify">If you use your own plug-ins with handwritten SQL statements, you must of course also change the source code there to use the reflect names of the tables. Should you, however, use the database API of the framework, and have your SQL statements generated automatically, then editing these files is not necessary. The framework will correct your SQL at runtime automatically.</p>
<p align="justify">You should schedule 5 to 15 minutes for the conversion of the SQL installation files.</p>
<p align="justify">If this option is used accidentally and you experience problems accessing your data, then you can may reset this option manually. To do this edit the file &quot;config/dbconfig.php&quot; and change the entry at line 9 to: <code> define('YANA_DATABASE_PREFIX',&quot;&quot;); </code> </p>
<p align="justify">Note: in some versions of the application, this feature is intentionally disabled.</p>
</div>
<h2> <a name="sitemap">Disable site map</a></h2>
<div class="box">
<p align="justify">If you don't want to use the site map as the front page for the application, it is possible to replace it with a different page  - for example, the start page of a plug-in of your choice.</p>
<p align="justify">To do this open the file &quot;config/system.config&quot; in any text editor of your choice and change the entry &quot;DEFAULT.HOMEPAGE&quot; as you see fit <a href="#fig3">(see figure)</a>.</p>
<p class="kommentar"><a name="fig3"></a>
<img alt="" src="data/screen39.png"/> <br/>Figure: Changing the front page (default homepage)</p>
<p>The following is a list of suggestions of possible settings:</p>
<ul>
<li> <b>GUESTBOOK_READ_READ</b> (front page for the guestbook)</li>
<li> <b>GET_NEWS</b> (front page for the RSS viewer)</li>
<li> <b>SEARCH_START</b> (front page for the search-plugin)</li>
<li> <b>SITEMAP</b> (site map with a list of available programs)</li>
</ul>
</div>
<h2> <a name="embtag">Formatting entries with EmbTags</a></h2>
<h3>Why not use HTML in web forms?</h3>
<div class="box">
<p>It is not allowed to insert HTML codes via a publicly available form. The risk that a person abuses this offer to insert unwanted content or manipulate the website in an unacceptable way would be too large Among other things, a malicious attacker could, for example insert scripts, which, for example, might be used to commence a &quot;phishing attack&quot; to view visitors a different site content in order to steal passwords of users.</p>
<p>Basically to ban HTML completely is also not useful, because some elements are totally harmless and the readability of text may benefit from their use. This requires a compromise.</p>
<div>There are two possibilities:<ol>
<li>&quot;Black Listing&quot; prohibits certain elements, which are considered dangerous, but allows all other elements.</li>
<li>&quot;White listing,&quot; allows certain elements, which are considered harmless, but prohibits all other elements.</li>
</ol>Both methods have exactly opposite advantages and disadvantages:<ul>
<li>&quot;Black Listing&quot; has the advantage of greater freedom in the use of HTML, however, to the detriment of safety.</li>
<li>&quot;White listing&quot; has the advantage of a higher level of security, but to the detriment of the freedom in the use of HTML.</li>
</ul>Since the security of the applications of this framework have a greater relevance than the freedom to use HTML, the &quot;whitelist&quot; approach is used.</div>
<p> This program works, as just described, as well as most other programs on the <abbr title="World Wide Web">WWW</abbr> with a &quot;Whitelist&quot;. That is, some harmless tags are allowed. All other tags are not allowed and will be automatically removed.</p>
<p>For example: <code style="display: block;">[b]this is bold text[/b]</code>  This code is easily controllable and may be converted to clean HTML later: <code style="display: block;">&lt;b&gt;this is bold text&lt;/b&gt;</code>  An abuse is no longer possible..</p>
<p>As a side effect, these simple tags are much easier to understand than pure HTML. This makes it easier for beginners to write new entries.</p>
</div>
<h3>What formatting options are there?</h3>
<div class="box">
<table class="syntax">
<thead> <tr>
<th> Icon </th>
<th> Tags </th>
<th>Description</th>
<th>Example</th>
<th>Output</th>
</tr>
</thead> <tbody>
<tr>
<td> <img alt="[b]" src="data/bold.gif"/></td>
<td> [b]</td>
<td>bold text format</td>
<td>[b]bold text[/b]</td>
<td> <span style="font-weight: bold;">bold text</span></td>
</tr>
<tr>
<td> <img alt="[i]" src="data/italic.gif"/></td>
<td> [i]</td>
<td>italic text format</td>
<td>[i]italic text[/i]</td>
<td> <span style="font-style: italic;">italic text</span></td>
</tr>
<tr>
<td> <img alt="[u]" src="data/underline.gif"/></td>
<td> [u]</td>
<td>underline text</td>
<td>[u]underline text[/u]</td>
<td> <span style="text-decoration: underline;">underline text</span></td>
</tr>
<tr>
<td> <img alt="[code]" src="data/code.gif"/></td>
<td> [code]</td>
<td>insert source code<br/> (code is not executed, but formatted as text)</td>
<td> [code]Text[/code]</td>
<td> <code style="white-space: pre;">Text</code>
</td>
</tr>
<tr>
<td> <img alt="[php]" src="data/emb_php.gif"/></td>
<td> [php]</td>
<td>insert PHP code<br/> (code is not executed, but formatted as text)</td>
<td>[php]print 'Hello World';[/php]</td>
<td>
<pre class="box">&lt;?php
print 'Hello World';
?&gt;

</pre>
</td>
</tr>
<tr>
<td> <img alt="[color]" src="data/color.gif"/></td>
<td>[color]
</td>
<td>set a text color</td>
<td>[color=red]Text[/color]

</td>
<td> <span style="color: rgb(255, 0, 0);">
Text </span></td>
</tr>
<tr>
<td> <img alt="[mark]" src="data/mark.gif"/></td>
<td>[mark]

</td>
<td>set background color</td>
<td> [mark=yellow]Text[/mark]</td>
<td> <span style="background-color: rgb(255, 255, 0);">
Text </span></td>
</tr>
<tr>
<td> <img alt="[url]" src="data/url.gif"/></td>
<td> [url]</td>
<td>inset hyperlink</td>
<td> [url]www.yanaframework.net[/url]</td>
<td> <a href="http://www.yanaframework.net" target="_blank">www.yanaframework.net</a></td>
</tr>
<tr>
<td> <img alt="[mail]" src="data/mailto.gif"/></td>
<td> [mail]</td>
<td>insert mail address</td>
<td> [mail]mail@domain.tld[/mail]</td>
<td> <a href="mailto:mail@domain.tld">mail@domain.tld</a></td>
</tr>
<tr>
<td> <img alt="[img]" src="data/image.gif"/></td>
<td> [img]</td>
<td>insert graphic <a href="#sub_1">*</a></td>
<td> [img]domain.tld/img/image.gif[/img]</td>
<td> <img alt="[img]" src="data/image.gif"/></td>
</tr>
<tr>
<td> <img alt="[emp]" src="data/emphasize.gif"/></td>
<td> [emp]</td>
<td>emphasize text</td>
<td> [emp]Text[/emp]</td>
<td> <span class="EMPHASIZE"> Text </span></td>
</tr>
<tr>
<td> <img alt="[header]" src="data/header.gif"/></td>
<td> [h]</td>
<td>insert header</td>
<td>[h]header[/h]</td>
<td>
<div class="HIGHLIGHT">header</div>
</td>
</tr>
<tr>
<td> <img alt="[small]" src="data/emb_small.gif"/></td>
<td> [small]</td>
<td>reduce font size</td>
<td>[small]small text[/small]</td>
<td> <span style="font-size: small;">small text</span></td>
</tr>
<tr>
<td> <img alt="[big]" src="data/emb_big.gif"/></td>
<td> [big]</td>
<td>increase font size</td>
<td>[big]big text[/big]</td>
<td> <span style="font-size: large;">big text</span></td>
</tr>
<tr>
<td> <img alt="[c]" src="data/emb_c.gif"/></td>
<td> [c]</td>
<td>insert comment <br/> (e.g. for writing signatures)</td>
<td>[c]comment[/c]</td>
<td>
<div class="kommentar">comment</div>
</td>
</tr>
<tr>
<td> <img alt="[hide]" src="data/emb_hide.gif"/></td>
<td> [hide]</td>
<td>hide a text, till the users moves the mouse over it</td>
<td>[hide]this is a secret[/hide]</td>
<td>
<div style="border: 1px solid rgb(85, 85, 85); padding: 5px; background-color: rgb(204, 204, 204); color: rgb(204, 204, 204);" onmouseover="this.style.backgroundColor='#F0F0F0'; this.style.color='#333333'" onmouseout="this.style.backgroundColor='#CCCCCC'; this.style.color='#CCCCCC'">this is a secret</div>
</td>
</tr>
<tr>
<td> <img alt="[wbr]" src="data/emb_wbr.gif"/></td>
<td> [wbr]</td>
<td>allow line break within a word</td>
<td>ship[wbr]yard-[wbr]employee</td>
<td>shipyard- <br/> employee</td>
</tr>
<tr>
<td> <img alt="[br]" src="data/emb_br.gif"/></td>
<td> [br]</td>
<td>force line break</td>
<td>ship-[br]yard-[br]employee</td>
<td>ship- <br/> yard- <br/> employee</td>
</tr>
</tbody>
</table>
<p> <a name="sub_1">*</a> YANA prevents attacks on your site through cross-site scripting (XSS), because it only the inclusion of graphics from the local server within the directory of the framework is permitted.  The file must also have the file extensions &quot;jpeg&quot;, &quot;jpg, png&quot;, or &quot;gif&quot;. Special characters are not allowed, which will prevent an attacker to conceal the true URL of a file by the skillful use of escape sequences, to try to sneak by the protection of the framework. <br/> <br/> The tag [img] is useful for community sites, where users can upload their own graphics files on the server.</p>
</div>
<h3>Using your own tags</h3>
<div class="box">
<p class="kommentar" align="justify"> <b> <img style="float: left;" src="data/icon2.gif" alt="Example" hspace="10" vspace="10"/> Warning:</b> Incorrect settings may by chance prevent the program from running properly. Therefore never perform such changes in a productive environment. Instead check your settings first in a test environment.</p>
</div>
<div class="box">
<p>It is possible to set up individual tags for each website profile. Proceed as follows.</p>
<ol>
<li>Open the directory  &quot;config/profiles&quot;</li>
<li>Select the profile that you want to edit (for example, &quot;default.config&quot;), and open this file in a text editor of your choice</li>
<li>Fill the container &quot;PROFILES&quot; as follows.<div style="margin-top: 10px;">Explanation of the syntax:<pre class="box"><span style="font-family: Courier New; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br/> ...<br/> &lt;</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br/> &lt;tagname&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;value of attribute &quot;title&quot;&lt;/</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;label&lt;/</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;image of the button, that inserts the tag/</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<i>optional</i> regular expression to transform to HTML&lt;/</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<br/> (default value = /\[$tagname\](.*)(?:\[\/$tagname\]|$)/Us)<br/> &lt;</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;<i>optional</i> replacement string to convert to HTML&lt;/2&gt;<br/> (default = &amp;lt;span class=&quot;embtag_tag_{tagname}&quot;&amp;gt;$1&amp;lt;/span&amp;gt;)<br/> &lt;/tagname&gt;<br/> &lt;/</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br/>&lt;/</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br/></span></span></pre>
</div>
<div style="margin-top: 10px;">See the following example for the tag &quot;bold&quot;:<pre class="box"><span style="font-family: Courier New; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br/> ...<br/> &lt;</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br/> &lt;bold&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;insert bold text&lt;/</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;bold text&lt;/</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-string">%SKINDIR%</span><span class="mygeneral1-symbol">/default/styles/tags/b.gif&lt;/</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;/\[bold\](.*)\[\/bold\]/Us&lt;/</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<br/> &lt;</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;&amp;lt;b&amp;gt;$</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&amp;lt;/b&amp;gt;&lt;/</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;<br/> &lt;/bold&gt;<br/> &lt;/</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br/>&lt;/</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br/></span></span></pre>
</div>
</li>
<li>Save your changes.</li>
<li>Try to use your new tags in a form</li>
</ol>
</div>
<div class="box">
<p class="kommentar" align="justify"> <b> <img style="float: left;" src="data/icon1.gif" alt="Example" hspace="10" vspace="10"/> Note:</b> If you remove a tag, it is no longer viewed as HTML as well. This includes such data, that has had this tag earlier. Also be sure not to remove or replace the original tags.</p>
</div>
<h2>My question is still non answered - what am I to do?</h2>
<p>Take your question to the internet forum at <a target="_blank" href="http://yanaframework.net/forum/">yanaframework.net/forum</a>. This offer is free of charge. Please understand, that there is no guarantee that unsolicited e-mail is handled. Please respect, that requests by known donators, who engage in the further development of this project, may be answered faster than normal mail.</p>
<!-- NEXT CHAPTER -->
<h1>Extensions</h1>
<h2>How to use the administration panel</h2>
<div class="box">
<p>To open the administration panel, do as follows:</p>
<ol><li><p>Click the link &quot;administration panel&quot;. I can be found at the bottom of every page.</p>
<p class="kommentar">
<img style="border: 0px none" alt="Link: administration panel" src="data/screen50.png"/><br/>Figure: position of link &quot;administration panel&quot;</p>
</li>
<li><p>You will be asked to log on to the system with your user name and associated password.</p>
<p class="kommentar">
<img style="border: 0px none" alt="Login: Administrator Password:" src="data/screen01.png"/><br/>Figure: login - Screenshots: Firefox browser</p>
<p>Enter the text &quot;administrator&quot; as &quot;Login&quot;.</p>
<p>If you have forgotten your password continue reading at the section &quot;<a href="#password">frequently asked questions</a>&quot;.</p>
<p>Confirm your entry by clicking on &quot;OK&quot;. Then you may access the administration panel. Please note that JavaScript should be activated in your browser, so that the next page can be displayed correctly. If JavaScript is disabled you may experience that some features are not available. Personally I recommend you use Firefox 1.5 or later to view this page.</p>
</li>
</ol>
</div>
<div class="box">
<p>The administration panel comes in two flavors: basic and expert mode. Some options are only visible in expert mode. To switch from basic to expert, click the link &quot;switch to expert mode&quot;.</p>
<p class="kommentar">
<img style="border: 0px none" alt="Link: switch to expert mode" src="data/screen51.png"/><br/>Figure: Position of link to switch between configuration modes</p>
</div>
<h3>Settings in basic mode</h3>
<div class="box">
<p class="kommentar">
<img style="border: 0px none" alt="administration panel in basic mode" src="data/screen52.png"/><br/>Figure: administration panel's options in basic mode</p>
<p>Note: Installed plug-ins may only be activated or deactivated in expert mode.</p>
</div>
<h3>Settings in expert mode</h3>
<div class="box">
<p class="kommentar">
<img style="border: 0px none" alt="administration panel in expert mode" src="data/screen53.png"/><br/>Figure: administration panel's options in expert mode</p>
</div>
<h2>Install skins</h2>
<h3>Instructions</h3>
<p>A &quot;Skin&quot; is a package of template pages and graphics. This package changes the appearance of the user interface, the &quot;look &amp; feel&quot; of your application.</p>
<div class="box">
<p class="kommentar" align="justify"> <img src="data/icon2.gif" style="margin: 5px; float: left;" alt=""/>
<span style="font-weight: bold;"> Attention! </span> Packages may not include executable files or PHP files. Take care of this before you proceed with the installation.</p>
<div class="kommentar" align="justify">Following files and directories may be included in a package.<ul>
<li>&quot;skins/name.config&quot;</li>
<li>&quot;skins/name/&lt;html-templates&gt;&quot;</li>
<li>&quot;skins/name/data/&lt;graphics&gt;&quot;</li>
</ul>
</div>
</div>
<p>To install an archive you got from the internet, do as follows:</p>
<ol>
<li>Unpack the archive, which contains the plug-in to the skin directory of the application. (Default: &quot;skins/&quot;)</li>
<li>Then, upload your changes to the Internet with your FTP program.</li>
<li>Open your administration menu. Make sure you are logged in as the administrator and the expert mode is enabled.</li>
<li>In the right column, you should be able to read the name of the package in the section &quot;installed skins&quot;.</li>
<li>Select the desired package by clicking the radio button (round button), next to the name.  <span class="verweis"> <a href="#fig9">(see figure)</a> </span></li>
<li>When you are done, click &quot;Save changes&quot;.</li>
</ol>
<p class="kommentar"> <a name="fig9"></a>
<img style="border: 0px solid rgb(255, 255, 255);" alt="Choose a skin" src="data/screen05.png"/> <br/>Figure: Choosing a skin (administrator's menu / expert-mode)</p>
<p>The changes will take effect, the next time you start the program. If the settings do not apply as expected, flush the server's cache by clicking the button in the administrator's menu and try again.</p>
<h3>Troubleshooting</h3>
<ol>
<li>If you are not able to see a menu &quot;installed skins&quot;, the probably the expert mode is not activated</li>
<li>If you can't activate the expert mode, check whether the access rights have correctly been set during the installation of the program. Maybe a profile file in the directory &quot;config/profiles&quot; is write-protected.</li>
<li>If you see the menu, but not the radio button, you do not have sufficient rights for the installation. Ask an administrator to install it for you.</li>
</ol>
<h2>Install plug-ins</h2>
<h3>Instructions</h3>
<p>Plug-ins extend your application to include new functions.</p>
<p>To install an archive you got from the internet, do as follows:</p>
<ol>
<li>Unpack the archive, which contains the plug-in to the directory &quot;plugins/&quot; of the application. Be careful not to overwrite files, unless you are in the process of updating a plug-in to a newer version.</li>
<li>Then, upload your changes to the Internet with your FTP program.</li>
<li>Open your administration menu. Make sure you are logged in as the administrator and the expert mode is enabled.</li>
<li>In the right column, section &quot;plugins&quot;, click on &quot;refresh list.&quot; <span class="verweis"> <a href="#fig10">(see figure)</a> </span></li>
<li>The new plug-in will now appear in the list Activate it by clicking the check box next to it's name, so a little check mark appears.</li>
<li>When you are done, click &quot;Save changes&quot;.</li>
<li>Some plug-ins have additional options. These options will appear automatically after activation.</li>
</ol>
<p>To the deactivate the plug-in at a later stage, repeat the procedure and remove the check mark next to the name of the plug-in.</p>
<p class="kommentar"> <a name="fig10"></a>
<img style="border: 0px solid rgb(255, 255, 255);" alt="List of available plug-ins" src="data/screen08.png"/><br/>Figure: install new plug-in</p>
<p>The changes will take effect, the next time you start the program.</p>
<h3>Troubleshooting</h3>
<ol>
<li>If you are not able to see a menu &quot;plugins&quot;, then probably the expert mode is not activated</li>
<li>If you can't activate the expert mode, check whether the access rights have correctly been set during the installation of the program. Maybe a profile file in the directory &quot;config/profiles&quot; is write-protected.</li>
<li>If you see the menu, but not the check boxes, you do not have sufficient rights for the installation. Ask an administrator to install it for you.</li>
</ol>
<h2>Install language packs</h2>
<h3>Instructions</h3>
<p>Language packs contain translated text messages of the application for various languages. For example German or English.</p>
<p>After installation of a new plug-in you might need to update an installed language pack. For example, if new text messages were added with the release.</p>
<div class="box">
<p class="kommentar" align="justify"> <img src="data/icon2.gif" style="margin: 5px; float: left;" alt=""/>
<span style="font-weight: bold;"> Attention! </span> Packages may not include executable files or PHP files. Take care of this before you proceed with the installation.</p>
<div class="kommentar" align="justify">Following files and directories may be included in a package.<ul>
<li>&quot;languages/name.config&quot;</li>
<li>&quot;languages/name/*.config&quot;</li>
<li>&quot;languages/name/*/&lt;graphics + HTML&gt;&quot;</li>
</ul>
</div>
</div>
<p>To install an archive you got from the internet, do as follows:</p>
<ol>
<li>Unpack the archive, which contains the language pack in the directory &quot;languages/&quot; of the application. Be careful not to overwrite files, unless you are in the process of updating a package to a newer version.</li>
<li>Then, upload your changes to the Internet with your FTP program.</li>
<li>A list of all installed language packs can be found in the administration menu <span class="verweis"><a href="#fig11">(see figure)</a></span>.</li>
</ol>
<p class="kommentar"> <a name="fig11"></a>
<img style="border: 0px none" alt="choosing a language package" src="data/screen09.png"/><br/>Figure: install new language file</p>
<p>The changes will take effect, the next time you start the program.</p>
<h3>Troubleshooting</h3>
<ol>
<li>If you are not able to see a menu &quot;installed skins&quot;, the probably the expert mode is not activated</li>
<li>If you can't activate the expert mode, check whether the access rights have correctly been set during the installation of the program. Maybe a profile file in the directory &quot;config/profiles&quot; is write-protected.</li>
<li>If you see the menu, but not the radio button, you do not have sufficient rights for the installation. Ask an administrator to install it for you.</li>
</ol>
<h2>Plug-in: Guestbook</h2>
<h3>General introduction</h3>
<div class="box">
<p>This plug-in enables you to add a guestbook to your web site. Using this software, your visitors may leave messages for you. These messages are visible to you and other visitors. The software automatically informs you on new entries by sending you an e-mail. In addition the latest messages are also available as RSS-feed.</p>
</div>
<div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Notice to PHP newbies: </span> This software requires PHP and thus will possibly not run on your local hard disk, but only on the internet. To be able to run this software on your web site your provider needs to support PHP. If in doubt, ask your provider.</div>
<h3> <a name="plugin_install">install plugin</a></h3>
<div class="box">
<p>Guestbook entries may be stored <span style="font-weight: bold;">optionally as text files or in a database</span>.</p>
<p align="justify">To be able to run this script you need webspace with support for PHP and FTP access. In addition a FTP client is needed to upload files. To use a database to save entries you need to have the PEAR-DB library installed.</p>
<p>Step-by-step guide:</p>
<ol>
<li>Open the index page &quot;index.php?action=index&quot; in a JavaScript enabled browser.</li>
<li>Log on to the system. After installation the login data is: user name=&quot;Administrator&quot;, password=&quot;&quot;. If you already specified a password during the installation, please use this.</li>
<li>The main menu has two settings: beginner and expert mode. The main menu has two settings: Beginner and expert mode. In the right column, you find a list of all installed components. These are divided in 3 categories: Plug-ins, skins and language files. In the left column, you will find all the configuration settings for the installed plug-ins.</li>
<li>Click the button &quot;reload list&quot; to reload the list of installed plug-ins. <span class="verweis"> <a href="#fig12"> (see figure)</a> </span></li>
<li>Enable (if available) the plug-ins &quot;Database Administration&quot;, &quot;Guestbook&quot; and &quot;Guestbook setup.&quot; Then save your changes.</li>
<li>After finishing the installation successfully an entry labeled &quot;Guestbook&quot; will appear on the application's site map.</li>
</ol>
<p class="kommentar"> <a name="fig12"></a>
<img alt="" src="data/screen08.png"/><br/>Figure: Installing new plug-ins</p>
</div>
<h3><a name="database_install"></a>install database (optional)</h3>
<div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Note: </span> The following steps are required only if, entries are to be saved in a database, rather than a text file.<br/> For a guide to create a new database, see &quot; <a href="#install_database"> Instructions for advanced users: Installation.&quot;</a> &quot;.</div>
<div class="box">
<ol>
<li>The option &quot;database&quot; offers application specific settings, which apply to all profiles simultaneously and can't be set for each profile separately. Therefore, this option is only available with the pseudo profile &quot;basic settings&quot;<br/> Select &quot;Basic Settings&quot; from the profiles bar, then click on &quot;database setup&quot; in the left column of the menu.</li>
<li>Enter the data necessary for the connection to your database server. You will get this data from your competent administrator, in case you don't already got it. Note the information from the online help. (This is the grey text printed above the entry form.) Then save the changes. The required tables are created automatically, and synchronized with existing tables stored in the file system. Attention! If this process should fail because of an early timeout, repeat the process until it is completed. This is important, because otherwise you may have no access to the database or the stored data may be inconsistent.</li>
<li>If you would like to complete the process by hand, please use <a href="#SQLsource2">these SQL source files</a>, which are prepared for your DBMS.</li>
</ol>
</div>
<div class="box">
<p><a name="SQLsource2"></a>SQL source files for manual installation:</p>
<img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left"/>
<ul>
<li> <a href="files/mysql.zip">MySQL</a></li>
<li> <a href="files/postgres.zip">PostgreSQL</a></li>
<li> <a href="files/mssql.zip">MS-SQL Server</a></li>
<li> <a href="files/oracle.zip">Oracle Database
Server</a></li>
<li> <a href="files/db2.zip">IBM DB2</a></li>
</ul>
</div>
<h3>Basic settings</h3>
<div class="box">
<p> <a name="fig13"></a> <img alt="Basic settings" src="data/screen10.png"/>
<br/>
<span class="kommentar">Figure: Choosing the profile &quot;Basic settings&quot;</span> </p>
<p>These settings automatically apply to all profiles, unless a profile overwrites these basic settings. In addition they apply to all newly created profiles. Caution: Some plug-ins may have options, either which are only visible in the basic settings, or which are visible everywhere EXCEPT in the basic settings.</p>
<p class="kommentar" align="justify"> <img style="width: 15px; height: 15px; float: left;" src="data/icon3.gif" alt="? " hspace="5"/> <span style="font-weight: bold;"> Note: </span> Basic settings are meant to be &quot;Default values&quot;, that automatically apply to all books, unless overwritten.</p>
</div>
<h3>E. mail notifications</h3>
<div class="box">
<p>In the administrator's menu click &quot;Guestbook Setup&quot;. In the section &quot;E. mail notifications&quot; you can choose whether you are to be informed on new entries automatically by e-mail. This option is disabled by default. To activate it, click on the button with the text &quot;activate&quot; and enter your e-mail address in the box &quot;send mail to&quot;. <span class="verweis"> <a href="#fig8">(see figure)</a> </span>
</p>
<p>In order to save your changes, click on &quot;Save changes&quot;, or click on &quot;Abort&quot; to return to the administration menu without changes.</p>
<p class="kommentar"> <a name="fig8"></a>
<img style="border: 0px none" alt="edit e-mail notification settings" src="data/screen04.png"/> <br/>Figure: edit basic settings</p>
</div>
<h3>Multiple guestbooks</h3>
<div class="box">
<p align="justify">The program usually sets up new guests books when needed. When doing this, basic settings are used, which apply to all books equally (see above) If you want a guest book to use very special profile of settings, which differ from the basic settings of all the other guestbooks, then you can use this option.</p>
<ol>
<li>Open the administration menu.</li>
<li>In the profile administration section select &quot;new profile&quot;. Choose a suitable name for the profile, enter it in the input field and then save your entry. The profile is then selected automatically.</li>
<li>To change the settings of the just created profile, select in the left column &quot;Options&quot; the menu &quot;Guestbook Setup&quot;.</li>
<li>You will now see a page with various settings that you can change. Once you click the &quot;save changes&quot; button, the settings of your new profile will be saved.</li>
</ol>
<p align="justify">Link to your new guestbook like this:</p>
<p align="justify"> <code>index.php?id=FOO&amp;action=guestbook_read_read
</code></p>
<p align="justify">Where instead of FOO you enter your guestbook's name.</p>
</div>
<h3>Multiple layouts for the same guestbook</h3>
<div class="box">
<ol>
<li>Open the administration menu. Ensure you are logged in as administrator and you are using the expert mode.</li>
<li>Open the option &quot;program setup&quot;.</li>
<li>Within the section &quot;data source&quot; there is an entry labeled &quot;get data from&quot;. There enter the name of the profile, which the layout refers to. For example: If you want to use the layout for the guestbook with the id &quot;default&quot;, then write: &quot; <code> default </code> &quot;.  <span class="verweis"> <a href="#fig14"> (see figure)</a> </span></li>
</ol>
<p class="kommentar" align="justify"><a name="fig14"></a> <img alt="Using data from another profile" src="data/screen11.png"/>
<br/>Figure: Using data from another profile</p>
<p align="justify">Do the same for any other layouts you want to create.</p>
<p align="justify">Link to a layout as you would do with a real guest book:</p>
<p align="justify"> <code>index.php?id=FOO&amp;action=guestbook_read_read</code>
</p>
<p align="justify">Where instead of FOO you enter your layout's name.</p>
</div>
<h3>Protection from unwanted advertisements</h3>
<div class="box">
<p>To protect you guestbook from being flooded with unwanted advertisement there are several security options included. Via the menu &quot;Guestbook Setup&quot; you may restrict the number of entries per person to a number of your choice.</p>
<p class="kommentar"> <img alt="Spam protection" src="data/screen12.png"/> <br/>Figure: Spam protection</p>
<ol>
<li>Open the administration menu. Ensure you are logged in as administrator and you are using the expert mode.</li>
<li>Open the option &quot;Guestbook Setup&quot;.</li>
<li>Scroll down to section &quot;Spam protection&quot;. Here you can restrict the number of consecutive entries a person may write to a certain number.</li>
</ol>
<p>Additional security settings can be made by using the plug-in &quot;Anti-Spam&quot;. These can be edited by using the menu option &quot;Anti-Spam Setup&quot;.</p>
</div>
<h3> <a name="token_gb">List of important data fields for the interested developer</a></h3>
<div class="box">
<p>To see the full list, insert new fields, or delete old fields, open the appropriate structure file &quot;config/db/guestbook.config&quot;.</p>
<table class="syntax">
<thead> <tr>
<th>Column</th>
<th>Type</th>
<th>Mandatory</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> GUESTBOOK_ID</td>
<td> integer</td>
<td>yes</td>
<td> &lt;auto increment&gt;</td>
<td>Primary key</td>
</tr>
<tr>
<td> PROFILE_ID</td>
<td> string</td>
<td>no</td>
<td> default</td>
<td>Foreign key to the appropriate profile.</td>
</tr>
<tr>
<td> GUESTBOOK_IP</td>
<td> string</td>
<td>no</td>
<td> &lt;remote address&gt;</td>
<td>IP of the author of the current entry</td>
</tr>
<tr>
<td> GUESTBOOK_NAME</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Name of the author</td>
</tr>
<tr>
<td> GUESTBOOK_MESSAGE</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>message text</td>
</tr>
<tr>
<td> GUESTBOOK_MAIL</td>
<td> string</td>
<td>no</td>
<td> null</td>
<td>Mail address of the author of an entry.</td>
</tr>
<tr>
<td> GUESTBOOK_DATE</td>
<td> integer</td>
<td>yes</td>
<td> &lt;current timestamp&gt;</td>
<td>Date of creation.</td>
</tr>
<tr>
<td> GUESTBOOK_COMMENT</td>
<td> string</td>
<td>no</td>
<td> null</td>
<td>Commentary by the webmaster (if any).</td>
</tr>
</tbody>
</table>
</div>
<h2>Plugin: Anti-Spam</h2>
<h3>General introduction</h3>
<div class="box">
<p>This plug-in provides protection from unwanted advertisements This protection automatically applies to all installed plug-ins. For configuration an additional &quot;setup&quot;-plug-in is required. This adds the option &quot;Anti-Spam Setup&quot; to the administrator's menu. This menu enables you to set up the configuration for this plug-in.<br/>
</p>
</div>
<h3>Configurations</h3>
<div class="box"><br/>
<p>The edit the configuration, do as follows.</p>
<ol>
<li>Open the administration menu.</li>
<li>Open the option &quot;Anti-Spam Setup&quot;.</li>
<li>Here you may activate a so-called &quot;CAPTCHA&quot;. This option display a graphic with a text, which the user must retype in order to be allowed to submit a new entry. <span class="verweis"> <a href="#fig15"> (see figure)</a> </span> To be able to use the &quot;CAPTCHA&quot;, the PHP GD library needs to be installed and support for PNG needs to be activated. This should already been done for any current standard installation of PHP. If for some reason this is not the case for your copy, please request your administrator to install the missing library. For most providers this shouldn't be much of a problem.<br/>
<p class="kommentar"> <img alt="Anti-Spam Setup" src="data/screen42.png"/>
<br/>Figure: Anti-Spam Setup</p>
</li>
<li>Choose at minimum security level &quot;medium&quot; if you want to use the CAPTCHA.<br/> The <a href="#fig15">following figure</a> shows a CAPTCHA on the example of the guestbook plug-in.</li>
<li>You may choose level &quot;user defined&quot; to if you wish to set up the configuration yourself.</li>
</ol>
<p class="kommentar"><a name="fig15"></a>
<img alt="Display of the CAPTCHA in an application" src="data/screen13.png"/><br/>Display of the CAPTCHA in an application Here: guestbook plug-in</p>
<ol class="roman">
<li>CAPTCHA is an abbreviation for &quot;Completely Automated Public Turing test to tell Computers and Humans Apart&quot;</li>
</ol>
</div>
<h2>Plug-in: DB administration</h2>
<h3><a name="dbadmin"></a>General introduction</h3>
<div class="box">
<p>This plug-in enables you to edit the connection settings for your database. Furthermore it allows you to install table, transfer required data and create backups.</p>
</div>
<h3>Setting a database connection</h3>
<div class="box"><p class="kommentar"><a name="fig54"></a>
<img alt="form" src="data/screen54.png"/><br/>Figure: database connection settings</p>
<p>Set the option &quot;use database&quot; to the value &quot;yes&quot;, to use the database connection with the given values. The installation of the database is automatically implemented. Only in the event of an error, you need to manually intervene.</p>
<div>Upon activation of the database the following actions are carried out automatically:</div>
<ol>
<li>test of connection parameters</li>
<li>open a connection to the database</li>
<li>install all required tables</li>
<li>copy all data from file system to database</li>
</ol>
<p>Should any of these steps result in an error, the connection is not activated and an error message is shown. A detailed description of the error can be found in the error log. Please note that logging must have been activated at this point (see chapter <a href="#logging">&quot;logging and error messages&quot;</a>).</p>
</div>
<h3><a name="databaseerrorchecklist"></a>Troubleshooting</h3>
<div class="box">
<p>In case of an error, you may also complete the steps manually, which usually would be carried out automatically during activation of the database connection. To do so, proceed as follows.</p>
<ol>
<li>Check you connection settings for errors. Continue, if you are sure, that they are correct.</li>
<li>Enter the connection parameters for your database and save your changes. Leave the option &quot;use database&quot; unchanged to the value &quot;no&quot;.</li>
<li>Select the option &quot;install databases&quot;. Try to execute this action be clicking on &quot;submit&quot; <a href="#fig55">(see figure)</a>. If this is successful, continue to the next step.<br/> In case of an error, please use another program to check, whether the tables already exist. If so, please drop those tables and try again.<br/> If the tables don't exist, use another program and try to install the tables. The sources can be found in chapter <a href="#SQLsource">&quot;Advanced User's Guide&quot; / &quot;Configuration&quot;</a>. If this is successful, check your connection settings again.</li>
<li>Select the option &quot;synchronize databases&quot;. At first, only try to synchronize the database &quot;user&quot;. Deactivate all other options. Then try to synchronize the other databases <a href="#fig56">(see figure)</a>. If any of these steps result in an error, the reason might be a data error. You may then decide to waive this data. If this can't be done, you have the opportunity to whether manually copy the data to the target database, or fix the data in the source database.<br/> The source data can be found in text files within the directory &quot;config/db/name&quot;, where &quot;name&quot; stands for the name of the database. This option is only recommended to experienced users.</li>
<li>If the above steps have been successful, then select the option &quot;setup connection to your database&quot;. Make sure that you enabled the expert mode at the administration panel. Set the option &quot;use database&quot; to the value &quot;yes&quot;. Deactivate the options &quot;create tables automatically&quot; and &quot;copy table rows&quot;. These options are only visible in expert mode. Then, click on &quot;submit&quot; <a href="#fig54">(see figure)</a>.</li>
</ol>
<p>Please also note the <a href="#compatibility">compatibility notes</a>!</p>
</div>
<h3>install databases</h3>
<div class="box">
<p class="kommentar" title="Note">
<img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Note: </span> This step is executed automatically, when a database connection is activated. The form shown here is meant to be used for manual intervention in case of an error.</p>
<p class="kommentar"><a name="fig55"></a>
<img alt="form" src="data/screen55.png"/><br/>Figure: form to install tables</p>
<p>This step will try to create the tables belonging to the chosen databases on the database server. Therefore it will try to import sql files, appropriate to chosen type of database. These requires prior proper set up of a connection to the database. You should however not yet activate this connection before you have installed the required tables.</p>
<p>In some uncommon cases this process may fail. For example,  if: connecting to the database server fails, there is no SQL file available for the chosen DBMS, the generated SQL contains errors, another table with the same name already exists, the user does not have the appropriate rights to create the tables. In those cases the installation needs to be done by hand.</p>
<p>The required SQL files to create the tables can be found in chapter <a href="#SQLsource">&quot;Advanced User's Guide&quot; / &quot;Configuration&quot;</a>.</p>
</div>
<h3>Synchronize databases</h3>
<div class="box">
<p class="kommentar" title="Note">
<img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Note: </span> This step is executed automatically, when a database connection is activated. The form shown here is meant to be used for manual intervention in case of an error.</p>
<p class="kommentar"><a name="fig56"></a>
<img alt="form" src="data/screen56.png"/><br/>Figure: form to copy table contents to your database</p>
<p>This synchronizes the entries in your text files with those in your database. The process does NOT delete or update any existing entries, but only creates new ones. When operating on very big amounts of data you may experience a timeout before the process is completed. If this happens, redo this procedure multiple times until all data has been transfered.</p></div>
<h3>Creating a backup</h3>
<div class="box">
<p class="kommentar" title="Note">
<img src="data/icon3.gif" alt="? " style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Note: </span> This option requires an active database connection.</p>
<p class="kommentar">
<img alt="form" src="data/screen57.png"/><br/>Figure: form to create a backup of a database</p>
<p>Use this option to create a backup copy of your database.</p>
<dl>
<dt>SQL syntax</dt><dd>the SQL dialect, which the output should use</dd>
<dt>export structure</dt><dd>sets, whether table structures should be stored (&quot;create table ...&quot;)</dd>
<dt>export data</dt><dd>sets, whether data sets in tables should be stored</dd>
<dt>compress as GZip</dt><dd>since backups may be very large, this gives you the option to compress the file in GZip format prior to downloading it. This will cause the file to be smaller.</dd>
</dl>
</div>
<h2>Plug-in: Search Engine</h2>
<h3>General introduction</h3>
<div class="box">
<p>This scripts lets your visitors search the content of your web site. You don't need programming knowledge to be able to use this software.</p>
<p>The Sun Java VM is required for installation of this package. This is a free product that you can get at <a href="http://java.sun.com/" target="_blank">http://java.sun.com</a>.</p>
</div>
<div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Notice to PHP newbies: </span> This software requires PHP and thus will possibly not run on your local hard disk, but only on the internet. To be able to run this software on your web site your provider needs to support PHP. If in doubt, ask your provider.</div>
<h3>Features</h3>
<div class="box">
<ul class="beschreibung">
<li>automated index creation through included Java program</li>
<li>thanks to Java Virtual-Machine it will work with all common operating systems (Mac, Linux, Windows, BeOS, ...)</li>
<li>the layout is adjustable to your needs</li>
<li>intelligent searching routine respects words like &quot;news&quot; when searching for &quot;new&quot;</li>
<li>multi-paged hit lists</li>
<li>integrated online help and installation instruction</li>
<li>auto-caching for 30 entries</li>
<li>statistics of the 100 most wanted search phrases</li>
</ul>
<p>   </p>
</div>
<h3>included files</h3>
<table border="0" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th colspan="2"> <b>tools for creation of search indexes</b> </th>
</tr>
<tr>
<td align="left"> <code> tools/index.jar </code></td>
<td align="right">containts program code</td>
</tr>
<tr>
<td align="left"> <code> tools/start.bat </code></td>
<td align="right">start file</td>
</tr>
<tr>
<td> <code> tools/suchIndexErstellen.bat </code></td>
<td style="text-align: right;">Command line interface (German)</td>
</tr>
<tr>
<td> <code> tools/searchIndex.bat </code></td>
<td style="text-align: right;">Command line interface (English)</td>
</tr>
<tr>
<th colspan="2">misc. files</th>
</tr>
<tr>
<td align="left"> <code> plugins/search </code></td>
<td align="right">directory for program files of the search engine</td>
</tr>
<tr>
<td align="left"> <code> plugins/search_admin
</code></td>
<td align="right">administrative application</td>
</tr>
<tr>
<td align="left"> <code> skins/default/search
</code></td>
<td align="right">template files</td>
</tr>
</tbody>
</table>
<h3>Installation</h3>
<br/>
<div class="box">
<p class="kommentar" align="justify"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Tip: </span> If you prefer to work offline on your local machine, create the search index first.. To do this use the file &quot; <code> start.bat </code> &quot; in directory  &quot; <code> tools/ </code> &quot;. For further details on the usage of this tools see the next section. The search index itself will be automatically created and saved to the files <code> keywords.dat </code> and <code> documents.dat </code>. Once these files are created, your search engine is ready for use.</p></div>
<div class="box">
<p> <b>Install search engine:</b> </p>
<ol>
<li>Open a connection to your account via your FTP program.</li>
<li>Copy your changes to a directory on your web site.</li>
<li>close FTP connection.</li>
</ol>
<p class="kommentar"> <span style="font-weight: bold;">Tip:</span> The files in directory &quot;tools/&quot; do not need to be uploaded to the internet.</p>
</div>
<h3><a name="suchindex"></a>Creating the search index</h3>
<p>For better performance while searching the search engine uses an index of all searchable documents. This directory is called a  &quot;search index&quot;. Before you are able to use the search engine, this index needs to be created. For the search index you may either: 1) create it offline on your local machine and upload it (either by FTP or via the administration menu of the program) to your server, or 2) create it online via the administrator's menu of the program. Both alternatives are available, so just choose the one that serves you best. The upcoming chapter will first explain how to create the search index offline on your own computer. Afterwards a second chapter will explain how to create the search index online on a web server.</p>
<h4>Creating the search index offline</h4>
<p>You don't have to enter all pages of your web site by hand. The package contains a small Java tool, that can do the work for you.</p>
<div class="kommentar" align="center"> <img style="border: 0px none" alt="" src="data/abb_search.png"/> <br/>Figure: graph. user interface to create search index</div>
<h5>Installation of Java</h5>
<div class="box">
<p>It is not relevant whether you are running this software under Winows, Linux, Unix or Mac. OS. However what you do need is a working runtime environment. Get the most up to date version for your system for free at Java.Sun.com. You need at least Java 2 version 1.4.2 or later with the Swing- and Beans-libraries installed. For Linux, Java is already included in many distributions. For Windows this is not necessarily the case.</p>
<p>To find out whether Java is already installed on your system or not, just search for the file &quot;java.exe&quot;. On Windows choose &quot;Start&quot; &gt; &quot;Search&quot; &gt; &quot;Files and Folders&quot;. If the file is not found, Java still needs to be installed.</p>
<p>After installation, the file needs to be added to the system's path variable. You may check this in Windows by opening the &quot;DOS command line&quot; from the menu &quot;Start&quot; and typing &quot;java&quot;. A list of options should then be displayed to you. If not, the file still needs to be added to the system's path.</p>
<p>In Windows XP you do this via the system's setting calling &quot;System&quot; &gt; &quot;Extra&quot; &gt; &quot;Environment variables&quot; &gt; &quot;System variables&quot;. Restart your computer afterwards and try again, by entering &quot;java&quot; at the command line. If you still do not succeed at this point, you have no other choice then to install Java again.</p>
<p>For previous versions of Windows please edit the file &quot;autoexec.bat&quot;. Add the following entry (don't forget to make yourself a copy of this file first):<br/> <code>SET PATH=&quot;JAVA-folder\bin\java.exe;%PATH%&quot;</code></p>
<p>You can get the installed version of Java under Windows by typing &quot;java -version&quot; at the DOS command line.</p>
</div>
<h5>Start indexing software</h5>
<p>Just start the file start.bat by double-clicking it. The program has a graphical interface with colorful icons which should be self-descriptive. This program declares all necessary input and will create the search index on a click.</p>
<h5>Alternatively: you may use the command line interface</h5>
<div class="box">
<p style="text-align: left;" class="kommentar"> <img style="margin: 5px; float: left;" alt="" src="data/icon2.gif"/> <span style="font-weight: bold;">Tip: </span> you do <b>NOT</b> have to use the command line, if you don't want to. There is a graphical user interface, which you can use by running the file &quot;start.bat&quot;. If this does not work, or you don't like it, you still can run the program from the command line.</p>
</div>
<p>You can use the DOS command line, or utilize the file &quot;suchIndexErstellen.bat&quot; to run it.</p>
<p>By default this file is set to search the current directory plus all subdirectories. If you want to change this, edit the file or run the program manually from the command line. Otherwise it is enough to simply execute the file by double-clicking it.</p>
<div class="box">
<p class="kommentar"> <b>Using the command line interface:</b> </p>
<p class="kommentar">java -classpath index.jar suchindexErstellen FOLDER FOLLOW META_TAGS</p>
<p class="kommentar">FOLDER: is the directory that is to be searched E.g. the current directory is <b>.\</b> the parent directory is <b>..\</b> if the directory would be &quot;home&quot;, use <b>home\</b> aso.<br/> Please use relative path names only (e.g. not C:\\...) otherwise files would be linked to your local hard disk. <br/> FOLLOW: lets you choose whether subdirectories should be searched as well, or not. Choose <b>true</b> if you want this to be done or <b>false</b> if not. <br/> META_TAGS: here you may choose, whether keywords included in meta tags should be included in the search results or not. Select <b>true</b> if you want this, or <b>false</b> if not.</p>
<p class="kommentar">  <b>Examples:</b>
</p>
<p class="kommentar">1) If your front page is at &quot;C:\Homepage&quot; and your search engine is installed at &quot;C:\Homepage\search&quot;, the Java files need to be copied to &quot;C:\Homepage\search&quot;. Here state the following call (at the command line):</p>
<p class="kommentar"> <code> java -classpath
index.jar suchindexErstellen ..\ true true </code> </p>
<p class="kommentar">2) Given your web pages are stored in &quot;C:\Homepage&quot;, again your search engine is stored at &quot;C:\Homepage\search&quot;, but you just want to search the directory &quot;C:\Homepage\test&quot; without subdirectories. Then enter the following:</p>
<p class="kommentar"> <code> java -classpath
index.jar suchindexErstellen ..\test\ false true </code> </p>
<p class="kommentar">3) Given your web is (again) stored in &quot;C:\Homepage&quot;, but this time your search engine is in the same directory and you just want to search the directory &quot;C:\Homepage\test&quot; and it's subdirectories, then the call would be:</p>
<p class="kommentar"> <code> java -classpath
index.jar suchindexErstellen .\test\ true true </code> </p>
<p class="kommentar"> <b>Batch file:</b> </p>
<p class="kommentar">Open the file <code> searchIndex.bat </code> in a text editor of your choice (e.g. Notepad). Here you will find the same call as stated above, including the description. Change the settings as you see fit, save and start the file.</p>
</div>
<h5>Using the administrator's menu to upload the search index</h5>
<ol>
<li>Open the front page of the Yana Framework installed on your server in your web browser.</li>
<li>Log in using your user name and password. Please note that you require administrator privileges to be able to save the search index on the server.</li>
<li>At the &quot;Sitemap&quot; click on &quot;show administration menu&quot;.</li>
<li>Make sure, the setup plug-in of the search engine and the search engine itself are activated.</li>
<li>Choose &quot;Search engine Setup&quot; from the options menu (see following figure).</li>
<li>In the menu &quot;upload search index&quot; click the button &quot;choose&quot; to select the files of the search index stored on your local computer</li>
<li>Click on &quot;Go&quot; to start the upload</li>
</ol>
<div class="kommentar" align="center"> <img alt="" src="data/screen44.png"/> <br/>Figure: Form to upload the search index at the administrator's menu</div>
<h4>Creating the search index online</h4>
<p>As an alternative to creating the search engine offline at your local computer, you may also have it created for you online on your web server. This way you don't have to upload the index files to the web server. On the other hand, all files, that are to be searched, need to be available on the same web server at the same time. In addition you can't check the files by hand, if you want to, before putting them online.</p>
<h5>Using the administrator's menu</h5>
<ol>
<li>Open the front page of the Yana Framework installed on your server in your web browser.</li>
<li>Log in using your user name and password. Please note that you require administrator privileges to be able to create the search index on the server.</li>
<li>At the &quot;Sitemap&quot; click on &quot;show administration menu&quot;.</li>
<li>Make sure, the setup plug-in of the search engine and the search engine itself are activated.</li>
<li>Choose &quot;Search engine Setup&quot; from the options menu (see following figure).</li>
<li>Scroll to section &quot;create search index online&quot;.</li>
<li>Click on &quot;Go&quot; to start building the index.</li>
</ol>
<div class="kommentar" align="center"> <img alt="" src="data/screen43.png"/> <br/>Figure: Administrator's menu to create a search index</div>
<h3>Frequently Asked Questions</h3>
<h4>What informations are stored?</h4>
<p>The database contains all words found in a document, &quot;key words&quot; and the title of the page. <br/> The search is restricted to HTML documents (*.htm, *.html, *.xml, *.shtml). Beside the found words, the page's URL and first 80 characters as a description are stored too.</p>
<p>All directories whose names begin with an underscore: &quot;_&quot; are ignored. The reason is that some web site making programs (e.g. Frontpage) use this to mark system directory that, of course, are not to be searched.</p>
<h4>Some documents have changed. What am I to do to have the new files found as well?</h4>
<p>Create and upload a new search index using either &quot; <code> searchIndex.bat </code> &quot; or &quot; <code> start.bat </code> &quot;. Both files &quot; <code> keywords.dat </code> &quot; and &quot; <code> documents.dat </code> &quot; need to be replaced. Also flush the cache of the search engine (if any) stored in directory &quot; <code> cache/ </code> &quot; by deleting the file(s)  &quot; <code> *.cache </code> &quot;.</p>
<h4>I have created a new search index, but the old results are still viewed.</h4>
<p>This may occur while old data is still in the cache of the search engine. To do this open directory &quot; <code> cache/ </code> &quot;, delete all files with the extension &quot; <code> *.cache </code> &quot; and try again.</p>
<h4>Nothing or 0 hits are shown.</h4>
<p>Displaying the hit list requires JavaScript. This makes the search engine extremly fast and relieves the server load, since no data has to be requested from the server while going through the pages of results. However: to be able to do this JavaScript has to be activated in your web browser. If the page stays empty, check if JavaScript is deactivated or blocked by your firewall software.</p>
<h4>What is the difference between &quot;start.bat&quot;, &quot;suchIndexErstellen.bat&quot; and &quot;searchIndex.bat&quot;.</h4>
<p>In directory &quot;tools&quot; there are 3 files &quot;start.bat&quot;, &quot;suchIndexErstellen.bat&quot; and &quot;searchIndex.bat&quot;. They all do the same thing. Just that &quot;start.bat&quot; offers a neat graphical interface, which asks all necessary data. The other two start the program directly at the command line. Here you need to adjust the arguments by hand. Here &quot;searchIndex.bat&quot; will show an explanation of the arguments in English, while &quot;suchIndexErstellen.bat&quot; will show the same text in German. Choose the solution, which suits you best.</p>
<h4>I'm getting an error: &quot;Error 500 search index not found&quot;.</h4>
<p>Probably you don't have created the search index yet, or the files are stored in the wrong directory. To find out how to create a search index see the section <a href="#suchindex">&quot;Creating the search index&quot;</a>.</p>
<h4>I'm getting an error: &quot;Error 404 page not found&quot;.</h4>
<p>Probably you have forgotten to copy some important files to the internet. Please check if all files are present.</p>
<h4>When searching I'm getting an error: &quot;Error 403 access denied&quot;.</h4>
<p>This may occur if insufficient access rights are set. Use your FTP program to check whether the following folders: &quot; <code> cache/ </code> &quot; and &quot; <code> config/ </code> &quot;, plus all subdirectories and files have sufficient access rights set (should be: readable AND writable). For UNIX you can set this by using the command CHMOD 777. A detailed explanation of access restrictions can be found in the installation guide for beginners.</p>
<h4>I tried to run the file &quot;start.bat&quot;, but it didn't work.</h4>
<p>Please check if you have at least version 1.4.2 of the Java Virtual Machine installed. To check this enter &quot;java -version&quot; at the command line. If you have an older version, download a more current version of the Java Virtual Machine for free from the internet at java.sun.com. Or try to use the file &quot;searchIndex.bat&quot; to run the program from the command line. While this is not as comfortable, it should even work with version 1.3 of the Java Virtual Machine.</p>
<h2>Plug-in: RSS-to-HTML Factory</h2>
<h3>General introduction</h3>
<div class="box">This Plug-in loads a RSS file of your choice and produces a HTML page, which you can adapt according to your desires. To do so you can edit the template &quot;skins/default/rss/template.html&quot;.</div>
<h3>Who should use this plug-in?</h3>
<div class="box">The Plug-in is suitable for people, who already have or want to create a RSS feed on their web site and simultaneously want to offer a news page (for people that don't have or want a RSS reader software). With this Plug-in one spares the doubled maintenance of news page and RSS feed. Instead of separately writing new messages in HTML and XML, you only need to update the feed. The HTML page will be created automatically.</div>
<h3>Installation</h3>
<div class="box">Make sure that you have the correct version, before you install this plug-in! You need at least version 2.7; this plug-in will probably not work with an older software.<ol>
<li>Unpack the archive and copy it's contents to the plug-in directory of the program</li>
<li>Upload the files to the internet</li>
<li>Open the administration menu in your web browser.</li>
<li>You need to have &quot;Administrator&quot; privileges to install a new plug-in! <br/> ? all new plug-ins are deactivated by default, to make it more complicated for someone to smuggle in a foreign plug-in. You as administrator must activate the plug-in before it starts working.</li>
<li>Next to the entry &quot;Plugins&quot; is a button labeled &quot;reload list&quot;. Click this button. <br/> ? if this does not work as expected, please check, whether access restriction on file &quot;config/plugins&quot; are set to 777. If not, do it now.</li>
<li>Look for the entry &quot;RSS-Feed to HTML Factory&quot; in the list of plug-ins. Next to the entry is a checkbox. Activate the checbox by clicking it.</li>
<li>Below the entry &quot;RSS-Feed to HTML Factory&quot; is an entry labeled &quot;Setup&quot;. Activate this also.</li>
<li>When you are done, click &quot;Save changes&quot;. A message will appear - accept notice by clicking on &quot;OK&quot;.</li>
</ol>
<ol class="alpha">
<li>You can view a test page by calling index.php?action=get_news in your web browser</li>
<li>If you want to bind in your own RSS feed, go to the administrator's menu and click on  &quot;RSS-to-HTML Setup&quot; in the option's menu. <br/> ? You need to have &quot;Administrator&quot; privileges</li>
</ol>
</div>

<h2>Plug-in: Software Development Kit (SDK)</h2>
<h3>General introduction</h3>
<div class="box">The SDK supports the developer with a graphic user interface. The graphical interface leads through four steps, in which appearance, behavior and general information about the application and copyright will be gathered.</div>

<h3><a name="plugin_sdk_install"></a>Installation</h3>
<div class="box">
<p>It is strongly recommended, that you install the SDK only on web servers, which are not accessible by the public. For example, on a local workstation, which is not accessible over the network. The SDK is used exclusively for the purpose of developing new applications for the Framework. To make best use of it, it is necessary that the user can work locally at the respective computers and has read and write permissions for the directories and files of the framework, which has the SDK installed. Or at least he should be in a position to have a remote connection, that allows to work with the same permissions like a local user.<br/>
</p>
<p>Improper use could delete or overwrite existing applications of the Framework. It is therefore strongly recommended that backup copies of stored files are created regularly.</p>
<p style="font-weight: bold;">In order to install the SDK proceed as follows:</p>
<ol>
<li>Install and configure the YANA Framework, as described in the <a href="#install1">instructions</a>.</li>
<li>Make sure that the program has write privileges for the directories &quot;plug-ins&quot; and  &quot;skins/default&quot;.</li>
<li>Log on as administrator, and go to the administration menu of the application</li>
<li>Look for the &quot;Software Development Kit&quot; in the &quot;plugins&quot; menu and activate this plug-in. Save your changes.</li>
<li>To start the SDK, select &quot;Software Development Kit&quot; from the application's sitemap.</li>
</ol>
</div>
<p>If you wish an introduction on how to use the SDK, see chapter  <a href="#developer_plugin">&quot;Creating plug-ins and applications&quot;</a>. For a practical example, see the <a href="#mein_erstes_Plugin">introductory tutorial</a>, at chapter 3 <a href="#tutorial_new_plugin">&quot;Creating a new plug-in&quot;</a>.</p>
<h3>Preparation</h3>
<div style="text-align: center;"> <img alt="Form 1" src="data/abb_sdk_1_1.png"/> </div>
<div class="box">
<p>general information</p>
<dl>
<dt>Name of the software:</dt><dd>any text</dd>
<dt>Description:</dt><dd>any text HTML is NOT allowed.</dd>
<dt>Image:</dt><dd>choose an icon from the list, which represents your application</dd>
</dl>
</div>
<p style="text-align: center;"> <img alt="Form 2" src="data/abb_sdk_1_2.png"/> </p>
<div class="box">
<p>Some information on you, the author of the software:</p>
<dl>
<dt>Author:</dt><dd>Your name</dd>
<dt>E-mail address:</dt><dd>Address for questions about your software. You may leave this field blank if you want.</dd>
<dt>Web site for updates:</dt><dd>a valid URL. If you have a web site on which you provide updates for this application, please enter the address here.</dd>
</dl>
</div>
<p style="text-align: center;"> <img alt="Form 3" src="data/abb_sdk_1_3.png"/> </p>
<div class="box">
<dl>
<dt>Priority of execution:</dt>
<dd>This value determines the order in which plug-ins are executed. Security-relevant plug-ins (password queries, etc.) should have a higher priority, thus they are executed before other plug-ins on the series. Other plug-ins (log files, etc.) should have a lower priority.</dd>
<dt>Type of Application:</dt>
<dd>Valid values for type of application are:<br/> &quot;default&quot;, &quot;primary&quot;, &quot;config&quot;, &quot;read&quot;, &quot;write&quot;,  &quot;security&quot;.<ul>
<li>Members of group &quot;security&quot; will always have a higher priority than all the other plug-ins. This group is used for plug-ins that implement user authentication.</li>
<li>The group &quot;config&quot; receives only events of type &quot;default&quot;, &quot;security&quot; oder &quot;config&quot;. It is meant to be used for plug-ins, which provide functionality to edit configuration files and settings. Usually, these plug-ins serve as extensions to other plug-ins. So there is a dependency. This dependence can be expressed, among other things, by adding a definition, that both plug-ins are part of the same package.</li>
<li>The group &quot;write&quot; receives events of the type &quot;write&quot;, &quot;security&quot; or &quot;default&quot;. It is designed for plug-ins, which only write to a file or a database. This group is however seldom used in practice. It is mentioned here for reasons of completeness.</li>
<li>The group &quot;read&quot; receives events of type ?read?, ?security? or ?default?. It is meant to be used for plug-ins, which only read from a file or a database. This group is seldom used.</li>
<li>The group &quot;primary&quot; treats all events except &quot;config&quot;. It is designed for plug-ins, which act as main programs.</li>
<li>The group &quot;default&quot; receives all events except those of type &quot;security&quot;, &quot;config&quot; and &quot;primary&quot;. It is intended for &quot;other&quot; plug-ins and as a solution for developers, who are uncertain about which group they should take for their plug-in.</li>
</ul></dd>
<dt>requires the plug-in:</dt>
<dd>Id of another plug-in, which is required for your software to run. Use this field if you extend an existing application with new capabilities. The selection menu is used only as guidance. You don't necessarily need to use one of the Ids listed in this menu.</dd>
<dt>belongs to package:</dt><dd>use this field to show that two plug-ins belong together. Enter into this field a common &quot;package&quot;, that both belong to.</dd>
</dl>
</div>
<h3>Interface</h3>
<p>If you want to set up other actions, you can define their interface here. To do so you may use one of the templates, which the SDK suggests. A manual creation is also possible. The interfaces can also be manually changed.</p>
<p style="text-align: center;"> <img alt="Form 4" src="data/abb_sdk_2_1.png"/> </p>
<div class="box">
<p>For some actions their are standard templates, which can be used. Have a look at the select box. If an option is selected, a list of all generated actions is shown for comparison. You can review the entire interface by selecting the tab &quot;edit interface manually&quot;.</p>
</div>
<div style="text-align: center;"> <img alt="Form 5" src="data/abb_sdk_2_2.png"/> </div>
<div class="box">
<p>An interface contains the following information:</p>
<dl>
<dt>Name of action:</dt><dd>Name of the function (any text). May only contain characters A-Z, 0-9 and &quot;_&quot;. Look at the examples for comparison.</dd>
<dt>Mode:</dt><dd>usually &quot;standard&quot;. Safe mode is meant to be used in case you want or need to ensure, only default values are used.</dd>
<dt> Templates:</dt><dd>ID of the templates to be used. This id is defined in the skin. Look at the skin files in the directory &quot;skins/default/*.config&quot;, or use the menu for an example! </dd>
<dt>Access restriction:</dt><dd>selects the minimum privileges a user must have to be able to trigger this action.</dd>
</dl>
</div>
<div style="text-align: center;"> <img alt="Form 6" src="data/abb_sdk_2_3.png"/> </div>
<div class="box">
<p>This option may be used to control the results, or as an alternative input interface for experienced users. You see all defined actions and can make changes.</p>
<p>Beware! Errors may cause, that the plug-in cannot be generated correctly.</p>
</div>
<h3>Database</h3>
<p>For database application a GUI can be generated automatically. To do so a structure file is required, which describes the database. From the information in this file, for each table the SDK creates matching template files, the appropriate actions and also generates the necessary additions to the interface of the application.</p>
<p style="font-weight: bold;">If you don't want to create such a database application, you may skip this step.</p>
<p>This will automatically create for each table: templates to view, edit, create and search database contents, plus the PHP-code for all required functions. In addition functions for downloading images and files from the database. Also a JavaScript file is created, which can be used to trigger actions on the server via Ajax. Last the structure file itself will be stored in the system.</p>
<p style="text-align: center;"> <img alt="Form 7" src="data/abb_sdk_3_1.png"/> </p>
<div class="box">
<p>If you have not created a structure file yet, you may now create such a file. For this use the plug-in &quot;DB-Tools&quot;. On the administration panel open the menu &quot;DB-Tools&quot; / &quot;Import&quot;. Choose one of the options to import an already existing database. If you don't have any, please read the <a href="#mein_erstes_Plugin">beginner's tutorial</a> for a start. Also note the examples in the <a href="#cookbook_database">Developer's Cookbook</a>.</p>
</div>
<p style="text-align: center;"> <img alt="Form 8" src="data/abb_sdk_3_2.png"/> </p>
<div class="box">
<p>If you now got a structure file, input the path to this file here. Click on &quot;search&quot;, if you are not sure where this file is stored.</p>
</div>
<h3>Installation (SQL)</h3>
<div style="text-align: left;">This step is optional. The framework (since version 2.8.6) is able to generate the required SQL statements for the installation automatically when needed by using the file structure defined in step 3. This works for MySQL, MS-SQL, PostgreSQL, Oracle databases, IBM DB2 and MS Access. Handiwork is (except in exceptional cases) unnecessary. <br/> <br/> If no automatic generation is possible for your desired DBMS, you should write a SQL installation file yourself.<br/>
<br/>
<div style="text-align: center;"> <img alt="Form 9" src="data/abb_sdk_4_1.png"/> </div>
</div>
<div class="box">
<p>Select the source file in SQL format, that contains the information to install the database.</p>
</div>
<p>You will find your SQL installation files in the folder &quot;config/db/.install/&quot; after finishing the process. This folder contains subdirectories for all supported DBMS. You may also copy your SQL-files to this location at a later stage. The file must have the same name as the structure file and use the extension &quot;.sql&quot;.</p>
<h3>Complete</h3>
<p>To end the configuration, click &quot;complete&quot;.</p>
<p>The SDK produces a skeleton of the application, all the necessary templates, as well as all the necessary configuration files. These include in particular: meta information, e.g. description of the plug-in's interface, meta information of required files, meta information of used templates.</p>
<p>The newly generated plug-in can be used immediately. You can find all files in the directories &quot;plugins&quot;, &quot;skins/default&quot; under the ID code of the plug-in.</p>

<!-- NEXT CHAPTER -->
<h1>Developer's Manual</h1>

<h2><a name="editor"></a>Before you start...</h2>
<div class="box">
<ol>
<li><span style="font-weight: bold;">Please always activate the debug mode first.</span>
<ol>
<li>Open the file &quot;index.php&quot;.</li>
<li>Change this text: <pre>error_reporting(0);</pre>to this text: <pre>error_reporting(E_ALL);<br/>ErrorUtility::setErrorReporting(YANA_ERROR_ON);</pre></li>
<li>Save and close the file.</li><li>Please deactivate the debug mode before uploading the software to a public server.</li>
</ol></li>
<li><span style="font-weight: bold;">Make sure you have the <a href="#developer_plugin">plugin &quot;SDK&quot;</a> installed and activated.</span></li><li><span style="font-weight: bold;">Please read the </span><a style="font-weight: bold;" href="#mein_erstes_Plugin">tutorial</a><span style="font-weight: bold;"> first.</span> </li>
<li><span style="font-weight: bold;">Please note the <a href="#API-Dokumentation">API documentation</a>.</span> </li>
<li><span style="font-weight: bold;">Code examples may be found in the </span><a style="font-weight: bold;" href="#Kochbuch">Developer's Cookbook</a><span style="font-weight: bold;">.</span> </li></ol>
</div>
<h2>Editors for the Yana Framework</h2>
<h3>General introduction</h3>
<p>Many editors may make working with the Yana Framework easier. To aid you with translating, developing new plug-ins, or writing skins, syntax Highlighter and code templates are available for different editors.</p>
<p>The following section is to show you examples, how these tools can facilitate your work.</p>

<h3><a name="context"></a>Integration in ConTEXT</h3>
<h4>Installation</h4>
<div class="box">
<p>For editing the configuration files, templates and plug-ins of the Yana Framework in &quot;ConTEXT&quot;, syntax Highlighter and code templates are available ConTEXT is a programmer's editor. You can get it from the internet at <a target="_blank" href="http://context.cx">http://context.cx</a>. The program is free and offers support for far more than 50 programming languages and file formats. Among them the complete Yana Framework.</p>
</div>
<div class="box">
<p>For the installation of the highlighter and template files for the Yana Framework, install ConTEXT first. Then open the installation directory of the editor and copy the &quot;ConTEXT Highlighter files&quot; (* chl) to the directory &quot;Highlighters&quot; and &quot;ConTEXT Template files&quot; (* ctpl) to the &quot;Template&quot; directory (see figure). If you have ConTEXT open already, please restart the editor now.</p>
<p class="kommentar"> <img alt="" src="data/screen29.png"/> <br/>Figure: ConTEXT installation directory</p>
</div>
<div class="box">
<p>ConTEXT offers the possibility of using the manual of the Yana Framework directly in the editor. To use this feature, do as follows:</p>
<p>1. Open the menu &quot;Options&quot; &gt; &quot;Environment Options&quot;</p>
<p class="kommentar"> <img alt="" src="data/screen33_1.png"/>
<br/>Figure: Open environment options</p>
<p>2. Switch to the menu &quot;Miscellaneous&quot; and choose the entry &quot;Yana Framework&quot; and / or &quot;Yana Framework Templates&quot; from the list.</p>
<p>3. Click the button &quot;edit&quot;.</p>
<p class="kommentar"> <img alt="" src="data/screen33_2.png"/>
<br/>Figure: Associate documentation</p>
<p>4. Select the file type &quot;all files (*.*)&quot;, search your local hard disk for the file &quot;index.html&quot; of this manual and mark this file with your mouse.</p>
<p>5. Click on &quot;Open&quot;</p>
<p class="kommentar"> <img alt="" src="data/screen33_3.png"/>
<br/>Figure: Choosing file &quot;index.html&quot; as front page</p>
<p>5. Save your changes by clicking &quot;OK&quot;.</p>
</div>
<div class="box">
<p>You can get all the required files at the following web sites:</p>
<img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left"/>
<ul>
<li> <a target="_blank" href="http://www.context.cx">ConTEXT Web site</a></li>
<li> <a href="context/yana_config.chl">Highlighter file for configuration files</a></li>
<li> <a href="context/yana_template.chl">Highlighter file for templates</a></li>
<li> <a href="context/Yana%20Framework.ctpl">Code snippets for configuration files</a></li>
<li> <a href="context/Yana%20Framework%20Templates.ctpl">Code snippets for templates</a></li>
<li> <a href="context/php.ctpl">Code snippets and automated code completion for PHP</a></li>
</ul>
</div>
<h4>Use</h4>
<div class="box">
<h5>1. Example: editing a database schema file</h5>
<p>Open a configuration filei (e.g. a database schema at folder yana/config/db/) using ConTEXT and choose the highlighter &quot;Yana Framework&quot;.</p>
<p class="kommentar"> <img alt="" src="data/screen31.png"/> <br/>Figure: Working with database schema files in ConTEXT</p>
</div>
<div class="box">
<h5>2. Example: Editing a template</h5>
<p>Open a template file with ConTEXT and choose the highlighter setting &quot;Yana Framework Templates&quot;.</p>
<p class="kommentar"> <img alt="" src="data/screen30.png"/>
<br/>Figure: Working with a template file in ConTEXT</p>
</div>
<div class="box">
<h5>3. Example: Using text blocks / code snippets</h5>
<p>To insert a code snippets use the shortcut &lt;CTRL&gt; + &lt;j&gt;, or choose &quot;Insert Code from Template&quot; in menu &quot;Format&quot;. A list will be displayed. It consists of two parts: left you will find the keyboard shortcuts and on the right a description. Select a code template using your mouse or the cursor keys and press &lt;ENTER&gt; to insert it.</p>
<p>You may narrow the selection, by typing the first character of the template. If only 1 templates fits for insertion, the list will not be shown and the template will be inserted directly.</p>
<p>E.g.: fast creation of a database schema file</p>
<ol>
<li>Open a new file in ConTEXT</li>
<li>Select the highlighter &quot;Yana Framework&quot;</li>
<li>Enter the shortcut &quot;db&quot; and press &lt;CTRL&gt; + &lt;j&gt; to create the file body</li>
<li>Enter &quot;tbl&quot; and press &lt;CTRL&gt; + &lt;j&gt; to create a new table</li>
<li>Enter the name of the table (repeat it at the closing tag)</li>
<li>In the section &quot;Primary_Key&quot; enter &quot;id&quot; as the name of the primary key</li>
<li>Go to the section &quot;CONTENT&quot;, enter &quot;id&quot; and press &lt;CTRL&gt; + &lt;j&gt; again to have the primary key column created automatically</li>
<li>After the column &quot;id&quot; enter a new line, then enter the text &quot;string&quot; and press &lt;CTRL&gt; + &lt;j&gt; to create a new column of type &quot;string&quot;</li>
<li>Name the column (repeat name at closing tag)</li>
<li>In the section &quot;Description&quot; you can enter a description for the current column</li>
</ol>
<p>The result is demonstrated in the following figure.</p>
<p class="kommentar"> <img alt="" src="data/screen32.png"/>
<br/>Figure: Creating a new table the easy way</p>
<p>See the list for more shortcuts.</p>
</div>

<h3><a name="pspad"></a>Integration in PSPad</h3>
<h4>Installation</h4>
<div class="box">
<p>For editing the configuration files, templates and plug-ins of the Yana Framework in &quot;PSPad&quot;, syntax Highlighter and code templates are available ConTEXT is an editor for web developers. You can get it from the internet at <a target="_blank" href="http://www.pspad.com">http://www.pspad.com</a>. The program is free ware.</p>
<p>PSPad can also be used on an USB device without installation.</p>
</div>
<div class="box">
<p>To install highlighter and template files for the Yana Framework please install PSPad first. Then open the installation directory of the editor and copy the &quot;Highlighter files&quot; (*.ini) to the directory &quot;Syntax&quot; and &quot;Template files&quot; (*.def) to the &quot;Context&quot; directory (see figure). If you have PSPad open already, please restart the editor now.</p>
<p class="kommentar"> <img alt="" src="data/screen34.png"/>
<br/>Figure: PSPad installation directory</p>
<p>To finish the installation you have to activate the new files in PSPad.</p>
<ol>
<li>To do so, open the menu &quot;Settings&quot; &gt; &quot;Highlighter Settings&quot; in PSPad.</li>
<li>Click on a free slot (these are marked by the text &quot;not assigned&quot;)</li>
<li>Go to menu &quot;Specification&quot; (see figure)</li>
<li>From the menu &quot;User Highlighters&quot; choose the entry &quot;Yana Framework&quot; and / or &quot;Yana Framework Templates&quot;</li>
<li>To activate the highlighter by clicking the checkbox next to the name</li>
<li>Please click on &quot;OK&quot;</li>
</ol>
<p class="kommentar"> <img alt="" src="data/screen35.png"/>
<br/>Figure: Activating the highlighter</p>
</div>
<div class="box">
<p>You can get all the required files at the following web sites:</p>
<p> <img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left"/> </p>
<ul>
<li> <a target="_blank" href="http://www.pspad.com">PSPad Web site</a></li>
<li> <a href="pspad/Yana%20Framework.ini">Highlighter file for configuration files</a></li>
<li> <a href="pspad/Yana%20Framework%20Templates.ini">Highlighter file for templates</a></li>
<li> <a href="pspad/Yana%20Framework.def">Code snippets for configuration files</a></li>
<li> <a href="pspad/Yana%20Framework%20Templates.def">Code snippets for templates</a></li>
<li> <a href="pspad/php.def">Code snippets and automated code completion for PHP</a></li>
</ul>
</div>
<h4>Use</h4>
<div class="box">
<h5>1. Example: editing a plug-in</h5>
<p>Open a plug-in definition file (plugins/*.config) in PSPad.</p>
<p>To select the highlighter click the button &quot;Change document syntax highlight&quot; (see figure).</p>
<p class="kommentar"> <img alt="" src="data/screen36.png"/> <br/>Figure: a configuration file for the Yana Framework opened in PSPad, on the right an active code browser</p>
<p>Select the entry &quot;Yana Framework&quot; or (when editing templates choose &quot;Yana Framework Templates&quot;) and click &quot;OK&quot;.</p>
<p class="kommentar"> <img alt="" src="data/screen37.png"/>
<br/>Figure: Choosing syntax highlighting</p>
</div>
<div class="box">
<h5>2. Example: using text blocks (Clips)</h5>
<p>As in ConTEXT you can use prepared blocks of text in PSPad. These are called &quot;Clips&quot; in PSPad and can be viewed by using the keyboard shortcut &lt;CTRL&gt; + &lt;SPACE&gt;.</p>
<p>Use of this feature is identical to that in ConTEXT. A menu will be shown. It consists of two parts: left you will find the keyboard shortcuts and on the right a description. Select a code template using your mouse or the cursor keys and press &lt;ENTER&gt; to insert it.</p>
<p>You may narrow the selection, by typing the first character of the template.</p>
<p class="kommentar"> <img alt="" src="data/screen38.png"/>
<br/>Figure: using &quot;Clips&quot; in PSPad</p>
</div>
<h2>Creating templates and skins</h2>
<h3>Editing HTML-templates</h3>
<p>This program uses so called &quot;templates&quot;. What ever you change on these pages will also change the look and feel of your application. These files are stored in the &quot;skins&quot; directory. You can open and edit these files like any normal HTML page in your web editor. For changing the files no knowledge in HTML is necessary, however: it will come in quite handy, if you plan on implementing a larger amount of changes.</p>
<p>In any case you should make copies of the original files, before you apply any changes.</p>
<div class="box">
<h4>Step-by-step instructions</h4>
<ol>
<li>In the home directory of your application, you will find a directory with the name &quot;skins/&quot;, in this directory you will find all the currently installed skins.</li>
<li>To add a new skin theme, first copy the contents of the directory &quot;default/&quot; including its subdirectories to a new directory with the name of your skin. For example, &quot;skins/mytheme/&quot;.</li>
<li>Open the file &quot;index.html&quot; in a web editor of your choice.  You can also use Notepad or, under Unix / Linux, Emacs.</li>
<li>Adjust the file as you see fit, and save your changes. </li>
<li>Finally, you must create a configuration file for your skin. This file contains the names of your skin and a description of the author. You can use the file &quot;skins/default.config&quot; as a sample. Copy this file to another name. For example, &quot;skins/mytheme.config&quot;.</li>
<li>This skin file can by edited in any text editor. Open the file, modify the data as required. Make sure that the file paths are correct. Then save your changes.</li>
</ol>
</div>
<p>Tutorials on creating your own templates can be found on the at Smarty's web site:<a href="http://smarty.net/docs.php" target="_blank">http://smarty.net</a>
</p>
<h3> <a name="config">Configure templates and skins</a></h3>
<p> If you are not just editing an existing template, but want to create a new one - or perhaps even a new skin -, then it is not enough to just edit template files. You must also understand and be able to apply the configuration of templates and skins.</p>
<p>However, this is very easy and limited to two configuration files. One for your new templates and the other for the skin.</p>
<div class="box">
<h4>Configuration of Skins</h4>
<p>Here is a simple example.</p>
<div class="codeexample">
<pre>&lt;SKIN_INFO&gt;
    &lt;NAME&gt;my theme&lt;/NAME&gt;
    &lt;DESCRIPTION&gt;description of my theme&lt;/DESCRIPTION&gt;
    &lt;AUTHOR&gt;my name&lt;/AUTHOR&gt;
    &lt;CONTACT&gt;my web site&lt;/CONTACT&gt;
    &lt;LOGO&gt;%SKINDIR%mytheme/data/preview.gif&lt;/LOGO&gt;
    &lt;DIRECTORY&gt;mytheme/&lt;/DIRECTORY&gt;
&lt;/SKIN_INFO&gt;</pre>
</div>
<p>The syntax is largely self-explanatory. The fields &quot;Name&quot;, &quot;Description&quot;, &quot;Author&quot; and &quot;Contact&quot; are free text fields. For the &quot;name&quot; you can have any name, which describes your theme. The same applies to the field &quot;Description&quot;. Make sure that the only allowed whitespace characters are simple spaces. You can add a line break, if necessary, by writing the text &quot;[br]&quot;. The field &quot;Author&quot; should be your name and &quot;Contact&quot; usefully an e-mail or Internet address, where the user may view your web site or download updates.</p>
<p>The field &quot;Logo&quot; is a preview image. The place holder %SKINDIR% refers to the directory in which the skins are saved and should always be used. The graphic should preferably be in GIF, PNG or JPEG format, and about 300x300 pixels in size.</p>
<p>The &quot;Directory&quot; must always be specified. It names the directory in which you theme is stored.</p>
<h4>Configuration of templates</h4>
<p>Here is a simple example.</p>
<div class="codeexample">
<pre>&lt;MY_TEMPLATE&gt;
    &lt;FILE&gt;template.html&lt;/FILE&gt;
    &lt;STYLE&gt;
        &lt;0&gt;style/default.css&lt;/0&gt;
        &lt;1&gt;foo1/foo2.css&lt;/1&gt;
        &lt;MY_CSS&gt;foo3/foo4.css&lt;/MY_CSS&gt;
    &lt;/STYLE&gt;
    &lt;SCRIPT&gt;
        &lt;0&gt;foo5/foo6.js&lt;/0&gt;
        &lt;MY_SCRIPT&gt;foo7/foo8.js&lt;/MY_SCRIPT&gt;
    &lt;/SCRIPT&gt;
    &lt;LANGUAGE&gt;
        &lt;0&gt;guestbook&lt;/0&gt;
        &lt;1&gt;admin&lt;/1&gt;
    &lt;/LANGUAGE&gt;
&lt;/MY_TEMPLATE&gt;</pre>
</div>
<p>Note that &quot;MY_TEMPLATE&quot; acts as an identifier, which identifies the template. You can use this Id in the configuration files for your plug-ins to refer to the template. The text can be chosen arbitrarily. However, be careful that the Id contains no special characters or spaces, it must begin with a letter and must by unique throughout the entire application. The Id is not case-sensitive.</p>
<p>There are 4 fields: &quot;File&quot;, &quot;Style&quot;, &quot;Script&quot; and &quot;Language&quot;. The field &quot;File&quot; names the file name. The other fields are optional and serve automation.</p>
<p>The field &quot;Language&quot; contains references to one or more files, which provide text strings in various languages for this template. For example, the value &quot;guestbook&quot; refers to the file &quot;languages/XX/guestbook.config&quot;, where the text &quot;XX&quot; is automatically replaced by the system with the name of the user's language of choice. E.g. &quot;de&quot; for German or &quot;en&quot; for English.</p>
<p> The field &quot;Style&quot; can contain multiple references to stylesheets.  Similarly, the field &quot;script&quot; contains links to one or more JavaScript files. These files are automatically included when the template is called.</p>
<p>Notice: If in a skin a required template is not defined, or properties of this template ( &quot;Styles&quot;, &quot;script&quot;, &quot;Languages&quot;) are not declared, the program automatically falls back to the &quot;Default&quot;-skin settings.</p>
<p>This is done as follows.</p>
<ol>
<li>If in the current skin a template is undefined, take over the default settings for the missing template completely.</li>
<li>If the template exists, but a property, e.g. &quot;Style&quot; is undefined, then it is taken from the &quot;Style&quot;-definition of this template in the default-skin settings. For &quot;Language&quot; and &quot;Script&quot; this is done in the same way.</li>
<li>If the template exists and the property is defined, then the defined properties are merged with those of the default-skin. <br/> The program does this as follows:<ul>
<li>All numeric entries are always appended. For example: the entries STYLE.0, STYLE.1 aso. of the default skin are taken, nexte all entries STYLE.0, STYLE.1, STYLE.2 aso. from the current skin are appended to this list.</li>
<li>Named entries, for example STYLE.MY_CSS in the default-skin, are overwritten by entries of the same name in the current skin.</li>
</ul>
</li>
</ol>
<p>This behavior may seem illogical at first, but has a quite a deeper meaning. It allows to exchange individual style sheets, or scripts in a newly created skin. At the same time it also allows individual style sheets, or scripts to be excluded from this mechanism. Both variants are frequently used and have their own application areas.</p>
<p>Another example to illustrate this behavior. For the Template &quot;MY_TEMPLATE&quot;, the following definition exchanges only the CSS file &quot;MY_CSS&quot; defined int the default skin with another file. All other settings remain unchanged.</p>
<div class="codeexample">
<pre>&lt;MY_TEMPLATE&gt;
    &lt;STYLE&gt;
        &lt;MY_CSS&gt;foo/bar.css&lt;/MY_CSS&gt;
    &lt;/STYLE&gt;
&lt;/MY_TEMPLATE&gt;</pre>
</div>
<p>As you can see in this example, no new HTML template is defined, but the setting of the default skin is used. This means that there is no need for the HTML template from the default-skin to be copied to the new skin, or even edited, to change the layout. This avoids unnecessary redundancy and makes it easier for you to maintain your HTML code.</p>
</div>
<h3> <a name="token_all">List of permitted principal wildcards</a></h3>
<div class="box">
<p>* &quot;required&quot; means in this case &quot;unequal NULL&quot;</p>
<table class="syntax">
<thead> <tr>
<th>Wildcard</th>
<th>Type</th>
<th>Required *</th>
<th>Default value</th>
<th>Origin</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> PHP_SELF</td>
<td> String</td>
<td>yes</td>
<td> -</td>
<td> PHP</td>
<td>Name of the executed script file</td>
</tr>
<tr>
<td> REMOTE_ADDR</td>
<td> String</td>
<td>yes</td>
<td> -</td>
<td> PHP</td>
<td>IP address of client.</td>
</tr>
<tr>
<td> SETTINGS.WEBSITE_URL </td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>calling URL</td>
<td>complete URL of the script (incl. http://...)</td>
</tr>
<tr>
<td> REQUEST_URI </td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>calling URL</td>
<td>called path of the script, including parameters (/yana/index.php?...)</td>
</tr>
<tr>
<td> QUERY_STRING </td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>calling URL</td>
<td>list of parameters passed to the script</td>
</tr>
<tr>
<td> ID</td>
<td> String</td>
<td>yes</td>
<td> default</td>
<td> GET/POST</td>
<td>ID-Code of the current profile.</td>
</tr>
<tr>
<td> ACTION</td>
<td> String</td>
<td>no</td>
<td> &lt;empty&gt;</td>
<td> GET/POST</td>
<td>Name of the currently (to be) executed action.</td>
</tr>
<tr>
<td> TARGET</td>
<td> String</td>
<td>no</td>
<td> &lt;empty&gt;</td>
<td> GET/POST</td>
<td>Target of the currently executed action. (e.g. the ID of a data set)</td>
</tr>
<tr>
<td> SESSION_NAME, SESSION_ID</td>
<td> String</td>
<td>no</td>
<td> &lt;empty&gt;</td>
<td> GET/POST</td>
<td>Name and ID-Code of the current session (should be added to all hyperlinks)</td>
</tr>
<tr>
<td> PAGE</td>
<td> integer</td>
<td>no</td>
<td> 0</td>
<td> GET/POST</td>
<td>The number of the data set from which the show started. (If required)</td>
</tr>
<tr>
<td> ATIME</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>File property</td>
<td>Insert date and time when the HTML-template was last accessed at this place: <br/> <span style="font-style: normal;"> [%$ATIME|date%] </span></td>
</tr>
<tr>
<td> MTIME</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>File property</td>
<td>Inserts at this place the date, when the HTML-template was last changed: <br/> [%$MTIME|date%]</td>
</tr>
<tr>
<td> CTIME</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>File property</td>
<td>Inserts at this place the date, when the HTML-template was created: <br/> [%$CTIME|date%]</td>
</tr>
<tr>
<td> LANGUAGE</td>
<td> Array</td>
<td>yes</td>
<td> -</td>
<td>Language file(s)</td>
<td>List of all text strings defined in the currently selected translation.</td>
</tr>
<tr>
<td> PROFILE</td>
<td> Array</td>
<td>yes</td>
<td> -</td>
<td>Profile file</td>
<td>List of all settings in the currently used profile. <br/> The following are some examples. Note that all fields mentioned here may also contain a NULL value.</td>
</tr>
<tr>
<td> PROFILE.BGCOLOR, <br/>
PROFILE.BGIMAGE</td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>Profile file</td>
<td>Background color and image of the web site</td>
</tr>
<tr>
<td> PROFILE.PFONT, <br/>
PROFILE.PSIZE, <br/>
PROFILE.PCOLOR</td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>Profile file</td>
<td>font family, size, color of paragraphs (P-tags)</td>
</tr>
<tr>
<td> PROFILE.HFONT, <br/>
PROFILE.HSIZE, <br/>
PROFILE.HCOLOR</td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>Profile file</td>
<td>font family, size, color of headings (H1-,H2-,H3-tags)</td>
</tr>
<tr>
<td> SKIN_INFO </td>
<td> Array</td>
<td>no</td>
<td> -</td>
<td>Skin file</td>
<td>Informations on the selected Skin</td>
</tr>
<tr>
<td> LANGUAGE_INFO </td>
<td> Array</td>
<td>no</td>
<td> -</td>
<td>Language file</td>
<td>Informations on the selected language</td>
</tr>
<tr>
<td> LANGUAGE </td>
<td> Array</td>
<td>no</td>
<td> -</td>
<td>Language file(s)</td>
<td>Translations (texts)</td>
</tr>
<tr>
<td> SETTINGS.WEBSITE_URL </td>
<td> String</td>
<td>no</td>
<td> -</td>
<td>Language file(s)</td>
<td>complete URL of the script (incl. http://...)</td>
</tr>
</tbody>
</table>
</div>
<h2>Reference manual of the template engine</h2>
<h3>General introduction</h3>
<div class="box">
<p>This Framework uses the &quot;Smarty Template-Engine&quot;. This engine has it's own documentation, which you can download from the internet for free at <a href="http://smarty.net/docs.php" target="_blank">http://smarty.net/docs.php</a>.</p>
<p>You are permitted to expand the engine with your own functions. In this way, you can extend the syntax of the templates used You will find the engine in the directory &quot;engine/&quot;. A guide can be found in the reference manual of the engine. Changes to the engine, are only recommended for experts.</p>
<p>About licenses: Before you make any changes, please note the <a href="rechtliches.html">license information</a>.</p>
</div>
<h3>Modifications of the syntax</h3>
<p>The syntax of the used version of &quot;Smarty template engine&quot; differs in some aspects from that described in the reference manual. The following section describes this modified syntax.</p>
<div class="box">
<h4>Token delimiters</h4>
<p>Unlike in the original version of Smarty,  this version does not use the characters'{' and '}' as the opening and closing delimiters of Smarty codes, but the strings: '[%' and '%]'. For example, NOT &quot;{$variable}&quot;, but &quot;[%$variable%]&quot;. The reason is that the original characters are frequently used in many HTML documents, as they may contain scripts or stylesheets, which may cause problems when processing the templates. This is why the delimiters have been changed. (This is also recommended by the manual of the engine as a standard solution for any such cases.)</p>
<p>Unlike in the original, this version also allows the use of an abbreviated syntax for inserting simple variables. Instead of &quot;[%$VARIABLE%]&quot; this version allows the more comfortable syntax: &quot;%VARIABLE%&quot;. However, this only applies to variables. This can NOT be used with any other Smarty-codes.</p>
<h4>Naming conventions</h4>
<p>Because Smarty codes are case-sensitive, it has been decided to write all variable names in capital letters for simplicity. While the names of functions and other codes are to be written in small letters. For the sake of clarity, is strongly recommended, to keep this convention.</p>
<h4>Paths</h4>
<p>In this version references to files (links, graphics, CSS, scripts, etc.) can be given as relative path information. File paths are automatically corrected when the page loads. It is therefore no longer necessary, to use absolute file paths only.</p>
<h4>Configuration</h4>
<p>Smarty is set to run in Safe Mode (security=true). The embedding of PHP code into templates is not permitted. In addition, the following features are disabled: include, include_php, php.</p>
</div>
<h3> <a name="func"></a>New functions</h3>
<div class="box">
<div class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;"/><span style="font-weight: bold;"> Note: </span> The following section describes additional features, which are available to you in the Yana Framework and are not part of to the basic functionality of the Smarty template engine. The basic functions of the Smarty template engine are described in the <a href="http://smarty.net/docs.php" target="_blank">documentation at http://smarty.net/docs</a>.</div>
</div>
<div class="box"><!-- BEGIN: function -->
<h4> <a name="func_captcha"></a> captcha</h4>
<p> [%captcha [ id=&quot;&lt;string&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> id</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Value of the attribute &quot;id&quot; of the tag &quot;input&quot;</td>
</tr>
</tbody>
</table>
<p>The function &quot;captcha&quot; is used to view a graphic, which contains text, that the user must read and enter to the input field next to it. This is a common process to avoid spam.</p>
<p>The parameter &quot;id&quot; is optional. For example, it can be used, when a description is to be shown in a &quot;label&quot;.</p>
<div class="codeexample">
<div> <b>1. Example:</b> </div>
<p> [%captcha%] </p>
<p class="kommentar"> <img alt="" src="data/screen41.png"/>
<br/>Figure: Display in browser</p>
<div> <b>2. Example, using parameter &quot;id&quot;:</b> </div>
<p>&lt;label for=&quot;myCaptcha&quot;&gt;Please enter the text on the image&lt;/label&gt; <br/> [%captcha id=&quot;myCaptcha&quot;%]</p>
</div>
<p>For further details see also the <a href="#cookbook_captcha">Developer's Cookbook, chapter &quot;Using a CAPTCHA&quot;</a>.</p>
<!-- NEXT: function -->
<h4> <a name="func_create"></a> create</h4>
<p> [%create template=&quot;&lt;string&gt;&quot;
file=&quot;&lt;string&gt;&quot; table=&quot;&lt;string&gt;&quot; [
where=&quot;&lt;string&gt;&quot; ] [ desc=&quot;&lt;boolean&gt;&quot; ] [
sort=&quot;&lt;string&gt;&quot; ] [ page=&quot;&lt;integer&gt;&quot; ] [
entries=&quot;&lt;integer&gt;&quot; ] [ titles=&quot;&lt;boolean&gt;&quot;
] [ on_new=&quot;&lt;string&gt;&quot; ] [
on_edit=&quot;&lt;string&gt;&quot; ] [ on_delete=&quot;&lt;string&gt;&quot;
] [ on_search=&quot;&lt;string&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> template</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Name of template to be used when creating the GUI. Allowed values are: <br/> view_seperated, view_details, view, new, edit, search</td>
</tr>
<tr>
<td> file</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Path of the structure file which is to be used.</td>
</tr>
<tr>
<td> table</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Name of the table which is to be used.</td>
</tr>
<tr>
<td> show</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Comma-separated list of columns of the table, which should be displayed (use small letters)</td>
</tr>
<tr>
<td> hide</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Comma-separated list of columns of the table, which should be NOT displayed (use small letters)</td>
</tr>
<tr>
<td> where</td>
<td> string</td>
<td>no</td>
<td> &lt;empty&gt;</td>
<td>Used to generate the WHERE-clause for the SQL-statement. <br/> Syntax: &lt;COLUMN1&gt;=&lt;VALUE1&gt;[,&lt;COLUMN2&gt;=&lt;VALUE2&gt;[,...]]</td>
</tr>
<tr>
<td> desc</td>
<td> boolean</td>
<td>no</td>
<td> false</td>
<td>Selects whether entries are to be sorted in ascending (false) or descending (true) order.</td>
</tr>
<tr>
<td> sort</td>
<td> string</td>
<td>no</td>
<td> &lt;primary key&gt;</td>
<td>Name of column to sort entries by.</td>
</tr>
<tr>
<td> page</td>
<td> integer</td>
<td>no</td>
<td> 0</td>
<td>Number of first entry to be shown.</td>
</tr>
<tr>
<td> entries</td>
<td> integer</td>
<td>no</td>
<td> 5</td>
<td>Total of shown entries.</td>
</tr>
<tr>
<td> titles</td>
<td> boolean</td>
<td>no</td>
<td> true</td>
<td>Selects whether attribute names are to be shown or not.</td>
</tr>
<tr>
<td> on_new</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Name of action to be triggered, when a new entry is to be saved.</td>
</tr>
<tr>
<td> on_edit</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Name of action to be triggered, when changed entries are to be saved.</td>
</tr>
<tr>
<td> on_delete</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Name of action to be triggered, when chosen entries are to be deleted.</td>
</tr>
<tr>
<td> on_search</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Name of action to be triggered, when a search request is to be handled to create a hit list.</td>
</tr>
<tr>
<td> on_download</td>
<td> string</td>
<td>no</td>
<td> download_file</td>
<td>Name of action to be triggered, if the user wants to download a file or image.</td>
</tr>
<tr>
<td> layout</td>
<td> int</td>
<td>no</td>
<td> 0</td>
<td>If a form has multiple ways to be displayed, you can use this parameter to switch between them.</td>
</tr>
</tbody>
</table>
<p>The function &quot;create&quot; automatically generates a GUI for the chosen database. Condition is the existence of a valid structure file, which describes the database.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> [%create template=&quot;edit&quot; file=&quot;database.config&quot;
table=&quot;bookstore&quot;%] </p>
</div>
<p>An example of a function to download a file (argument on_download &quot;):</p>
<pre class="codeexample">&lt;?php
function myDownload($ARGS)
{
   if ($source = DbBlob::getFileId() === false) {
       return false;
   }
   // Downloading a file:
   if (preg_match('/\.gz$/', $source)) {
       $dbBlob = new DbBlob($source);
       $dbBlob-&gt;read();
       header('Content-Disposition: attachment; filename=' . $dbBlob-&gt;getPath());
       header('Content-Length: ' . $dbBlob-&gt;getFilesize());
       header('Content-type: ' . $dbBlob-&gt;getMimeType());
       print $dbBlob-&gt;get();
       // Downloading an image:
   } else {
       $image = new Image($source);
       $image-&gt;outputToScreen();
   }
   exit;
}
?&gt;</pre>
<p class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;"/>
<span style="font-weight: bold;"> Attention! </span> This function does not automatically check, whether the user is &quot;allowed&quot; to download the selected file in the sense of your program. This is unfortunately not possible without knowing the criteria that you want to implement in your program. Therefore, it remains at this point to you to verify that the user has the necessary permissions to view the file.</p>
<!-- NEXT: function -->
<h4> <a name="func_embeddedtags"></a>embeddedTags</h4>
<p> [%embeddedTags [ show=&quot;&lt;string&gt;&quot; ]  [
hide=&quot;&lt;string&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> show</td>
<td> string</td>
<td>no</td>
<td>* </td>
<td>comma-separated list of tags, <br/> that are to be shown</td>
</tr>
<tr>
<td> hide</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>comma-separated list of tags, <br/> that are to be hidden</td>
</tr>
</tbody>
</table>
<p>The function &quot;embeddedTags&quot; automatically generates buttons, that allow users to use text formatting (bold, italic, etc.) when writing a new entry.</p>
<p>The list &quot;show&quot; can be used to select which tags should be displayed, while the list &quot;hide&quot; can be used if you want to hide certain tags.</p>
<p>In the list &quot;show&quot;, you can use the characters &quot;-&quot; to insert line breaks and the characters &quot;|&quot; to create a vertical separator in the output.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> &lt;textarea id=&quot;text&quot;&gt;&lt;/textarea&gt; </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_1.png"/> <br/>Figure: Displaying a tag bar (wih all tags)</p>
<pre><code><span class="mygeneral1-comment">&lt;!-- Include all tags --&gt;</span>
[%embeddedTags%]
<span class="mygeneral1-comment">&lt;!-- Display tags &quot;u&quot;, &quot;i&quot; and &quot;b&quot; only --&gt;</span>
[%embeddedTags show=&quot;b,u,i&quot;%]
<span class="mygeneral1-comment">&lt;!-- All tags except &quot;url&quot; and &quot;mail&quot; --&gt;</span>
[%embeddedTags hide=&quot;url,mail&quot;%]
<span class="mygeneral1-comment">&lt;!-- Tags &quot;u&quot;,&quot;i&quot;,&quot;b&quot;, a seperator, then the tag &quot;url&quot; --&gt;</span>
[%embeddedTags show=&quot;u,i,b,|,url&quot;%]</code></pre>
</div>
<!-- NEXT: function -->
<h4> <a name="func_import"></a> import</h4>
<p> [%import [preparser=&quot;true&quot;] file=&quot;&lt;string&gt;&quot;%] </p>
<p> [%import [preparser=&quot;true&quot;] id=&quot;&lt;string&gt;&quot;%] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> file</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Path of the file to be included</td>
</tr>
<tr>
<td> preparser</td>
<td> boolean</td>
<td>no</td>
<td> false</td>
<td>selects whether the file should be imported before (true) or while (false) parsing the template</td>
</tr>
</tbody>
</table>
<p>Or alternatively with the following parameters:</p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> id</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Id of the template to be included</td>
</tr>
<tr>
<td> preparser</td>
<td> boolean</td>
<td>no</td>
<td> false</td>
<td>selects whether the file should be imported before (true) or while (false) parsing the template</td>
</tr>
</tbody>
</table>
<p>The function &quot;import&quot; replaces the various file-insertion-functions of the original by one single function. It also differs in the way the files are treated. The function &quot;import&quot; treats each imported file as a separate template. This has several advantages: the inserted template uses e.g. security restrictions as the base template. In addition (and more importantly:) this approach ensures that any given relative paths can be corrected / changes properly.</p>
<p>The Parameter &quot;file&quot; is the name of the file to be imported.</p>
<p>Alternatively, the parameter &quot;id&quot; can be used, so instead of hardwiring the path and file name directly in the template, you may use the Id of the template. The framework resolves the Id to get the appropriate file name automatically at runtime. This has the advantage, that if the file is renamed, or moved to a different path, you don't need to check all templates by hand to correct all references to this file.</p>
<div class="white_box"> <b> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;"/> Application example:</b> assume you have a template &quot;a.html&quot; defined in skin &quot;default&quot;, which imports another template &quot;b.html&quot;. Now you want to add another skin theme. In this skin theme you want to change the content of file &quot;b.html&quot;, but want to leave the file &quot;a.html&quot; unchanged. <br/> <i>1st Case:</i> If in skin &quot;default&quot; you had file &quot;b.html&quot; imported using the parameter &quot;file&quot;, then you cannot change &quot;b.html&quot; in your new skin theme, without changing the path value in &quot;a.html&quot;. This means, you must change the file &quot;a.html&quot; within your new skin theme as well, as both files have a direct dependency. <br/> <i>2nd Case:</i>  If in skin &quot;default&quot; you had file &quot;b.html&quot; associated with an Id (say &quot;b&quot;) and imported the template using the parameter &quot;id&quot;, then you can overwrite the id &quot;b&quot; in your new skin theme with the path of another template, which is then only used in this skin. This means, you don't need to change &quot;a.html&quot; and may keep the template unchanged. <br/> <i>Note:</i> Assignment of IDs to files is done via the configuration files (*. config) in the directory of the templates.</div>
<p>The flag &quot;preparser&quot; determines when a file is to be imported: BEFORE or DURING the parser handles the template. If it set, the file is imported BEFORE the actual parsing. The flag &quot;preparser&quot; for example, should always be used if the imported templates need to have access to variables that are set in the base template. A classic example are templates, that are imported inside the body of a loop. ( &quot;Foreach&quot;, &quot;section) These require the flag &quot;preparser&quot;, if you need to access loop variables. Alternatively, you can use the statement &quot;import&quot; with a list of all the variables you want to access within the template.</p>
<p class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;"/>
<b>Attention!</b> If the parameter &quot;preparser&quot; is used, the imported template is not parsed, translated and cached on it's own, but copied in the source code of the template that contains the import statement. This means, it is not checked at runtime, if the content of the imported template has changed since when the templates was last compiled. If you change the imported template, you must empty the template cache for the changes to take effect.</p>
<div class="codeexample">
<div> <b>1. Example, with parameter &quot;file&quot;:</b> </div>
<p> <i>File &quot;hello_world.html&quot;</i> <br/> Hello World!</p>
<p> <i>File &quot;template.html&quot;</i> <br/> &lt;p&gt;[%import file=&quot;hello_world.html&quot;%]&lt;/p&gt;</p>
<div> <b>2. Example, using parameter &quot;id&quot;:</b> </div>
<p> <i>File &quot;default.config&quot;</i> <br/> &lt;hello&gt; <br/>   &lt;file&gt;hello_world.html&lt;/file&gt; <br/> &lt;/hello&gt;</p>
<p> <i>File &quot;template.html&quot;</i> <br/> &lt;p&gt;[%import id=&quot;hello&quot;%]&lt;/p&gt;</p>
<div> <b>3. Example, additional parameters:</b> </div>
<p> <i>File &quot;hello_world.html&quot;</i> </p>
<pre><code>[%if $foo%]
[%$bar%]
[%/if%]</code></pre>
<p> <i>File &quot;template.html&quot;</i> <br/> &lt;p&gt;[%import file=&quot;hello_world.html&quot; foo=true bar=&quot;Hello World!&quot;%]&lt;/p&gt;</p>
<div> <b>Output (for all 3 examples):</b> </div>
<p> &lt;p&gt;Hello World!&lt;/p&gt; </p>
</div>
<!-- NEXT: function -->
<h4> <a name="func_preview"></a> preview</h4>
<p> [%preview [ width=&quot;&lt;integer&gt;&quot; ] [
height=&quot;&lt;integer&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> width</td>
<td> integer</td>
<td>no</td>
<td> 380px</td>
<td>Width in pixel</td>
</tr>
<tr>
<td> height</td>
<td> integer</td>
<td>no</td>
<td> 50px</td>
<td>Height in pixel</td>
</tr>
</tbody>
</table>
<p>The function &quot;preview&quot; creates a preview window on an entry, that the visitor wrote.</p>
<p>Smilies and tags contained in the text are graphically displayed. This gives the visitor the opportunity to check how his entry would be displayed, before he submits the form.</p>
<p>When you call the function all required JavaScript files will be loaded automatically. In addition a button labeled &quot;Preview&quot; will be created. When this button is clicked a preview window will be displayed above the button.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> &lt;textarea id=&quot;text&quot;&gt;&lt;/textarea&gt; <br/>
[%preview%] </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_7.png"/>
<br/>Figure: The preview will be loaded by clicking the button <br/> &quot;Preview&quot; via an &quot;AJAX HTTP-Request&quot; to the server</p>
<p class="kommentar"> <img alt="" src="data/abb_gui_8.png"/>
<br/>Figure: Preview window as it is shown in a browser</p>
</div>
<p>The attributes  &quot;width&quot; and &quot;height&quot; set width and height of the preview window. These values are interpreted as CSS instructions. So if you want to use this, please note that it is required to add the unit of measurement (for example, &quot;px&quot; for pixels). Percentage values, like &quot;70%&quot; are allowed as well. Numbers without a unit, like &quot;70&quot; may however be displayed incorrectly be the browser.</p>
<p>These values do not refer to the entire size of the preview window, but to the text displayed inside it.  The following figures demonstrates this:</p>
<p class="kommentar"> <img alt="" src="data/abb_gui_9.png"/>
<br/>Figure: Margins of box</p>
<p>The purple colored area here is the space defined by the attributes &quot;width&quot; and &quot;height&quot;. The light green area is the total size of the field. The space required for the heading is shown in light blue. The border is indicated in violet. So the total size of the window depends on the values of the attributes &quot;width&quot; and &quot;height&quot;, plus the heading, the border and the peripheral area (margin) of the window.</p>
<!-- NEXT: function -->
<h4> <a name="func_printarray"></a> printArray</h4>
<p> [%printArray value=&quot;&lt;array&gt;&quot; %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> value</td>
<td> array</td>
<td>yes</td>
<td> -</td>
<td>an array, that is to be printed as a string</td>
</tr>
</tbody>
</table>
<p>This functions converts a (possibly multidimensional) array to a string and prints it. The array is displayed in SML-format. This can, inter alia, be of interest for the debugging of templates, to find out the name of a variable.</p>
<p class="kommentar"> <img src="data/icon3.gif" style="margin: 0pt 5px;" alt="? "/> <span style="font-weight: bold;"> Note: </span> Since version 2.9.3 of the Yana Frameworks this function supports syntax highlighting.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> [%printArray value=$LANGUAGE%] </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_5.png"/>
<br/>Figure: a short excerpt from the output</p>
</div>
<!-- NEXT: function -->
<h4> <a name="func_unorderedlist"></a>printUnorderedList</h4>
<p> [%printUnorderedList value=&quot;&lt;array&gt;&quot; [
keys_as_href=&quot;&lt;bool&gt;&quot; ] [ layout=&quot;&lt;int&gt;&quot; ]
%] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> value</td>
<td> array</td>
<td>yes</td>
<td> -</td>
<td>an array, that is to be printed as a list</td>
</tr>
<tr>
<td> keys_as_href</td>
<td> bool</td>
<td>no</td>
<td> false</td>
<td>selects, whether links are to be created</td>
</tr>
<tr>
<td> layout</td>
<td> int</td>
<td>no</td>
<td> 1</td>
<td>lets you chose between 3 alternative layouts (1, 2 and 3) for your menu</td>
</tr>
</tbody>
</table>
<p>This functions converts a (possibly multidimensional) array to an unsorted list in HTML-format and prints it. It uses the tag &quot;ul&quot;.</p>
<p>You can use this function to create tree menus. You may chose the create links within this menu. To do so, use the URLs as a key of the array and the caption as values. Moreover set the parameter &quot;keys_as_href&quot; to &quot;true&quot;.</p>
<div class="codeexample">
<div> <b>1. Example ? an array presented as a tree menu:</b>
</div>
<p> [%printUnorderedList value=$LANGUAGE%] </p>
<p>   </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_4.png"/>
<br/>Figure: a short excerpt from the output</p>
<p class="kommentar">   </p>
<p> <b>2. Example ? output a tree menu with links:</b>
</p>
<pre>&lt;?php
$A = array(
    '1.html' =&gt; 'Link',
    'Menu 1' =&gt; array(
        '2_1.html' =&gt; '1. Item',
        '2_2.html' =&gt; '2. Item',
        'Menu 2' =&gt; array(
            '2_3_1.html' =&gt; '1. Item',
            '2_3_2.html' =&gt; '2. Item'
        ),
    ),
    'Menu 3' =&gt; array(
        '3_1.html' =&gt; '1. Item',
        '3_2.html' =&gt; '2. Item',
        '3_2.html' =&gt; '3. Item'
    ),
);
$YANA-&gt;setVar('A', $A);
?&gt;</pre>
<p> [%printUnorderedList value=$A keys_as_href=&quot;true&quot;%] </p>
<p>   </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_6.png"/>
<br/>Figure: Displaying a tree menu with links</p>
<p> <b>3. Example ? additional layouts:</b> </p>
<p> [%printUnorderedList value=$A layout=2 keys_as_href=&quot;true&quot;%] </p>
<p class="kommentar"> <img alt="" src="data/abb_menu_2.png"/> <br/>Figure: A vertical tree menu</p>
<p> [%printUnorderedList value=$A layout=3 keys_as_href=&quot;true&quot;%] </p>
<p class="kommentar"> <img alt="" src="data/abb_menu_3.png"/> <br/>Figure: a horizontal tree menu</p>
</div>
<p>The keys are printed in bold and values in italics - however, this may be changed via CSS. The following CSS classes are available:</p>
<ul>
<li>gui_array_list</li>
<li>gui_array_head</li>
<li>gui_array_key</li>
<li>gui_array_value</li>
<li>gui_array_head_open</li>
</ul>
<!-- NEXT: function -->
<h4> <a name="func_rss"></a> rss</h4>
<p> [%rss [ image=&quot;&lt;string&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> image</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>The icon, which the visitor can click to view the RSS feed.</td>
</tr>
</tbody>
</table>
<p>This function creates hyperlinks to view the RSS feed of a web site.</p>
<p>The argument &quot;image&quot; can be used to select another icon. If the user clicks on this link, the file is opened. The list of the RSS feeds will be inserted in the source code of the application. See also the <a href="#cookbook_misc">Developer's Cookbook, Chapter: &quot;Misc. functions&quot;</a>.</p>
<p class="kommentar"> <img src="data/icon1.gif" style="margin: 5px; float: left;" alt="? "/> <span style="font-weight: bold;"> Tip: </span> Even if you do not create hyperlinks, your visitors are still able to read the RSS feeds of your web site, because the links are also provided in the header of the file. This information allows the browser of the visitor, if it is able to, to find and read the feeds. However, this variant is more cumbersome for your guests and therefore should be avoided.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> [%rss%] </p>
<p class="kommentar"> <img alt="RSS" src="data/abb_rss.gif"/> <br/>Figure: Output of this function</p>
<p> <b>Example ? adding a feed to the output:</b>
</p>
<pre>&lt;?php
// The value 'my_rss' is the name of the function, that outputs the RSS feed
RSS::publish('my_rss');
?&gt;</pre>
</div>
<p class="kommentar"> <img src="data/icon2.gif" style="margin: 5px; float: left;" alt="? "/> <span style="font-weight: bold;"> Note: </span> In the skins provided with this software, the creation of  hyperlinks to RSS-feeds works automatically, so that there is generally no need to include this feature by hand, unless you decide to write your own skin theme. In this case you should include the hyperlinks in the head area of the site, where they can be noticed by visitors.</p>
<!-- NEXT: function -->
<h4> <a name="func_sizeof"></a> sizeOf</h4>
<p> [%sizeOf value=&quot;&lt;mixed&gt;&quot; [
assign=&quot;&lt;string&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> value</td>
<td> mixed</td>
<td>yes</td>
<td> -</td>
<td>scalar value or array, whose length is to be counted</td>
</tr>
<tr>
<td> assign</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>Name of the template var, that result should be saved to</td>
</tr>
</tbody>
</table>
<p>The function &quot;sizeOf&quot; returns the length of an array or a string as a number. If the parameter &quot;assign&quot; is specified, then the return value is stored in the named variable and the function does not return a result.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> &lt;td colspan=&quot;[%sizeOf value=$cols%]&quot;&gt; ...
&lt;/td&gt; </p>
<div> <b>Example using &quot;assign&quot;:</b> </div>
<p> [%sizeOf value=$cols assign=&quot;foo&quot;%] &lt;td
colspan=&quot;[%$foo%]&quot;&gt; ... &lt;/td&gt; </p>
</div>
<!-- NEXT: function -->
<h4> <a name="func_smilies"></a> smilies</h4>
<p> [%smilies [ width=&quot;&lt;integer&gt;&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> width</td>
<td> integer</td>
<td>no</td>
<td> 1</td>
<td>Number of columns in a table</td>
</tr>
</tbody>
</table>
<p>The function &quot;smilies&quot; automatically generates a table of all available emot-icons / smilies, with a link to paste them into a specified input field.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> &lt;textarea id=&quot;text&quot;&gt;&lt;/textarea&gt; <br/>
[%smilies width=&quot;5&quot;%] </p>
<p class="kommentar"> <img alt="" src="data/abb_gui_2.png"/> <br/>Figure: Table of emot-icons (5 per row)</p>
</div>
<!-- NEXT: function -->
<h4> <a name="func_smlload"></a> smlLoad</h4>
<p> [%smlLoad file=&quot;&lt;string&gt;&quot; [ section=&quot;string&quot; ]
[ scope=&quot;string&quot; ] %] </p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> file</td>
<td> string</td>
<td>yes</td>
<td> -</td>
<td>Number of columns in a table</td>
</tr>
<tr>
<td> section</td>
<td> string</td>
<td>no</td>
<td> -</td>
<td>ID of an input- or text area field</td>
</tr>
<tr>
<td> scope</td>
<td> string</td>
<td>no</td>
<td> local</td>
<td>Valid values: &quot;local&quot;, &quot;global&quot;, &quot;parent&quot;, &quot;template_vars&quot;</td>
</tr>
<tr>
<td> global</td>
<td> boolean</td>
<td>no</td>
<td> false</td>
<td> <i>deprecated</i></td>
</tr>
</tbody>
</table>
<p>This function provides the same interface as the Smarty function &quot;config_load&quot;. However, this function works with SML files with the file extensions &quot;*.sml&quot;, &quot;*.cfg&quot; or &quot;*.config&quot;.</p>
<p>Unlike the conventional configuration files of the Smarty engine, SML files may use multidimensional array definitions.</p>
<p>Moreover, the argument &quot;scope&quot; may have the value &quot;template_vars&quot;, which means that the variables of the SML file can be used as template variables - this allows to access multidimensional arrays in standard smarty syntax, like any other variable. This feature only applies to smlLoad() and not to config_load().</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> <i>The directory &quot;skins/.config&quot; contains a file &quot;foo.sml&quot;. It has the following contents:</i> </p>
<pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">TEST</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">        </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">C</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">C</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">TEST</span><span class="xml1-symbol">&gt;</span></span></code></pre>
<p> <i>The template contains the following:</i> </p>
<pre><code>[%smlLoad file=&quot;foo.sml&quot; section=&quot;TEST.B&quot; scope=&quot;template_vars&quot;%]
[%$C%]</code></pre>
<p>Output: 2</p>
<pre><code>[%smlLoad file=&quot;foo.sml&quot; section=&quot;TEST.B&quot;%]
[%#C#%]</code></pre>
<p>Output: 2</p>
<pre><code>[%smlLoad file=&quot;foo.sml&quot; scope=&quot;template_vars&quot;%]
[%$TEST.B.C%]</code></pre>
<p>Output: 2</p>
</div>
<!-- END: function --><!-- NEXT: function -->
<h4> <a name="func_sml_load"></a> sml_load</h4>
<p>The function name &quot;sml_load&quot; is an alias for the function <a href="#func_smlload">&quot;smlLoad&quot;</a>. You can use both names alternative.</p>
<p> <a href="#func_smlload">Description of this function</a>.</p>
<!-- END: function -->
<!-- NEXT: function -->
<h4> <a name="func_vardump"></a> varDump</h4>
<p> [%varDump var=&quot;&lt;mixed&gt;&quot; %] </p>
<p class="kommentar">
<img src="data/icon2.gif" style="margin: 5px; float: left;" alt="? "/>
<span style="font-weight: bold;"> Note: </span> This function is only meant to be used for debugging purposes. It is only available, if the framework is run in debug mode. If this mode is deactivated, any try to call this function will result in an error. This serves the security of your application.</p>
<table class="syntax">
<thead> <tr>
<th>Attribute</th>
<th>Type</th>
<th>Required</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> var</td>
<td> mixed</td>
<td>yes</td>
<td> -</td>
<td>Value to be output</td>
</tr>
</tbody>
</table>
<p>The function &quot;varDump&quot; outputs the value of a variable.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> [%varDump value=$INSTALLED_LANGUAGES%] </p>
<div>Output:</div>
<p style="white-space: pre;">array (
  'de' =&gt; 1,
  'en' =&gt; 1
)</p>
</div>
<!-- END: function --></div>
<h3> <a name="mod"></a>New modifiers</h3>
<div class="box">
<div class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;"/><span style="font-weight: bold;"> Note: </span> The following section describes additional modifiers, which are available to you in the Yana Framework and are not part of to the basic functionality of the Smarty template engine. The basic functions of the Smarty template engine are described in the <a href="http://smarty.net/docs.php" target="_blank">documentation at http://smarty.net/docs</a>.</div>
</div>
<div class="box"><!-- BEGIN: modifier -->
<h4> <a name="mod_css"></a> css</h4>
<p> [%$foo|css%] </p>
<p>Creates a link to a given path to a CSS-Datei.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> [%&quot;default.css&quot;|css%] </p>
<p> <b>Output:</b> </p>
<p> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
href=&quot;default.css&quot;&gt; </p>
</div>
<!-- NEXT: modifier -->
<h4> <a name="mod_date"></a> date</h4>
<p> [%$foo|date%] </p>
<p>From a variable containing an UTC, this modifier creates a JavaScript statement, that outputs the current time using the correct time zone of the client browser.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<pre><code><span style="font: 10pt Courier New;"><span class="html1-text">Template created: [%$CTIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;
</span><span class="html1-text">Template modified: [%$MTIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;
</span><span class="html1-text">Template last accessed: [%$ATIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span></span></code></pre>
<p> <b>Output:</b> </p>
<p>Template created: 1/12/2006 <br/> Template modified: 19/1/2007 <br/> Template last accessed 21/1/2007</p>
</div>
<!-- NEXT: modifier -->
<h4> <a name="mod_embeddedtags"></a>embeddedTags</h4>
<p> [%$foo|embeddedTags%] </p>
<p>This modifier replaces all embedded tags in a variable by the appropriate tags, as prescribed by YANA's syntax.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> $foo = &quot;Text [b]Text[/b] Text&quot; </p>
<p> <b>Output:</b> </p>
<p> Text &lt;span style=&quot;font-weight:
bold;&quot;&gt;Text&lt;/span&gt; Text </p>
</div>
<!-- NEXT: modifier -->
<h4> <a name="mod_href"></a> href</h4>
<p> [%$foo|href%] </p>
<p>Generates a link to the file index.php including all required parameters. The string $foo is appended to the end of the URL The URL will automatically be embraced by double quotation marks (&quot;). <br/>
</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p>&lt;a href=[%&quot;action=myplugin_new_entry&quot;|href%]&gt;new entry&lt;/a&gt;</p>
<p> <b>Output:</b> </p>
<p>&lt;a href=&quot;index.php?sessid=foo&amp;amp;id=example&amp;amp;action=myplugin_new_entry&quot;&gt;new entry&lt;/a&gt;</p>
</div>
<!-- NEXT: modifier -->
<h4> <a name="mod_smilies"></a> smilies</h4>
<p> [%$foo|smilies%] </p>
<p>Replaces all icon codes in a variable by the appropriate icons.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> <code> $foo = &quot;Text :example: Text&quot; </code> </p>
<p> [%$foo|smilies%] </p>
<p> <b>Output:</b> </p>
<p> Text <br/>
&lt;img border=&quot;0&quot; hspace=&quot;2&quot;
src=&quot;common_files/smilies/example.gif&quot;&gt; <br/>
Text </p>
</div>
<!-- NEXT: modifier -->
<h4> <a name="mod_url"></a> url</h4>
<p> [%$foo|url%] </p>
<p>Generates a link, just as the modifier &quot;href&quot;, but outputs an absolute path without quotation marks.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p>&lt;meta http-equiv=&quot;Refresh&quot; content=&quot;2; URL=[%&quot;action=myplugin_new_entry&quot;|url%]&quot;&gt;</p>
<p> <b>Output:</b> </p>
<p>&lt;meta http-equiv=&quot;Refresh&quot; content=&quot;2; <br/> URL=http://.../index.php?sessid=foo&amp;amp;id=example&amp;amp;action=myplugin_new_entry&quot;&gt;</p>
</div>
<p class="kommentar"> <span style="font-weight: bold;"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;"/> Attention!  </span> The following will not work: <code> &lt;a href=&quot;[%&quot;action=foo&quot;|url%]&quot;&gt;link&lt;/a&gt; </code> <br/> Result: <code> &lt;a href=&quot;skins/default/http://.../index.php?...&quot;&gt;link&lt;/a&gt; </code> </p>
<!-- NEXT: modifier -->
<h4> <a name="urlEncode"></a> urlEncode</h4>
<p> [%$foo|urlEncode%] </p>
<p>Encodes a text so that can safely be used as parameters in a URL. Therefore it will use the PHP function <code>urlencode()</code>.</p>
<div class="codeexample">
<div> <b>Example:</b> </div>
<p> &lt;a
href=&quot;?bar1=foo1&amp;amp;bar2=[%$foo|urlEncode%]&quot;&gt; </p>
<p> <b>Output:</b> </p>
<p> &lt;a
href=&quot;?bar1=foo1&amp;amp;bar2=foo%20bar&quot;&gt; </p>
</div>
</div>
<!-- END: modifier -->
<h2><a name="developer_plugin"></a>Creating plug-ins and applications</h2>
<h3>General introduction</h3>
<p>For the Yana Framework all web applications are called &quot;plugins&quot;. More complex applications may consist of several sub-systems. These subsystems may have several plug-ins, which work hand in hand. Some of these &quot;subsystems&quot; are already pre-implemented and only need to be used.</p>
<p>In this way, programmer's may save a lot of work. For example, you don't need to worry about checking passwords. There are already plug-ins, which will do this for you. Also the administration menu does not need the be rewritten, instead it just needs to be used. If you don't like a component, just replace or remove it. If a feature is missing, it can be added without changing to other plug-ins.</p>
<p>The creation of a new plug-ins will become simpler, if you are using YANA's SDK. It is a wizard, that gathers all necessary information and then automatically creates the new application for you. You simply have to adapt the result to your needs.</p>
<h3> Software Development Kit (YANA-SDK)</h3>
<div class="box">The SDK supports the developer with a graphic user interface. The graphical interface leads through four steps, in which appearance, behavior and general information about the application and copyright will be gathered.</div>
<div class="box">It is strongly recommended, that you install the SDK only on web servers, which are not accessible by the public. If you need installation instructions, see chapter <a href="#plugin_sdk_install">&quot;Software Development Kit / Installation&quot;</a>.</div>
<h4>Step 1: General information</h4>
<div style="text-align: center;"> <img alt="Form 1" src="data/abb_sdk_1_1.png"/> </div>
<div class="box">
<p>First some general information has to be given. See figure above.</p>
<dl>
<dt>Name of the software:</dt><dd>any text</dd>
<dt>Description:</dt><dd>any text HTML is NOT allowed.</dd>
<dt>Image:</dt><dd>choose an icon from the list, which represents your application</dd>
</dl>
</div>
<p style="text-align: center;"> <img alt="Form 2" src="data/abb_sdk_1_2.png"/> </p>
<div class="box">
<p>Some information on you, the author of the software:</p>
<dl>
<dt>Author:</dt><dd>Your name</dd>
<dt>E-mail address:</dt><dd>Address for questions about your software. You may leave this field blank if you want.</dd>
<dt>Web site for updates:</dt><dd>a valid URL. If you have a web site on which you provide updates for this application, please enter the address here.</dd>
</dl>
</div>
<p style="text-align: center;"> <img alt="Form 3" src="data/abb_sdk_1_3.png"/> </p>
<div class="box">
<dl>
<dt>Priority of execution:</dt>
<dd>This value determines the order in which plug-ins are executed. Security-relevant plug-ins (password queries, etc.) should have a higher priority, thus they are executed before other plug-ins on the series. Other plug-ins (log files, etc.) should have a lower priority.</dd>
<dt>Type of Application:</dt>
<dd>Valid values for type of application are:<br/> &quot;default&quot;, &quot;primary&quot;, &quot;config&quot;, &quot;read&quot;, &quot;write&quot;,  &quot;security&quot;.<ul>
<li>Members of group &quot;security&quot; will always have a higher priority than all the other plug-ins. This group is used for plug-ins that implement user authentication.</li>
<li>The group &quot;config&quot; receives only events of type &quot;default&quot;, &quot;security&quot; oder &quot;config&quot;. It is meant to be used for plug-ins, which provide functionality to edit configuration files and settings. Usually, these plug-ins serve as extensions to other plug-ins. So there is a dependency. This dependence can be expressed, among other things, by adding a definition, that both plug-ins are part of the same package.</li>
<li>The group &quot;write&quot; receives events of the type &quot;write&quot;, &quot;security&quot; or &quot;default&quot;. It is designed for plug-ins, which only write to a file or a database. This group is however seldom used in practice. It is mentioned here for reasons of completeness.</li>
<li>The group &quot;read&quot; receives events of type ?read?, ?security? or ?default?. It is meant to be used for plug-ins, which only read from a file or a database. This group is seldom used.</li>
<li>The group &quot;primary&quot; treats all events except &quot;config&quot;. It is designed for plug-ins, which act as main programs.</li>
<li>The group &quot;default&quot; receives all events except those of type &quot;security&quot;, &quot;config&quot; and &quot;primary&quot;. It is intended for &quot;other&quot; plug-ins and as a solution for developers, who are uncertain about which group they should take for their plug-in.</li>
</ul></dd>
<dt>requires the plug-in:</dt>
<dd>Id of another plug-in, which is required for your software to run. Use this field if you extend an existing application with new capabilities. The selection menu is used only as guidance. You don't necessarily need to use one of the Ids listed in this menu.</dd>
<dt>belongs to package:</dt><dd>use this field to show that two plug-ins belong together. Enter into this field a common &quot;package&quot;, that both belong to.</dd>
</dl>
</div>
<h4>Step 2: edit interface</h4>
<p>The second step allows developers to add their own actions to the plug-in's interface.</p>
<p> <span style="font-weight: bold;">If you just want to create a simple database application, you may skip this step.</span>  Most standard actions, such as the viewing of database entries, search, edit, delete or insert don't need to be written by hand. These actions are created by the SDK automatically.</p>
<p>If you want to set up other actions, you can define their interface here. To do so you may use one of the templates, which the SDK suggests. A manual creation is also possible. The interfaces can also be manually changed.</p>
<p style="text-align: center;"> <img alt="Form 4" src="data/abb_sdk_2_1.png"/> </p>
<div class="box">
<p>For some actions their are standard templates, which can be used. Have a look at the select box. If an option is selected, a list of all generated actions is shown for comparison. You can review the entire interface by selecting the tab &quot;edit interface manually&quot;.</p>
</div>
<div style="text-align: center;"> <img alt="Form 5" src="data/abb_sdk_2_2.png"/> </div>
<div class="box">
<p>An interface contains the following information:</p>
<dl>
<dt>Name of action:</dt><dd>Name of the function (any text). May only contain characters A-Z, 0-9 and &quot;_&quot;. Look at the examples for comparison.</dd>
<dt>Mode:</dt><dd>usually &quot;standard&quot;. Safe mode is meant to be used in case you want or need to ensure, only default values are used.</dd>
<dt> Templates:</dt><dd>ID of the templates to be used. This id is defined in the skin. Look at the skin files in the directory &quot;skins/default/*.config&quot;, or use the menu for an example! </dd>
<dt>Access restriction:</dt><dd>selects the minimum privileges a user must have to be able to trigger this action.</dd>
</dl>
</div>
<div style="text-align: center;"> <img alt="Form 6" src="data/abb_sdk_2_3.png"/> </div>
<div class="box">
<p>This option may be used to control the results, or as an alternative input interface for experienced users. You see all defined actions and can make changes.</p>
<p>Beware! Errors may cause, that the plug-in cannot be generated correctly.</p>
</div>
<h4>Step 3: Generate the GUI</h4>
<p>For database application a GUI can be generated automatically. To do so a structure file is required, which describes the database. From the information in this file, for each table the SDK creates matching template files, the appropriate actions and also generates the necessary additions to the interface of the application.</p>
<p style="font-weight: bold;">If you don't want to create such a database application, you may skip this step.</p>
<p>This will automatically create for each table: templates to view, edit, create and search database contents, plus the PHP-code for all required functions. In addition functions for downloading images and files from the database. Also a JavaScript file is created, which can be used to trigger actions on the server via Ajax. Last the structure file itself will be stored in the system.</p>
<p style="text-align: center;"> <img alt="Form 7" src="data/abb_sdk_3_1.png"/> </p>
<div class="box">
<p>If you have not created a structure file yet, you may now create such a file. For this use the plug-in &quot;DB-Tools&quot;. On the administration panel open the menu &quot;DB-Tools&quot; / &quot;Import&quot;. Choose one of the options to import an already existing database. If you don't have any, please read the <a href="#mein_erstes_Plugin">beginner's tutorial</a> for a start. Also note the examples in the <a href="#cookbook_database">Developer's Cookbook</a>.</p>
</div>
<p style="text-align: center;"> <img alt="Form 8" src="data/abb_sdk_3_2.png"/> </p>
<div class="box">
<p>If you now got a structure file, input the path to this file here. Click on &quot;search&quot;, if you are not sure where this file is stored.</p>
</div>
<h4>Step 4: Create an installation routine</h4>
<div style="text-align: left;">In step 4 your may define your own SQL-files to install your database. This step is optional. The framework (since version 2.8.6) is able to generate the required SQL statements for the installation automatically when needed by using the file structure defined in step 3. This works for MySQL, MS-SQL, PostgreSQL, Oracle databases, IBM DB2 and MS Access. Handiwork is (except in exceptional cases) unnecessary. <br/> <br/> If no automatic generation is possible for your desired DBMS, you should write a SQL installation file yourself.<br/>
<br/>
<div style="text-align: center;"> <img alt="Form 9" src="data/abb_sdk_4_1.png"/> </div>
</div>
<div class="box">
<p>Select the source file in SQL format, that contains the information to install the database.</p>
</div>
<p>You will find your SQL installation files in the folder &quot;config/db/.install/&quot; after finishing the process. This folder contains subdirectories for all supported DBMS. You may also copy your SQL-files to this location at a later stage. The file must have the same name as the structure file and use the extension &quot;.sql&quot;.</p>
<h3>Creating the application</h3>
<p>To end the configuration, click &quot;complete&quot;.</p>
<p>The SDK produces a skeleton of the application, all the necessary templates, as well as all the necessary configuration files. These include in particular: meta information, e.g. description of the plug-in's interface, meta information of required files, meta information of used templates.</p>
<p>The newly generated plug-in can be used immediately. You can find all files in the directories &quot;plugins&quot;, &quot;skins/default&quot; under the ID code of the plug-in.</p>
<h3>install plugin</h3>
<p>To test the just-created plug-in:</p>
<ol>
<li>Open the file &quot;index.php&quot;.</li>
<li>Open the administration menu. You need to have administrator priviliges. Make sure you are using the expert mode.</li>
<li>In the right column, section &quot;plugins&quot;, click on &quot;refresh list.&quot;</li>
<li>Look for the name of your plug-in in the list and activate it, by clicking the checkbox next to the plugin's name.</li>
<li>Save your changes.</li>
<li>Log out.</li>
<li>The application's name will appear on the site map. Click it to run the application. (the entry on the site map will appear only if you have defined at least 1 action in the interface, which has type &quot;read&quot; or &quot;default&quot; and a minimum access permission of &quot;0&quot; (=public). If not, you have to enter the name of the desired action at the address bar of your browser: index.php?action=my_action. This mechanism is meant to avoid, that plug-ins that are not able to be run as a stand-alone, or that need administrator priviliges appear on the public site map)</li>
</ol>
<h2>Creating translations</h2>
<h3>General introduction</h3>
<p>This application uses files to store content, which can be translated to several languages. These files are grouped together as packages. One package fits to one translation. For example, this might be a German or an English package. Each package contains texts and graphics. In the text files, IDs are assigned texts. The IDs are identical to the corresponding tokens in the skin packages.</p>
<h3>Editing translations</h3>
<p>If you have found an error in a translation package and want to correct it, you will find the appropriate files in the directory &quot;languages/&quot;. One subdirectory per package. Each of the packages contains files which match the names of the plug-ins which they are intended to be used with.</p>
<p>Editing these files is possible easy. Open the file in a text editor of your choice. The files use a XML-like format. Avoid the use of HTML tags in these documents. Using embedded tags is permitted. Note that no line breaks are permitted within the text flow. To insert a line break, use the embedded tag [br].</p>
<p>If you edit a translation, it is recommended  to overwrite the original data. Instead make a copy of the file as a new language pack.</p>
<h3>Generating new language packs</h3>
<p>To translate the text messages of the application to a new language, save a copy of the directory &quot;languages/de&quot; and the related configuration file &quot;deutsch.config&quot; under a new name. You should use the name of the language for which you want to provide the translation. For example &quot;languages/es&quot;.</p>
<p>You can add your personal information, such as name of the author, or a brief description. Edit these settings in the configuration file of the language package. You can also insert an appropriate graphic. Usually a national flag. To do so replace the file &quot;flagge.gif&quot;.  The name of the file is specified in the configuration file under the id &quot;LANGUAGE_INFO.LOGO&quot;.</p>
<h2>Coding Principles</h2>
<h3>General introduction</h3>
<p>&quot;Coding principles&quot; are general rules on how to write and format PHP-code. These rules are meant to help, to keep your source code easy to read and understand.</p>
<p>If several authors are working together on the same source code, it is quite common, that each author may have it's own idea on how clean code should look like. There are dozens of possibilities to express the same thing with PHP. To ensure the source code remains well readable in the long term, it is necessary that all authors agree on a common standard on how to write statements.</p>
<p>The &quot;Coding principles&quot; stated here provide such a definition. These rules are not obligating, however, I would like to recommend them to you.</p>
<h3>Indention and comments</h3>
<p>The source code should be indented with 4 blanks. Do not use tabulators, because these can be viewed differently on different systems.</p>
<p>For comments use exclusively the syntax /* comment */. This has a deeper meaning! Later, when you write or use scripts, that analyse or automatically document your source code, this will make your task a lot easier. Unlike the syntax // comment or # comment, you have a fixed start and end for each comment, that you can rely on. Lines of comments can be fetched easily with simple regular expressions, saving you much effort when creating these scripts.</p>
<p>Here is a example.</p>
<pre class="box">&lt;?php
$output = array();
/* iterate through input */
foreach ($input as $key =&gt; $element)
{
    $element = strip_tags( (string) $element);
    if (preg_match(&quot;/\//&quot;, $key)) {
        $key = preg_replace(&quot;/\//&quot;, &quot;.&quot;, $key);
        Hashtable::set($output, $key, $element);
    } else {
        $output[$key] = $element;
    }
} /* end foreach */
?&gt;</pre>
<h3>Declarations and lifetime of variables</h3>
<p>In PHP has no variable declaration in the sense of other languages. Nevertheless variables have a certain life span. Before and after a variable's life span it does not exist, what means no value is assigned.</p>
<p>The reason for many errors in PHP is, that programmers assume a variable to be unused, of a certain type, or that is no longer used after a certain code line. However PHP does NOT ensure that and also will not warn you if you are wrong, unless you &quot;please&quot; it to do so. This is exactly what you should do!</p>
<p>If you do it, PHP will warn you, if you use a variable outside it's life span and by doing so will possibly save you many hours of debugging!</p>
<p>Variables should be named in CamelCase - for example, $debugSourcePath instead of $debug_source_path. The first letter should always be written small - in difference to class names. There (and only there) the first letter should be large. This definition for the way of writing is similar to that in many other languages like Java.</p>
<pre class="box">&lt;?php
/* Start of life span */
/* The following line will warn you if the variable already exists */
assert('!isset($variable); // Cannot redeclare $variable');

/* always initialize variables before use */
$variable = 0;

/* ... additional statements ... */

/* If a variable is no longer needed it should always explicitly be unset */
unset($variable);
/* End of life span */
?&gt;</pre>
<h3>If and Else statements</h3>
<p>When working with if and else, please always use brackets { } for each block. While PHP permits to spare these brackets, if a block consists of only one statement, this style of coding is error-prone, since you may always come to the point where you decide to add another line of code and in this situation it is easy to oversee the missing brackets.</p>
<p>If an If-block is very long (more than 10 lines), you should add a comment /* end if */  at the closing bracket for better readability. For long code blocks this helps to identify what statement a bracket belongs to.</p>
<pre class="box">&lt;?php
if ($test1) {
    /* ... */
} elseif ($test2) {
    /* ... */
} else {
    /* ... */
} /* end if */
?&gt;</pre>
<h3>Switch statement</h3>
<p>When using Switch-statements mind the text indentation and line breaks, which serve readability.</p>
<p>Avoid using &quot;fall trough&quot;, for this may lead to code which is difficult to read. If you somehow cannot avoid it, you should mark this special case with the comment /* fall through */ instead of the Break-statement for documentation.</p>
<p>The Default-case should always be included. This enhances the clarity of your code.</p>
<p>If two different cases use the same code, this can be expressed by writing case 1: case 2: ... break;. This is a useful abbreviation and you are recommended to use it, where you see fit.</p>
<pre class="box">&lt;?php
switch ($variable)
{
    case 1:
        /* ... */
    break;
    case 2: case 3:
        /* ... */
    break;
    case 4:
        /* ... */
    break;
    case 5:
        /* ... */
    break;
    case 6:
        /* ... */
    /* fall through */
    default:
        /* ... */
    break;
} /* end switch */
?&gt;</pre>
<h3>For, ForEach and While statements</h3>
<p>Again mind the line breaks for better readability.</p>
<p>PHP has a rather uncommon &quot;feature&quot;. The life span of a block / loop -variable does NOT end, as in other languages, when exiting the block / loop, but will continue to have it's last assigned value. This also means that loop variables in PHP may overwrite the value of another, already existing variable. PHP will not warn you on this issue. To address this behavior, and the potential risk, which is associated´with it, you should treat the begin of any For- or ForEach-loop like a variable declaration and check whether any used loop variables already exist.  When exiting a loop, you should always explicitly unset variables to avoid side effects.</p>
<p>Note that a ForEach statement necessarily expects an array to work on. Before entering the loop check the type of the input variable by using the function is_array () and add appropriate error handling if the variable has not the expected type.</p>
<p>For While-loops ensure that exit points, introduced by Break- or Continue-statements, are always sufficiently documented.</p>
<p>Take a look at the following examples:</p>
<pre class="box">&lt;?php
/* Example: FOR-loop */
assert('!isset($i); // Cannot redeclare $i');
for ($i = 0; $i &lt; sizeOf($input); $i++)
{
    /* ... */
} /* end for */
unset($i);

/* Example: FOREACH-loop */
assert('!isset($key); // Cannot redeclare $key');
assert('!isset($element); // Cannot redeclare $element');
foreach ($input as $key =&gt; $element)
{
    /* ... */
} /* end foreach */
unset($key);
unset($element);

/* Example: WHILE-loop */
while ($test)
{
    /* ... */
} /* end while */
?&gt;</pre>
<h3>Classes and functions</h3>
<p>For the names of classes and functions be advised to uniformly use CamelCase. For function names, the first letter is always small.. For class names the first letter is always capitalized. This rule is similar to Java and other C-type languages.</p>
<p>In PHP it is common that the names of private functions and methods start with an underscore to improve readability. If you decide to use this notation, please use it only for identification of private functions and methods.</p>
<p>To improve readability it is recommended, that the name of a function starts with a verb in imperative and a noun in singular, for example: &quot;getBeer()&quot; or &quot;setContent()&quot;. If the return value is a list object or an array, use a noun in plural, for example: &quot;getLines()&quot;.</p>
<p>Use PHPDoc comments (http://www.phpdoc.org/) for documentation of classes and functions. These should be mandatory. Make it a habit to always immediately document any new function you write, while the idea and details are still fresh in your memory. By writing documentation you are forced to review the content of your work and thus will recognize mistakes, false assumptions or defective pre-conditions earlier.</p>
<p>The documentation of a function should always contain: the input data the function expects (for example: &quot;an integer between 0 and 5&quot;), the purpose of the function - that is what this does. Moreover, the return values of the function (for example: &quot;an integer between 1 and 6, or false, if an error occurs&quot;).</p>
<p>It is general practice to document source codes in English. If you are able to write your documentation in English, then do so.</p>
<p>If you want to use UML-style stereotypes, then write them in front of the name of the function or class and use parentheses, which is common for writing stereotypes.</p>
<p>It is common to keep variables &quot;private&quot; and the restrict all access to set - and get-functions. For example, access to a private variable &quot;$foo&quot; should be restricted to functions with the name &quot;setFo ()&quot; and &quot;getFoo()&quot;. Note that the class variables must always be initialized - if necessary, initialize them with the constant &quot;null&quot;!</p>
<pre class="box">&lt;?php
/**
 * «Stereotype» name
 * 
 * The purpose of this class is ...
 * 
 * @access      public
 * @package     package
 * @subpackage  subpackage
 */
class MyClass extends BaseClass
{

    /**#@+
     * @access  private
     */

    /** @var array */  private $var1 = array();
    /** @var int   */  private $var2 = 0;
    /** @var View  */  private $var3 = null;
    /** @var array */  private $var4 = array();
    /** @var array */  private $var5 = array();

    /**#@-*/

    /**
     * «Stereotyp» Constructor
     * 
     * This function accepts the following input ...
     * 
     * This function does ...
     * 
     * It returns the following values ...
     * 
     * @param  string  $filename  path to file.ext
     */
    public function __construct ($filename)
    {
        /* ... */
    }

    /**
     * «Stereotype» name
     * 
     * This function accepts the following input ...
     * 
     * This function does ...
     * 
     * It returns the following values ...
     * 
     * @access  public
     * @param   string  $id  alphanumeric, unique identifier
     * @return  int
     */
    public function getVar ($filename)
    {
        /* ... */
    }

}
?&gt;</pre>
<!-- NEXT CHAPTER -->
<h2><a name="API-Dokumentation"></a><a href="api_documentation/index.html">API documentation</a></h2>
<div class="box">
<p>The API documentation contains information for developers who want to write their own extensions. Here are descriptions of interfaces and examples to all classes and functions of the software.</p>
<p><a href="api_documentation/index.html">Click here to open the API documentation.</a></p>
</div>
<h2><a name="Kochbuch"></a>Cookbook</h2>
<h3> <a name="cookbook_database"></a>Working with databases</h3>
<h4>General introduction</h4>
<h5>Which features are supported?</h5>
<p>The Yana Framework offers a API for working with databases, which is based on PEAR-DB. This API extends the abilities of PEAR by the following features:</p>
<ul>
<li style="font-weight: bold;">Support for database schemata</li>
<li style="list-style-type: none;"> <span style="font-style: italic;">... by support for schemata the following additional features may be provided, which are not available through PEAR-DB alone:</span>
<ul>
<li>automatic validation of queries against the database schema</li>
<li>resolving foreign key relations automatically</li>
<li>automatic type checking before executing input/updates, with additional data types: &quot;SELECT&quot;, &quot;URL&quot;, &quot;IP&quot; and &quot;mail&quot;</li>
<li>automatic logging of database events</li>
<li>automatic creation of backups for deleted data records in log files</li>
<li>automatic validation of user-defined constraints in PHP syntax (independent of the DBMS)</li>
<li>automatic treatment of parallel updates and transactions (it avoids racing conditions between concurrent updates by several users)</li>
<li>form generator for generating a graphic user interface based on a database schema</li>
<li>reverse engineering of databases to database structure files</li>
<li>read-only flag on databases, tables and columns</li>
<li>DBMS-independent trigger using PHP syntax</li>
<li>schema files may import further schema files</li>
</ul>
</li>
<li style="font-weight: bold;">intuitive API with query-builder</li>
<li style="list-style-type: none;"> <span style="font-style: italic;">... features of the query-builder:</span>
<ul>
<li>automatic quoting of identifiers and values</li>
<li>automatic production of queues of INSERT/UPDATE statements</li>
<li>automatic caching if INSERT/UPDATE statements</li>
<li>automatic wrapping of SQL-statements in in transactions</li>
<li>broad protection from many variants of SQL Injections</li>
<li>optional bypass to PEAR-DB</li>
<li>Function to dump the current database structure to a new schema file</li>
<li>automatic dissolving of table inheritance</li>
</ul>
</li>
<li style="font-weight: bold;">own flat file database</li>
<li style="list-style-type: none;"> <span style="font-style: italic;">... takes over automatically, if no database is available or the end-user decides not to use a database. Thus database features are available also on servers without MySQL support. The flat file database has the following features:</span>
<ul>
<li>support for auto-increment like in MySQL</li>
<li>unique-constraints and indexes</li>
<li>support for transactions</li>
<li>read stability isolation level</li>
<li>Function for the synchronization of tables between a MySQL database and the flat file database</li>
</ul>
</li>
</ul>
<h5>Which features are not supported?</h5>
<p>There are several features which the <b>flat file database</b> currently does not provide, but are planned for future versions.</p>
<ul>
<li>Random access for fast access to large tables</li>
</ul>
<p>There are several features which <b>database schemata</b> currently do not provide, but are planned for future versions.</p>
<ul>
<li>support of compound primary keys</li>
</ul>
<h4>How do I open a connection to a database?</h4>
<p>This requires a schema file. The schema files has to be present in the folder &quot;config/db/&quot; and must have the file extension &quot;.config&quot;.</p>
<h5>Open a database connection with the current connecting data</h5>
<pre class="codeexample">&lt;?php
global $YANA;
$structure = 'guestbook';
$db_connection = $YANA-&gt;connect($structure);
?&gt;</pre>
<p>The connecting data for the database (like host address, user name and password) is entered by the user in the administration menu. So you DON'T have to include this in your code.</p>
<p>If you don't want to use a structure file, you may leave it blank. However: not that this is not recommended within a productive environment. In this case the framework will try to determine the missing information itself. If this fails the database connection will not be usable.</p>
<h5>Open a connection to a database with individual connecting data</h5>
<p>If you want to open a connection to a database, but want to set the connection information yourself in the code, proceed as follows:</p>
<pre class="codeexample">&lt;?php
/* connection information is provided as associative array: */
$connection = array(
    'DBMS' =&gt; 'mysql',
    'HOST' =&gt; 'localhost',
    'PORT' =&gt; 0,
    'USERNAME' =&gt; 'user',
    'PASSWORD' =&gt; 'pass',
    'DATABASE' =&gt; 'database_name'
);

/* To use the YANA-API to communicate with the database, write: */

$db_server = new DbServer($connection);
$yana_api = new DbStream($db_server);

/* To use the PEAR-API to communicate with the database, write: */

$db_server = new DbServer($connection);
$pear_api = $db_server-&gt;get();

/*To use the PEAR-API with the default connection data, write: */

$db_server = new DbServer();
$pear_api = $db_server-&gt;get();
?&gt;</pre>
<h4>How do I know if the database has been activated through the administrator's menu?</h4>
<pre class="codeexample">&lt;?php
if (YANA_DATABASE_ACTIVE === true) {
    print &quot;Database is active&quot;;
} else if (YANA_DATABASE_ACTIVE === false) {
    print &quot;Database is NOT active&quot;;
}
?&gt;</pre>
<h4>How do I create a database query?</h4>
<p>Therefor the API offers the function $db-&gt;get(string $key). This executes a SELECT query on the database and returns the value indicated by the argument $key.</p>
<ul>
<li>If &quot;key&quot; references a single cell, the returned value will be scalar.</li>
<li>If  &quot;key&quot; references a whole table, the returned value will be a two-dimensional associative array of rows.</li>
<li>If &quot;key&quot; references a row, the returned value will be a one-dimensional associative array of cells, where the names are the names of the columns.</li>
<li>If &quot;key&quot; refrences a columns, the returned value will be a one-dimensional associative array of cells, where the names will be the values of the primary keys.</li>
</ul>
<pre class="codeexample">&lt;?php
global $YANA;
$db = $YANA-&gt;connect('guestbook');

/*
   The following syntax may be used:

   $db-&gt;get(
            string &quot;$table.$row.$column&quot;,
            string $where,
            string $order_by,
            int $offset,
            int $limit
           );

   Example:
   $value = $db-&gt;get(&quot;table.1.field&quot;,&quot;row1=val1,row2=val2&quot;,&quot;row1&quot;,0,1);

   will create the following SQL statement:
   SELECT field from table where primary_key = &quot;1&quot; and row1 like '%val1%' and row2 like '%val2%' order by row1 limit 1;
*/

/* output field */
$value = $db-&gt;get(&quot;table.1.field&quot;);
/*
   will create the following SQL statement:
   SELECT field from table where primary_key = &quot;1&quot;;
*/

/* output column: */
$column = $db-&gt;get(&quot;table.*.field&quot;);
foreach ($column as $row =&gt; $value)
{
    print &quot;&lt;p&gt;Value of 'field' in row '$row' = $value&lt;/p&gt;&quot;;
}
/*
   will create the following SQL statement:
   SELECT field from table;
*/

/* output row: */
$row = $db-&gt;get(&quot;table.2&quot;);
foreach ($row as $column =&gt; $value)
{
	echo &quot;&lt;p&gt;Value of column '$column' in row '2' = $value&lt;/p&gt;&quot;;
}
/*
   will create the following SQL statement:
   SELECT * from table where primary_key = &quot;2&quot;;
*/

/* output table: */
$table = $db-&gt;get(&quot;table&quot;);
foreach ($table as $index =&gt; $row)
{
	foreach ($row as $column =&gt; $value)
	{
		echo &quot;&lt;p&gt;Value at 'table.$index.$column' = $value&lt;/p&gt;&quot;;
	}
}
/*
   will create the following SQL statement:
   SELECT * from table;
*/
?&gt;</pre>
<h4>How do I execute INSERT- / UPDATE- statements?</h4>
<p>Use the function $db-&gt;insert($key,$value). This will insert the value &quot;value&quot; at position &quot;key&quot;. This may either be a row or a cell. The insertion of whole tables or columns is not supported.</p>
<p>With the first call of this function a transaction is created automatically. Use the function $db-&gt;write() to send a COMMIT. If any of the statements fail a CALLBACK is send automatically.</p>
<p>If the row does not exist, a INSERT statement will be created, otherwise a UPDATE statement.</p>
<p>The function returns &quot;true&quot; on success and &quot;false&quot; otherwise.</p>
<p>Please note: the SQL-statement is not executed unless you call $db-&gt;write().</p>
<p>Take a look at the following examples:</p>
<pre class="codeexample">&lt;?php
global $YANA;
$db = $YANA-&gt;connect(&quot;guestbook&quot;);

/* insert new row: */
$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;val1&quot;,&quot;row2&quot;=&gt;&quot;val2&quot;));
$db-&gt;write();

/* update row: */
$db-&gt;update(&quot;table.2&quot;,array(&quot;row1&quot;=&gt;&quot;val1&quot;,&quot;row2&quot;=&gt;&quot;val2&quot;));
$db-&gt;write();

/* update cell: */
$db-&gt;update(&quot;table.2.row1&quot;,&quot;val1&quot;);
$db-&gt;write();

/* execute transaction: */
$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;wert1&quot;,&quot;row2&quot;=&gt;&quot;wert2&quot;));
$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;wert3&quot;,&quot;row2&quot;=&gt;&quot;wert4&quot;));
$db-&gt;update(&quot;table.1.row3&quot;,&quot;wert1&quot;);
$db-&gt;write();
?&gt;</pre>
<h4>How do I execute a DELETE statement?</h4>
<p>Use the function $db-&gt;remove($key). This will remove the data set  &quot;key&quot; from the table. The function returns &quot;true&quot; on success and &quot;false&quot; otherwise. Only rows can be deleted. No tables, cells or columns.</p>
<p>Note the following restriction: for security reasons only 1 row is deleted with each call. To delete more rows, call the function repeatedly. This restriction is to prevent that someone can delete an entire table by inadvertence or by mistake.</p>
<p>Please note: the SQL-statement is not executed unless you call $db-&gt;write().</p>
<pre class="codeexample">&lt;?php
global $YANA;<br/>$db = $YANA-&gt;connect('guestbook');

/* Remove 2nd row: */
$db-&gt;remove(&quot;table.2&quot;);
$db-&gt;write();
/**
 * will create the following SQL statement:
 * DELETE FROM table WHERE primary_key = &quot;2&quot; LIMIT 1;
 */

/* remove whole table: */
for ($i=0; $i &lt; $db-&gt;length($table); $i++)
{
	$db-&gt;remove(&quot;table.*&quot;);
}
$db-&gt;write();
/**
 * will create the following SQL statement:
 * DELETE FROM table WHERE primary_key = &quot;2&quot; LIMIT 1;
 */
?&gt;</pre>
<h4>How do I know how many rows a table has?</h4>
<pre class="codeexample">&lt;?php
global $YANA;<br/>$db = $YANA-&gt;connect('guestbook');

if ($db-&gt;length('table') === 0) {
	print &quot;The table is empty.&quot;;
} else {
	print &quot;The table contains &quot;.$db-&gt;length('table').&quot;  rows.&quot;;
}
?&gt;</pre>
<h4>How do I know if a table / row exists?</h4>
<pre class="codeexample">&lt;?php
global $YANA;<br/>$db = $YANA-&gt;connect('guestbook');

/* check connection: */
if ($db-&gt;exists() === true) {
	print &quot;Database connection available.&quot;;
} else if ($db-&gt;exists() === false) {
	print &quot;Database connection NOT available&quot;;
}

/* check if table exists: */
if ($db-&gt;exists('table') === true) {
	print &quot;Table exists.&quot;;
} else if ($db-&gt;exists('table') === false) {
	print &quot;No such table&quot;;
}

/* check if row exists: */
if ($db-&gt;exists(&quot;table.2&quot;) === true) {
	print &quot;The row '2' exists.&quot;;
} else if ($db-&gt;exists(&quot;table.2&quot;) === false) {
	print &quot;No row '2' in table.&quot;;
}

/* check if cell exists and is not null: */
if ($db-&gt;exists(&quot;table.2.field&quot;) === true) {
	print &quot;There is a cell 'field' in row '2' which has a value.&quot;;
} else if ($db-&gt;exists(&quot;table.2.field&quot;) === false) {
	print &quot;The cell does not exist or is NULL.&quot;;
}

/* Check if there is at least one field that is not NULL: */
if ($db-&gt;exists(&quot;table.*.field&quot;) === true) {
	print &quot;There is a value in column 'field'.&quot;;
} else if ($db-&gt;exists(&quot;table.*.field&quot;) === false) {
	print &quot;The column 'field' does not exist or contains no values.&quot;;
}
?&gt;</pre>
<h4>How do I create an installation routine for my tables?</h4>
<p>Manual providing of installation routines for the Yana Framework is not necessary.</p>
<p>The Yana Framework has a generic installation routine for databases, which you will find in the administrator's menu, at the &quot;database setup&quot;. Using this menu a user can install all tables or synchronize contents between the DBMS and the flat-file database.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/screen45.png"/> <br/>Figure: Opening a connection and installing databases</p>
<p>The Framework generates the necessary SQL instructions automatically from the structure file of your database. The following source code shows, how you can see the code generated by the Framework.</p>
<pre class="codeexample">&lt;?php
$db = $YANA-&gt;connect('guestbook');
$dbe = new DbExtractor($db);

// Generates &quot;Create Table ...&quot;-statements for MySQL
$sql = $dbe-&gt;createMySQL();

// there are more functions for other DBMS
$sql = $dbe-&gt;createPostgreSQL();
$sql = $dbe-&gt;createMSSQL();
$sql = $dbe-&gt;createMSAccess();
$sql = $dbe-&gt;createDB2();
$sql = $dbe-&gt;createOracleDB();

// show result
print implode(&quot;\n&quot;, $sql);
?&gt;</pre>
<p>If the generated code does not correspond to your expectations, you can replace it by your own SQL file. Please copy your files to the directory &quot;config/db/.install/{DBMS}&quot;, whereby you select the subdirectory, which corresponds to the desired DBMS instead of {DBMS}. The file &quot;config/db/.install/readme.txt&quot;, contains a list of the supported DBMS and the names for the intended subdirectories to be used. They don't have to provide own files for all supported DBMS. If a required file does not exist, the Framework (like before) will produce the necessary SQL instructions itself automatically.</p>
<p>For further details see the API documentation of class: &quot;DbExtractor&quot;.</p>
<h4>How do I import a SQL file containing DDL instructions?</h4>
<pre class="codeexample">&lt;?php
global $YANA;
$db = $YANA-&gt;connect('guestbook');
$db-&gt;importSQL('data.sql');
?&gt;</pre>
<h4>How do I import data from a CSV-file?</h4>
<pre class="codeexample">&lt;?php
global $YANA;
$db = $YANA-&gt;connect('guestbook');
$csv = $db-&gt;toString('table');
file_put_contents(&quot;table.csv&quot;, $csv);
?&gt;</pre>
<h3> <a name="title"></a>Working with the schema of a database</h3>
<h4> <a name="exportStructure"></a>How do I export a database schema to a file?</h4>
<pre class="codeexample">&lt;?php
global $YANA;
$db = $YANA-&gt;connect('guestbook');
$db-&gt;exportStructure(&quot;guestbook.config&quot;);
?&gt;</pre>
<h4> <a name="structure"></a>Contents of a structure file</h4>
<p>Structure files are stored in the XML-like SML-format (see also the article: <a href="#article_sml">&quot;The SML file format&quot;</a>). The following is an informal rough overview on the different elements.</p>
<p>The following informal text explains the structure <a href="#foot_structure">*</a> </p>
<pre class="codeexample">
<span class="struct_definition">DATABASE</span> {
    <span class="struct_element">use_strict</span>    <span class="struct_value">(true | false)</span>
    <span class="struct_element">readonly?</span>     <span class="struct_value">(true | false)</span>
    <span class="struct_element">description?</span>  <span class="struct_value">#string</span>
    <span class="struct_element">include?</span>      <span class="struct_value">(#string | #array)</span>

    <span class="struct_definition">TABLES</span> {
    <span class="struct_element">    readonly?</span>      <span class="struct_value">(true | false)</span>
    <span class="struct_element">    description?</span>   <span class="struct_value">#string</span>
    <span class="struct_element">    primary_key</span>    <span class="struct_value">#string</span>
    <span class="struct_element">    profile_key?</span>   <span class="struct_value">#string</span>
    <span class="struct_element">    foreign_keys?</span>  <span class="struct_value">#array</span>

    <span class="struct_element">    CONSTRAINT?</span>    <span class="struct_value">{ ... }</span>
    <span class="struct_element">    TRIGGER?</span>       <span class="struct_value">{ ... }</span>

    <span class="struct_definition">    CONTENT</span> {
    <span class="struct_element">        readonly?</span>     <span class="struct_value">(true | false)</span>
    <span class="struct_element">        description?</span>  <span class="struct_value">#string</span>
    <span class="struct_element">        type</span>          <span class="struct_value">#string</span>
    <span class="struct_element">        length?</span>       <span class="struct_value">#numeric</span>
    <span class="struct_element">        precision?</span>    <span class="struct_value">#numeric</span>
    <span class="struct_element">        required?</span>     <span class="struct_value">(true | false | AUTO)</span>
    <span class="struct_element">        default?</span>      <span class="struct_value">#string</span>
    <span class="struct_element">        unique?</span>       <span class="struct_value">(true | false)</span>
    <span class="struct_element">        index?</span>        <span class="struct_value">(true | false)</span>

    <span class="struct_element">        CONSTRAINT?</span>   <span class="struct_value">{ ... }</span>
    <span class="struct_element">        TRIGGER?</span>      <span class="struct_value">{ ... }</span>

            <span class="struct_comment">/* for numeric data types only */</span>
    <span class="struct_element">        unsigned?</span>     <span class="struct_value">(true | false)</span>
    <span class="struct_element">        zerofill?</span>     <span class="struct_value">(true | false)</span>

    <span class="struct_definition">        DISPLAY?</span> {
    <span class="struct_definition">            HIDDEN</span> {
    <span class="struct_element">                new?</span>     <span class="struct_value">(true | false)</span>
    <span class="struct_element">                edit?</span>    <span class="struct_value">(true | false)</span>
    <span class="struct_element">                select?</span>  <span class="struct_value">(true | false)</span>
    <span class="struct_element">                search?</span>  <span class="struct_value">(true | false)</span>
                }
    <span class="struct_definition">            READONLY</span> {
    <span class="struct_element">                new?</span>   <span class="struct_value">(true | false)</span>
    <span class="struct_element">                edit?</span>  <span class="struct_value">(true | false)</span>
                }
                <span class="struct_comment">/* for type &quot;array&quot; only */</span>
    <span class="struct_element">            numeric</span>  <span class="struct_value">(true | false)</span>
            }

            <span class="struct_comment">/* for type &quot;image&quot; only */</span>
    <span class="struct_element">        width?</span>       <span class="struct_value">#numeric</span>
    <span class="struct_element">        height?</span>      <span class="struct_value">#numeric</span>
    <span class="struct_element">        ratio?</span>       <span class="struct_value">(true | false)</span>
    <span class="struct_element">        background?</span>  <span class="struct_value">#array</span>
        }
    }
}

<span class="struct_definition">CONSTRAINT</span> {
<span class="struct_element">    select?</span>  <span class="struct_value">#string</span>
<span class="struct_element">    insert?</span>  <span class="struct_value">#string</span>
<span class="struct_element">    update?</span>  <span class="struct_value">#string</span>
<span class="struct_element">    delete?</span>  <span class="struct_value">#string</span>
}

<span class="struct_definition">TRIGGER</span> {
<span class="struct_element">	before_insert?</span>  <span class="struct_value">#string</span>
<span class="struct_element">	before_update?</span>  <span class="struct_value">#string</span>
<span class="struct_element">	before_delete?</span>  <span class="struct_value">#string</span>
<span class="struct_element">	after_insert?</span>   <span class="struct_value">#string</span>
<span class="struct_element">	after_update?</span>   <span class="struct_value">#string</span>
<span class="struct_element">	after_delete?</span>   <span class="struct_value">#string</span>
}
</pre>
<p><a name="foot_structure">*</a> <span style="font-weight: bold;">Help:</span> Syntactic elements of the file are printed blue. The possible values and / or data types, which these elements may use are listed behind the elements. Data types are indicated by a rhomb symbol (#). The following data types are used: #string = text, #numeric = number, #array = list type. If multiple values or data types are allowed, they are listed in parentheses, with values separated by a pipe symbol (|). A question mark (?) Indicates that the element is optional.</p>
<p>The following section describes the various elements in detail and provides examples.</p>
<h4> <a name="buildStructure"></a>How do I write my own database schema?</h4>
<p>Schema files have the extension &quot;*.config&quot; and will be stored in the directory &quot;config/db/&quot;. A connection on the basis of a schema file is created by this PHP code: $YANA-&gt;connect (&quot;name of the file without extension&quot;);</p>
<p>Note that <a title="Download page with installation instructions" href="#editor">Code templates</a> are available for the editors &quot;ConTEXT&quot; and &quot;PSPad&quot;, which may save you a lot of work when creating database schemata. If you use one of these two editors, install these templates first before proceeding.</p>
<p>The following listing shows a scheme with all the elements and all valid values. If there are several possible settings, then these various possibilities are listed, separated by a pipe '|'. Identifier, which can be freely chosen, are highlighted by bold text.</p>
<pre class="codeexample"><span class="html1-comment">/* The field &quot;<b>USE_STRICT</b>&quot; indicates whether queries
 * are to be checked against the schema at runtime or not.
 */</span>
&lt;USE_STRICT&gt;true|false&lt;/USE_STRICT&gt;

<span class="html1-comment">/* The field &quot;<b>READONLY</b>&quot; is optional. Default = false
 */</span>
&lt;READONLY&gt;true|false&lt;/READONLY&gt;

<span class="html1-comment">/* The field &quot;<b>DESCRIPTION</b>&quot; is optional and may contain a description, 
 * or the database's name
 */</span>
&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;

<span class="html1-comment">/* The field &quot;<b>INCLUDE</b>&quot; has the same meaning as the PHP-command
 * It imports one or more database schemata in the current file. 
 *
 * The file name is given without the file extension.
 * For example: &lt;INCLUDE&gt;user&lt;/INCLUDE&gt; to import the database &quot;user&quot;
 * which is described in the file &quot;config/db/user.config&quot;.
 */</span>
&lt;INCLUDE&gt;Database schema&lt;/INCLUDE&gt;

<span class="html1-comment">/* To select multiple files to import, use the following notation:
 */
</span>&lt;INCLUDE&gt;
	&lt;0&gt;1st schema&lt;/0&gt;
	&lt;1&gt;2nd schema&lt;/1&gt;
	&lt;2&gt;3rd schema&lt;/2&gt;
&lt;/INCLUDE&gt;

<span class="html1-comment">/* <b>Constraints</b> are boolean expressions in PHP notation.
 * They can be linked to a specific SQL action.
 * If the expression evaluates to &quot;false&quot;, the query will not be send
 * and an entry will be written to the logs. Otherwise the action will be carried out
 * without intervention.
 * 
 * In Constraints you can't call any functions, with one
 * exception: preg_match();
 * In addition, you have access to the following constants: 
 * $VALUE      = (for INSERT, UPDATE only) the inserted value
 * $PERMISSION = the security level of the user who triggered the action
 * $OPERATION  = SQL-command that is currently being executed (SELECT, INSERT, ...)
 * $TABLE      = name of target table (in most cases this is the current table)
 * $FIELD      = name of destination column (if any)
 * $ID         = id of current profile (since version 2.8.9)
 * 
 * Examples:
 * &lt;SELECT&gt;true&lt;/SELECT&gt;
 * &lt;UPDATE&gt;false&lt;/UPDATE&gt;
 * &lt;UPDATE&gt;$VALUE &gt; 0 &amp;&amp; $VALUE &lt; 500&lt;/UPDATE&gt;
 * &lt;INSERT&gt;$PERMISSION &gt; 50&lt;/INSERT&gt;
 * &lt;INSERT&gt;preg_match('/^[\w\d-_]*$/i', $VALUE)&lt;/INSERT&gt;
 * 
 * Constraints are available in YANA since version 2.8 .
 */</span>
&lt;CONSTRAINT&gt;
	&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b>
</b>	&lt;INSERT&gt;<b>PHP-Code</b>&lt;/INSERT&gt;<b>
</b>	&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b>
</b>	&lt;DELETE&gt;<b>PHP-Code</b>&lt;/DELETE&gt;<b>
</b>&lt;/CONSTRAINT&gt;

<span class="html1-comment">/* <b>Trigger</b> are miniature programs in PHP syntax.
 * They are bound to a particular SQL action and are automatically executed
 *before o r after the SQL statement is executed. 
 * 
 * THESE triggers are different from those triggers in a database.
 * 1) PHP can be used,
 * 2) will work with the same code regardless of the DBMS, <b>but:</b>
 * 3) no direct access to the database.
 * 
 * These triggers are particularly suitable for logging and modify input data.
 * 
 * In addition, you have access to the following constants: 
 * $VALUE      = (for INSERT, UPDATE only) the inserted value
 * $PERMISSION = the security level of the user who triggered the action
 * $OPERATION  = SQL command (BEFORE_INSERT, AFTER_UPDATE, ...)
 * $TABLE      = name of target table (in most cases this is the current table)
 * $FIELD      = name of destination column (if any)
 * $ID         = id of current profile (since version 2.8.9)
 * 
 * Examples:
 * &lt;BEFORE_INSERT&gt;$VALUE = md5($VALUE);true&lt;/BEFORE_INSERT&gt;
 * &lt;AFTER_DELETE&gt;if($VALUE){print 'Successfully deleted.';}else{print 'Error.';}&lt;/AFTER_DELETE&gt;
 */</span>
&lt;TRIGGER&gt;
	&lt;BEFORE_INSERT&gt;<b>PHP-Code</b>&lt;/BEFORE_INSERT&gt;<b>
</b>	&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b>
</b>	&lt;BEFORE_DELETE&gt;<b>PHP-Code</b>&lt;/BEFORE_DELETE&gt;<b>
</b>	&lt;AFTER_INSERT&gt;<b>PHP-Code</b>&lt;/AFTER_INSERT&gt;<b>
</b>	&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b>
</b>	&lt;AFTER_DELETE&gt;<b>PHP-Code</b>&lt;/AFTER_DELETE&gt;<b>
</b>&lt;/TRIGGER&gt;

<span class="html1-comment">/* As you may have already suspected: the option READONLY=true
 * and the constraint UPDATE=false both have the same effect. 
 */</span>

<span class="html1-comment">/* Here is the definition of the tables.
 */</span>
&lt;TABLES&gt;
	&lt;<b>Name of table</b>&gt;
		&lt;READONLY&gt;true|false&lt;/READONLY&gt;
		&lt;DESCRIPTION&gt;<b>Label of table</b>&lt;/DESCRIPTION&gt;

		&lt;CONSTRAINT&gt;
			&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b>
</b>			&lt;INSERT&gt;<b>PHP-Code</b>&lt;/INSERT&gt;<b>
</b>			&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b>
</b>			&lt;DELETE&gt;<b>PHP-Code</b>&lt;/DELETE&gt;<b>
</b>		&lt;/CONSTRAINT&gt;
		&lt;TRIGGER&gt;
			&lt;BEFORE_INSERT&gt;<b>PHP-Code</b>&lt;/BEFORE_INSERT&gt;<b>
</b>			&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b>
</b>			&lt;BEFORE_DELETE&gt;<b>PHP-Code</b>&lt;/BEFORE_DELETE&gt;<b>
</b>			&lt;AFTER_INSERT&gt;<b>PHP-Code</b>&lt;/AFTER_INSERT&gt;<b>
</b>			&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b>
</b>			&lt;AFTER_DELETE&gt;<b>PHP-Code</b>&lt;/AFTER_DELETE&gt;<b>
</b>		&lt;/TRIGGER&gt;
<span class="html1-comment">
/* The field &quot;<b>PRIMARY_KEY</b>&quot; holds the name of the column, which is the primary key.
   (See literature under the keyword: &quot;primary key constraint&quot;)
 */</span>
		&lt;PRIMARY_KEY&gt;<b>Name of column</b>&lt;/PRIMARY_KEY&gt;

<span class="html1-comment">/* The field &quot;<b>PROFILE_KEY</b>&quot; is the name of a column (if any), which contains the profile key.

   <b>The purpose:</b>
   You can assign the records of a table to a profile.
   If you do so, a user sees only the records of the selected profile.

   <b>Creating a &quot;profile key constraint&quot;:</b>
   1)  Add a column of the type &quot;profile&quot; to the table
   2) set the property &quot;required&quot; for this column to &quot;AUTO&quot; 
   3) Set the table's property &quot;profile_key &quot; to the name of the column

   (This is a special case of a &quot;compound primary key&quot; - this is a &quot;primary key constraint&quot;.
   A &quot;special case&quot; because the key is a virtual key.
   This means that the technical handling for the user is done completely transparent.
   You can remove this constraint afterwards and the primary key will remain
   valid. That also means that you may subsequently add or remove this constraint,
   without having to change the source code of your plug-in. Checking and resolving of
   profile keys is done on the level of the database layer. This also means, when looking at the security
   of your application it is practically impossible to circumvent a &quot;profile key&quot; constraint.
     This feature was introduced in version 2.9.)
 */</span>
		&lt;PROFILE_KEY&gt;<b>Name of column</b>&lt;/PROFILE_KEY&gt;

<span class="html1-comment">/* The field &quot;<b>FOREIGN_KEYS</b>&quot; may hold a list of foreign keys.
   (See literature under the keyword: &quot;foreign key constraint&quot;)
 */</span>
		&lt;FOREIGN_KEYS&gt;
			&lt;<b>name of column</b>&gt;<b>name of target table</b>&lt;/<b>name of column</b>&gt;<b>
</b>			&lt;<b>another column</b>&gt;<b>another target table</b>&lt;/<b>another column</b>&gt;<b>
</b>		&lt;/FOREIGN_KEYS&gt;

<span class="html1-comment">/* Here is the definition of table columns.
 */</span>
		&lt;CONTENT&gt;
			&lt;<b>Name of column</b>&gt;
				&lt;READONLY&gt;true|false&lt;/READONLY&gt;

				&lt;CONSTRAINT&gt;
					&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b>
</b>					&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b>
</b>				&lt;/CONSTRAINT&gt;
				&lt;TRIGGER&gt;
					&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b>
</b>					&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b>
</b>				&lt;/TRIGGER&gt;

<span class="html1-comment">/* The field &quot;<b>DESCRIPTION</b>&quot; is a label for this column.
 * You can also use %TOKEN% that you define in your program,
 * or in a language file, to be able to provide the label in multiple
 * different languages.
 */</span>
				&lt;DESCRIPTION&gt;<b>Label of column</b>&lt;/DESCRIPTION&gt;
<span class="html1-comment">
/* The primitive, scalar data types <b>integer</b>, <b>float</b> and <b>string</b> correspond to their
 * equivalent in PHP. In addition, other useful data types have been introduced.
 * 
 * <b>mail</b>    = checks automatically, whether the value is a valid email address.
 * <b>ip</b>      = checks automatically, whether the value is a valid IP address.
 * <b>text</b>    = for input from text area fields, provides additional tests
 *           to protect against flooding.
 * <b>select</b>  = enumeration data type, which elements are defined in the &quot;DEFAULT&quot;,
 *           see below.
 * <b>array</b>   = can be used to store PHP arrays. When reading the value
 *           from the database, they are automatically converted to an array.
 * <b>image</b>   = is used to store graphics. Handles file uploads, 
 *           testing and conversion of the graphic and automatically generates thumbnails.
 * <b>file</b>    = this type is used to save files (&quot;binary large objects&quot;).
 *           For reasons of better performance the files remain in the file system
 *           after the upload. In order to save disk space, they will automatically be GZip-compressed.
 *           The database will only store the file name. When you read the column
 *           the name and location of the compressed file will be returned as a result.
 */</span>
				&lt;TYPE&gt;integer|float|string|text|url|ip|mail|time|select|array&lt;/TYPE&gt;

				&lt;LENGTH&gt;<b>positive integer</b>&lt;/LENGTH&gt;

<span class="html1-comment">/* For data type &quot;float&quot; you may use &quot;<b>PRECISION</b>&quot; to determine the number of decimal places.
 */</span>
				&lt;PRECISION&gt;<b>positive integer</b>&lt;/PRECISION&gt;

<span class="html1-comment">/* The field &quot;<b>REQUIRED</b>&quot; selects, whether a field is NULLABLE or not.
 */</span>
				&lt;REQUIRED&gt;true|false&lt;/REQUIRED&gt;

<span class="html1-comment">/* The field &quot;<b>DEFAULT</b>&quot; sets a value that is automatically used when,
 * a data set is created and no other value is given.
 */</span>
				&lt;DEFAULT&gt;<b>a Default value</b>&lt;/DEFAULT&gt;

<span class="html1-comment">/* The field &quot;<b>UNIQUE</b>&quot; is either &quot;true&quot; or &quot;false&quot;, where &quot;false&quot;
 * is the default value. If UNIQUE=true each value in this column may not occur more than
 * 1 time. This means, each value is unique ( thus the name).
 * Use this setting to define more keys in addition to the
 * key primary key.
 */</span>
				&lt;UNIQUE&gt;true|false&lt;/UNIQUE&gt;

<span class="html1-comment">/* The field &quot;<b>INDEX</b>&quot; is either &quot;true&quot; or &quot;false&quot;, where &quot;false&quot;
 * is the default value. If INDEX=true a sorted list of all values of this column
 * are stored, what may increase the speed of sorting and searching for values 
 * in the column.
 */</span>
				&lt;INDEX&gt;true|false&lt;/INDEX&gt;

<span class="html1-comment">/*
 * Instructions GUI and SDK can be filled in the field &quot;<b>DISPLAY</b>&quot;.
 * There are two settings: &quot;HIDDEN&quot; and &quot;READONLY&quot;.
 * Where &quot;<b>READONLY</b>&quot; means that this column is not displayed for editing.
 * As the name implies, &quot;<b>HIDDEN</b>&quot; means the columns is not to be displayed
 * at all.
 * There are separate settings for each of the queries: &quot;NEW&quot;, &quot;EDIT&quot;, &quot;VIEW&quot; and &quot;SEARCH&quot;.
 * The properties can be set globally or individually for each action.
 */

/* First, the variant with global settings
 */</span>
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true|false&lt;/HIDDEN&gt;
					&lt;READONLY&gt;true|false&lt;/READONLY&gt;
				&lt;/DISPLAY&gt;

<span class="html1-comment">/* Nun die Variante mit lokalen Einstellungen für jede Option
 */ </span>
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;
						&lt;NEW&gt;true|false&lt;/NEW&gt;
						&lt;EDIT&gt;true|false&lt;/EDIT&gt;
						&lt;SELECT&gt;true|false&lt;/SELECT&gt;
						&lt;SEARCH&gt;true|false&lt;/SEARCH&gt;
					&lt;/HIDDEN&gt;
					&lt;READONLY&gt;
						&lt;NEW&gt;true|false&lt;/NEW&gt;
						&lt;EDIT&gt;true|false&lt;/EDIT&gt;
					&lt;/READONLY&gt;
				&lt;/DISPLAY&gt;

<span class="html1-comment">/*
 * For type &quot;<b>array</b>&quot; the property &quot;display&quot; may also carry the flag  &quot;<b>NUMERIC</b>&quot;
 * to express that this is a numeric array.
 * This will hide the array keys in the graphical user interface of the program
 * and assign numeric keys to new entries automatically.
 *
 */</span>
				&lt;DISPLAY&gt;
					&lt;NUMERIC&gt;true|false&lt;/NUMERIC&gt;
				&lt;/DISPLAY&gt;

			&lt;/<b>Name of column</b>&gt;


<span class="html1-comment">/*
 * For the data types <b>integer</b>, <b>ip</b> and <b>time</b>the field &quot;REQUIRED&quot; may have the value &quot;AUTO&quot;
 * to be set. This means that the value is automatically generated.
 * For time    = current date as the Unix Time-Stamp
 * For ip      = the IP of the visitor
 * For integer = auto-increment or the value of a sequence
 */</span>
			&lt;<b>name of column</b>&gt;
				&lt;TYPE&gt;integer|ip|time&lt;/TYPE&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
			&lt;/<b>name of column</b>&gt;

<span class="html1-comment">/*
 * For the data type <b>select</b> a enumerated list of valid values can be given.
 * 
 * The semantics can be relatively easy to remembered:
 * + The GUI displays columns of type &quot;select&quot; in forms as select-fields.
 * + The presentation in the scheme also recalls a select field in HTML.
 */</span>
			&lt;<b>name of column</b>&gt;
				&lt;TYPE&gt;select&lt;/TYPE&gt;
				&lt;DEFAULT&gt;
					&lt;<b>default value</b>&gt;<b>label</b>&lt;/<b>default value</b>&gt;
					&lt;<b>option 1</b>&gt;<b>label 1</b>&lt;/<b>option 1</b>&gt;
					&lt;<b>option 2</b>&gt;<b>label 2</b>&lt;/<b>option 2</b>&gt;
				&lt;/DEFAULT&gt;
			&lt;/<b>name of column</b>&gt;

<span class="html1-comment">/*
 * For the data type <b>image</b> the maximum file size, width and height of the graphic
 * can be specified. If the image is too small or too large, it will automatically
 * be resized. The value &quot;ratio&quot; is to indicate, whether
 * the ratio of width to height is to sustain (true) or not (false).
 * If &quot;ratio&quot; is set to &quot;true&quot;, resizing the image might cause a border around the image.
 * Therefore, a background color can be specified.
 * This background color fills the unused area around the graphics.
 * 
 * The form generator can (if it is used) automatically create an upload field
 * to transfer graphic files to the server. 
 * For each upload, a thumbnail of size 75x75px is created automatically.
 * The form generator automatically displays the thumbnail when calling the record
 * and a link to show the full graphic.
 * 
 * For reasons of performance graphics are not stored as &quot;blobs&quot; in the database,
 * but in a non-public directory in the file system.
 * The database stores only the path to the graphic file.
 * When deleting the record (using the database API of the framework),
 * the graphic and thumbnail associated with the data set are deleted as well.
 */</span>
			&lt;<b>name of column</b>&gt;
				&lt;TYPE&gt;image&lt;/TYPE&gt;
				&lt;LENGTH&gt;<b>max. upload size in byte</b>&lt;/LENGTH&gt;
				&lt;WIDTH&gt;<b>width in pixel</b>&lt;/WIDTH&gt;
				&lt;HEIGHT&gt;<b>height in pixel</b>&lt;/HEIGHT&gt;
				&lt;RATIO&gt;true|false&lt;/RATIO&gt;
				&lt;BACKGROUND&gt;
					&lt;0&gt;<b>number 0-255 (red)</b>&lt;/0&gt;
					&lt;1&gt;<b>number 0-255 (green)</b>&lt;/1&gt;
					&lt;2&gt;<b>number 0-255 (blue)</b>&lt;/2&gt;
				&lt;/BACKGROUND&gt;
			&lt;/<b>name of column</b>&gt;

<span class="html1-comment">/*
 * For numeric data types <b>integer</b> and <b>float</b> two
 * additional properties may be defined.
 * 
 * <b>unsigned</b>: the number is stored unsigned
 * <b>zerofill</b>: when displaying the number free places are filled by '0'
 * 
 * Note: The property &quot;zerofill&quot; works correctly only if the property
 * &quot;length&quot; has a fixed value.
 */</span>
			&lt;<b>name of column</b>&gt;
				&lt;TYPE&gt;integer|float&lt;/TYPE&gt;
				&lt;<b>UNSIGNED</b>&gt;true|false&lt;/<b>UNSIGNED</b>&gt;
				&lt;<b>ZEROFILL</b>&gt;true|false&lt;/<b>ZEROFILL</b>&gt;
				&lt;LENGTH&gt;positive integer&lt;/LENGTH&gt;
			&lt;/<b>name of column</b>&gt;


		&lt;/CONTENT&gt;
	&lt;/<b>name of table</b>&gt;

<span class="html1-comment">/* Further tables may follow here.
 */ </span>

&lt;/TABLES&gt;
</pre>
<p>Now see this very simple example:</p>
<pre class="codeexample"><span class="html1-comment">/* The head is usually always the same: */</span>

&lt;USE_STRICT&gt;true&lt;/USE_STRICT&gt;
&lt;READONLY&gt;false&lt;/READONLY&gt;

<span class="html1-comment">/* This is followed by the definition of the tables in the database */</span>

&lt;TABLES&gt;
<span class="html1-comment">	/* The table 'foo' */</span>
	&lt;foo&gt;
<span class="html1-comment">		/* Each table must have a primary key */</span>
		&lt;PRIMARY_KEY&gt;foo_id&lt;/PRIMARY_KEY&gt;
<span class="html1-comment">		/* Now the columns */</span>
		&lt;CONTENT&gt;
<span class="html1-comment">			/* First, the primary key */</span>
			&lt;foo_id&gt;
				&lt;TYPE&gt;integer&lt;/TYPE&gt;
				&lt;LENGTH&gt;8&lt;/LENGTH&gt;
<span class="html1-comment">			/* REQUIRED=auto generates an &quot;autoincrement&quot; column */</span>
				&lt;REQUIRED&gt;auto&lt;/REQUIRED&gt;
<span class="html1-comment">			/* HIDDEN=true makes the field invisible to visitors */</span>
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/foo_id&gt;
<span class="html1-comment">			/* Now the remaining fields */</span>
			&lt;foo_title&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;128&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Title&lt;/DESCRIPTION&gt;
			&lt;/foo_title&gt;
			&lt;foo_text&gt;
				&lt;TYPE&gt;text&lt;/TYPE&gt;
				&lt;REQUIRED&gt;false&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;
			&lt;/foo_text&gt;
		&lt;/CONTENT&gt;
	&lt;/foo&gt;
<span class="html1-comment">	/* a second table */</span>
	&lt;bar&gt;
		&lt;PRIMARY_KEY&gt;bar_id&lt;/PRIMARY_KEY&gt;
		&lt;CONTENT&gt;
			&lt;bar_id&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;32&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/bar_id&gt;
			&lt;bar_value&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;128&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Value&lt;/DESCRIPTION&gt;
			&lt;/bar_value&gt;
			&lt;bar_time&gt;
				&lt;TYPE&gt;time&lt;/TYPE&gt;
				&lt;REQUIRED&gt;auto&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Time&lt;/DESCRIPTION&gt;
			&lt;/bar_time&gt;
		&lt;/CONTENT&gt;
	&lt;/bar&gt;
&lt;/TABLES&gt;</pre>
<p>The following is an example of a more complex database. Portrayed is the data structure of the guestbook application:</p>
<pre class="codeexample">&lt;USE_STRICT&gt;true&lt;/USE_STRICT&gt;
&lt;READONLY&gt;false&lt;/READONLY&gt;
&lt;TABLES&gt;
	&lt;guestbook&gt;
		&lt;PRIMARY_KEY&gt;guestbook_id&lt;/PRIMARY_KEY&gt;
		&lt;CONTENT&gt;
			&lt;guestbook_id&gt;
				&lt;TYPE&gt;integer&lt;/TYPE&gt;
				&lt;LENGTH&gt;5&lt;/LENGTH&gt;
				&lt;DESCRIPTION&gt;Id (PK)&lt;/DESCRIPTION&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/guestbook_id&gt;
			&lt;profile_id&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;128&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Id (FK)&lt;/DESCRIPTION&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/profile_id&gt;
			&lt;guestbook_ip&gt;
				&lt;TYPE&gt;ip&lt;/TYPE&gt;
				&lt;LENGTH&gt;15&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/guestbook_ip&gt;
			&lt;guestbook_name&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;128&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Name&lt;/DESCRIPTION&gt;
			&lt;/guestbook_name&gt;
			&lt;guestbook_message&gt;
				&lt;TYPE&gt;text&lt;/TYPE&gt;
				&lt;LENGTH&gt;3000&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;
			&lt;/guestbook_message&gt;
			&lt;guestbook_mail&gt;
				&lt;TYPE&gt;mail&lt;/TYPE&gt;
				&lt;LENGTH&gt;255&lt;/LENGTH&gt;
				&lt;DESCRIPTION&gt;Mail&lt;/DESCRIPTION&gt;
			&lt;/guestbook_mail&gt;
			&lt;guestbook_homepage&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;512&lt;/LENGTH&gt;
				&lt;DESCRIPTION&gt;Homepage&lt;/DESCRIPTION&gt;
			&lt;/guestbook_homepage&gt;
			&lt;guestbook_messenger&gt;
				&lt;DESCRIPTION&gt;Messenger&lt;/DESCRIPTION&gt;
				&lt;TYPE&gt;string&lt;/TYPE&gt;
				&lt;LENGTH&gt;255&lt;/LENGTH&gt;
			&lt;/guestbook_messenger&gt;
			&lt;guestbook_msgtyp&gt;
				&lt;DESCRIPTION&gt;Typ&lt;/DESCRIPTION&gt;
				&lt;TYPE&gt;select&lt;/TYPE&gt;
				&lt;LENGTH&gt;5&lt;/LENGTH&gt;
				&lt;DEFAULT&gt;
					&lt;icq&gt;ICQ&lt;/icq&gt;
					&lt;aol&gt;AOL&lt;/aol&gt;
					&lt;yahoo&gt;Yahoo!&lt;/yahoo&gt;
					&lt;msn&gt;MSN&lt;/msn&gt;
				&lt;/DEFAULT&gt;
			&lt;/guestbook_msgtyp&gt;
			&lt;guestbook_opinion&gt;
				&lt;TYPE&gt;select&lt;/TYPE&gt;
				&lt;LENGTH&gt;1&lt;/LENGTH&gt;
				&lt;CONSTRAINT&gt;
					&lt;INSERT&gt;$VALUE &gt;= 0 &amp;&amp; $VALUE &lt;= 5&lt;/INSERT&gt;
					&lt;UPDATE&gt;$VALUE &gt;= 0 &amp;&amp; $VALUE &lt;= 5&lt;/UPDATE&gt;
				&lt;/CONSTRAINT&gt;
				&lt;DEFAULT&gt;
					&lt;0&gt;unentschlossen&lt;/0&gt;
					&lt;1&gt;sehr gut&lt;/1&gt;
					&lt;2&gt;gut&lt;/2&gt;
					&lt;3&gt;befriedigend&lt;/3&gt;
					&lt;4&gt;ausreichend&lt;/4&gt;
					&lt;5&gt;ungenügend&lt;/5&gt;
				&lt;/DEFAULT&gt;
				&lt;DESCRIPTION&gt;Meinung&lt;/DESCRIPTION&gt;
			&lt;/guestbook_opinion&gt;
			&lt;guestbook_date&gt;
				&lt;TYPE&gt;time&lt;/TYPE&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Datum/Zeit&lt;/DESCRIPTION&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;
						&lt;NEW&gt;true&lt;/NEW&gt;
                    			&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/guestbook_date&gt;
			&lt;guestbook_comment&gt;
				&lt;TYPE&gt;text&lt;/TYPE&gt;
				&lt;LENGTH&gt;1024&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;false&lt;/REQUIRED&gt;
				&lt;DESCRIPTION&gt;Kommentar&lt;/DESCRIPTION&gt;
				&lt;DISPLAY&gt;
					&lt;READONLY&gt;
						&lt;EDIT&gt;true&lt;/EDIT&gt;
					&lt;/READONLY&gt;
				&lt;/DISPLAY&gt;
			&lt;/guestbook_comment&gt;
			&lt;guestbook_is_registered&gt;
				&lt;TYPE&gt;integer&lt;/TYPE&gt;
				&lt;LENGTH&gt;1&lt;/LENGTH&gt;
				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;
				&lt;DEFAULT&gt;0&lt;/DEFAULT&gt;
				&lt;DISPLAY&gt;
					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;
				&lt;/DISPLAY&gt;
			&lt;/guestbook_is_registered&gt;
		&lt;/CONTENT&gt;
	&lt;/guestbook&gt;
&lt;/TABLES&gt;</pre>
<h4> <a name="buildForeignKey"></a>How do I create a foreign-key?</h4>
<p>The following code creates two tables &quot;foo&quot; and &quot;bar&quot;. The table &quot;bar&quot; contains a foreign-key reference to table &quot;foo&quot;.</p>
<pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords3">TABLES</span><span class="mygeneral1-symbol">&gt;

	&lt;foo&gt;

		Primary key constraint:
		&lt;</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;foo_id&lt;/</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;

		&lt;</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;
			&lt;foo_id&gt;
				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">integer</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Primary key of table foo&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">AUTO</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;
			&lt;/foo_id&gt;
			&lt;foo_name&gt;
				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">string</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;A column containing a name or title&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;
			&lt;/foo_name&gt;
		&lt;/</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;
	&lt;/foo&gt;

	&lt;bar&gt;

		Primary key constraint:
		&lt;</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;bar_id&lt;/</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;

		Foreign key constraint:
		&lt;</span><span class="mygeneral1-keywords1">FOREIGN_KEYS</span><span class="mygeneral1-symbol">&gt;

			foo_id = column name
			foo = table name

			&lt;foo_id&gt;foo&lt;/foo_id&gt;

		&lt;/</span><span class="mygeneral1-keywords1">FOREIGN_KEYS</span><span class="mygeneral1-symbol">&gt;

		&lt;</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;
			&lt;bar_id&gt;
				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">integer</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">AUTO</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Primary key of table bar&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;
			&lt;/bar_id&gt;
			&lt;foo_id&gt;
				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">select</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">true</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Foreign-key on table foo, presented as select-box&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;
				&lt;</span><span class="mygeneral1-keywords1">DEFAULT</span><span class="mygeneral1-symbol">&gt;

					foo_id = column, which is to be stored in the database
					foo_name = column, visible in the browser

					&lt;foo_id&gt;foo_name&lt;/foo_id&gt;

				&lt;/</span><span class="mygeneral1-keywords1">DEFAULT</span><span class="mygeneral1-symbol">&gt;
			&lt;/foo_id&gt;
		&lt;/</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;
	&lt;/bar&gt;
&lt;/</span><span class="mygeneral1-keywords3">TABLES</span><span class="mygeneral1-symbol">&gt;
</span></span>
</code></pre>
<h4> <a name="create"></a>Relation between database schemata and the template function <a title="description of function &quot;create&quot;" href="#func_create">[%create ...%]</a></h4>
<p>The function &quot;create&quot; (see section on templates) calls the form generator. The form generator is capable of using the information in the database schema to generate forms to view, search, create, edit, and delete records in the database. Necessary queries are carried ot automatically. In database schemata, the tag &quot;DISPLAY&quot; is used to control the behavior of the form generator. This tag allows to hide individual columns of a table, depending on the type of the current form.</p>
<h5>Representation of data types</h5>
<p>The form generator shows table columns depending on the data type in different ways. The following is a comparison of data types and screenshots showing the respective representation in the GUI.</p>
<table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0">
<thead> <tr style="white-space: nowrap;">
<th>Type of column</th>
<th>Representation in the GUI</th>
<th>Description</th>
</tr>
</thead> <tbody>
<tr>
<td> integer, float, string</td>
<td> <img src="data/abb_type_string.png" alt="Input"/></td>
<td>Strings and numbers are displayed as input fields when edited. If the column is editable, the content is displayed as text.</td>
</tr>
<tr>
<td> boolean</td>
<td> <img src="data/abb_type_boolean.png" alt="Checkbox"/></td>
<td>Entries of type &quot;boolean&quot; use a checkbox. When viewing the column, a graphic indicates the state of the field.</td>
</tr>
<tr>
<td> text</td>
<td> <img src="data/abb_type_text.png" alt="Textarea"/></td>
<td>Multi-line texts use textarea fields for editing. If the column is not editable, it's contents are shown as text. If a text is too long, scrollbars are shown (CSS: &quot;overflow: auto&quot;).</td>
</tr>
<tr>
<td> url, ip</td>
<td> <img src="data/abb_type_ip.png" alt="Input"/></td>
<td>The data type &quot;ip&quot; offers the possibility to automatically store the IP address of the visitor. IP addresses are checked for syntactic validity. As a rule, columns of this type should not be editable. If they are, they use an input box for editing. The data type &quot;url&quot; is displayed just like a column of type &quot;string&quot;, with the slight difference that  every input is checked to be a syntactically correct URL.</td>
</tr>
<tr>
<td> mail</td>
<td> <img src="data/abb_type_mail.png" alt="HTML-Code"/></td>
<td>This data type also uses an input box for editing. Inputs are checked for syntactical validity. Values of type &quot;mail&quot; are encoded when shown in the browser, to make data theft more difficult. This applies to all displayed mail addresses. The implementation is done automatically in the presentation layer of the framework, manual intervention is therefore unnecessary.</td>
</tr>
<tr>
<td> select</td>
<td> <img src="data/abb_type_select.png" alt="Select box"/></td>
<td>The data type &quot;select&quot; is an enumeration type. When editing such column, a select box is shown. The contents of the box may be predefined in the database schema (using the property &quot;Default&quot;). If the field is a foreign key (i.e., if this column has a foreign key constraint), the menu will automatically be filled using the entries of the linked table. You may also specify the columns the labels and values are taken from.</td>
</tr>
<tr>
<td> set</td>
<td> <img src="data/abb_type_set.png" alt="Checkbox"/></td>
<td>The data type &quot;set&quot; is another variant of an enumeration type, which permits the use of multiple values (unlike &quot;select&quot;, which only allows a single value). When editing such column, a list of check boxes is presented. Values and labels of the boxes can set in the database schema (using the property &quot;Default&quot;).</td>
</tr>
<tr>
<td> time</td>
<td> <img src="data/abb_type_time.png" alt="Time presentation: German, English, Russian"/></td>
<td>When editing columns of type &quot;time&quot;, select boxes are shown to ease the input of dates. Entries of type &quot;time&quot; will be automatically saved as a time stamp and presented in the GUI as a date. The format of presentation can be chosen in the administration menu and adapt to the chosen language settings automatically. Using the framework, dates are automatically synchronized with the visitor's time zone and its respective locale settings.</td>
</tr>
<tr>
<td> array</td>
<td> <img src="data/abb_type_array.png" alt="Array"/></td>
<td>Entries of type &quot;array&quot; may be multidimensional arrays. When editing these, contents are presented as pairs of keys and values. By clicking &quot;remove&quot; a value is deleted, click on &quot;add new entry&quot; to append a new value. Values are presented as multidimensional foldable tree menus. When touching a key with the mouse, the list of all entries associated with this key, is shown.</td>
</tr>
<tr>
<td>array (numeric)</td>
<td> <img src="data/abb_type_list.png" alt="list"/></td>
<td>Numerical lists are defined using the property &quot;display.numeric&quot;. They differ from &quot;normal&quot; arrays because they present no fields to input individual keys. Instead keys are chosen automatically when creating a new record. Values are presented as list elements.</td>
</tr>
<tr>
<td> image</td>
<td> <img src="data/abb_type_image.png" alt="Upload field"/></td>
<td>Columns of the data type &quot;image&quot; are presented as a thumbnail image plus an upload field to insert or replace the stored graphic. When clicking the thumbnail the complete graphic will be shown in a new window. The graphics file is automatically checked and converted during upload. You may specify settings in the database schema to control this conversion, such as the desired image size.</td>
</tr>
<tr>
<td> file</td>
<td> <img src="data/abb_type_file.png" alt="Upload field"/></td>
<td>The data type &quot;file&quot; is used to save files  (&quot;binary large objects&quot;).  When editing, it will present an upload field to upload a new file, and a button to download the current one. The files remain in the file system (not in the database) for better performance. In order to save disk space, they will automatically be GZip-compressed. This compression also ensures that files stores on the server are not executable and a potential attacker can't misuse such upload fields to store malicious code on the server. When you download the file will be unpacked automatically, so the user no disadvantages from the experiences compression and decompression not installed. To have a faster download, the file is automatically send as compressed data stream, if the user's browser supports this feature (most current browser do). The browser unpacks the file independently. A manual intervention is not necessary. The framework automatically takes care of this feature.</td>
</tr>
</tbody>
</table>
<p class="abb_descr">Comparison of data types and their representation by the form generator</p>
<h5>Special configuration of the data types &quot;image&quot; and &quot;file&quot;</h5>
<p>The downloading of files or opening of graphics for columns of data type &quot;image&quot; or &quot;file&quot;, is implemented in the function &quot;download_file&quot;, which is located in the plug-in &quot;default_library&quot;. This usually happens automatically.</p>
<p>For security reasons, access to this action is by default limited to users of the user group &quot;admin&quot;. This is the user group with the highest level of security. If you want to permit access to these data to users with a lower level of security as well, you need to reduce security restrictions for this action.</p>
<p>To do this, edit the file &quot;plugins/default_library.config&quot; in a text editor of your choice. Look for the following section.</p>
<pre class="codeexample">&lt;DOWNLOAD_FILE&gt;
    &lt;TYPE&gt;primary&lt;/TYPE&gt;
    &lt;MODE&gt;1&lt;/MODE&gt;
    &lt;TEMPLATE&gt;NULL&lt;/TEMPLATE&gt;
    <b>&lt;PERMISSION&gt;100&lt;/PERMISSION&gt;</b>
&lt;/DOWNLOAD_FILE&gt;</pre>
<p>The security level is represented as a number between 0 and 100, with 100 representing the group &quot;admin&quot; and 0 the group &quot;guest&quot;. Change the value &quot;100&quot; to a number that seems reasonable to you.</p>
<p>Some proposals are in the following table:</p>
<table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0">
<tbody>
<tr>
<th>User group</th>
<th>Security level</th>
</tr>
<tr>
<td>guest</td>
<td> 0</td>
</tr>
<tr>
<td>registered user (registered)</td>
<td> 1</td>
</tr>
<tr>
<td>moderator (mod)</td>
<td> 30</td>
</tr>
<tr>
<td>owner</td>
<td> 75</td>
</tr>
<tr>
<td>administrator (admin)</td>
<td> 100</td>
</tr>
</tbody>
</table>
<p class="abb_descr"> Comparison of user groups and levels of security</p>
<p>In this example, the value is set to &quot;1&quot;.</p>
<pre class="codeexample">&lt;DOWNLOAD_FILE&gt;
    &lt;TYPE&gt;primary&lt;/TYPE&gt;
    &lt;MODE&gt;1&lt;/MODE&gt;
    &lt;TEMPLATE&gt;NULL&lt;/TEMPLATE&gt;
    <b>&lt;PERMISSION&gt;1&lt;/PERMISSION&gt;</b>
&lt;/DOWNLOAD_FILE&gt;</pre>
<p>Save and close the file.</p>
<p>In order for the changes to take effect, you have to go to the administration menu of the Yana framework and refresh the plug-in cache.</p>
<div class="kommentar"> <img src="data/screen17.png" alt="Screenshot"/> <br/>Figure: Button to refresh plug-in cache</div>
<p>After clicking the button, the settings take effect immediately.</p>
<h3>File system</h3>
<h4>How do I get the content of directories?</h4>
<p>The function dirlist() returns a sorted list of files and directories for a directory . The compulsory directory entries &quot;.&quot; and &quot;..&quot; are not listed. Files whose filenames begin with the character &quot;.&quot; will also not be listed. This applies in particular file names such as &quot;.htaccess&quot; or &quot;.password&quot;. The file names contain no paths. Directory names do not contain a final dash &quot;/&quot;.</p>
<p>The optional parameter $filter can be used to limit the results to certain file extensions. Wildcards are not permitted. The file filter can only contain alphanumeric characters, as well as the characters '.', ' -' and ' _'. Other characters are removed automatically.</p>
<pre class="codeexample"><b>list all items in a directory:</b>
&lt;?php
echo implode(&quot;&lt;br&gt;&quot;, dirlist(&quot;foo/&quot;));
?&gt;

<b>Output:</b>

foo1.foo2
foo3.foo2
foo4.foo5
foo6.foo7

<b>list all entries with a certain file extension:</b>
&lt;?php
echo implode(&quot;&lt;br&gt;&quot;, dirlist('foo/', '*.foo2'));
?&gt;

<b>Output:</b>

foo1.foo2
foo3.foo2


<b>... with multiple file extensions</b>:

&lt;?php
echo implode(&quot;&lt;br&gt;&quot;, dirlist('foo/', '*.foo2|*.foo5'));
?&gt;

<b>Output:</b>

foo1.foo2
foo3.foo2
foo4.foo5

<b>using OO-style notation:</b>

&lt;?php
$dirStream = new DirStream(&quot;foo/&quot;);
$dirStream-&gt;read();
$dirlist = $dirStream-&gt;dirlist('*.foo2|*.foo5');
echo implode(&quot;&lt;br&gt;&quot;, $dirlist);

/* Note: setting the file filter has a permanent effect. */

$dirStream-&gt;dirlist('*.foo2|*.foo5');
echo $dirStream-&gt;length();
/* Output: 2 */

echo count($dirStream-&gt;get());
/* Output: 2 */

/* A new call to dirlist() resets the file filter */
$dirStream-&gt;dirlist(&quot;&quot;);
echo $dirStream-&gt;length();
/* Output: 4 */
?&gt;</pre>
<h4>How do I create or delete directories?</h4>
<p>The functions $dirStream-&gt;create($mode) and $dirStream-&gt;delete() are responsible for creating and deleting directories. The optional parameter $mode can be used to set permissions of directories for LINUX / UNIX operating systems. The default value is 777.</p>
<p>Examples of valid values for $mode are listed in the following table. Where &quot;r&quot; is &quot;readable&quot;, &quot;w&quot; is &quot;writable&quot;, and &quot;x&quot; is &quot;executable.</p>
<table style="border-color: rgb(0, 0, 0); width: 486px;" border="1" cellpadding="4" cellspacing="0">
<col width="112"/> <col width="113"/> <col width="113"/> <col width="113"/> <thead>
<tr valign="top">
<th width="112">Owner</th>
<th width="113">Group</th>
<th width="113">Other users</th>
<th width="113">Value</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td width="112">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> 777 </p>
</td>
</tr>
<tr valign="top">
<td width="112">
<p align="center"> rw- </p>
</td>
<td width="113">
<p align="center"> rw- </p>
</td>
<td width="113">
<p align="center"> --- </p>
</td>
<td width="113">
<p align="center"> 660 </p>
</td>
</tr>
<tr valign="top">
<td width="112">
<p align="center"> rw- </p>
</td>
<td width="113">
<p align="center"> rw- </p>
</td>
<td width="113">
<p align="center"> rw- </p>
</td>
<td width="113">
<p align="center"> 666 </p>
</td>
</tr>
<tr valign="top">
<td width="112">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> r-x </p>
</td>
<td width="113">
<p align="center"> r-x </p>
</td>
<td width="113">
<p align="center"> 755 </p>
</td>
</tr>
<tr valign="top">
<td width="112">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> r-x </p>
</td>
<td width="113">
<p align="center"> --- </p>
</td>
<td width="113">
<p align="center"> 750 </p>
</td>
</tr>
<tr valign="top">
<td width="112">
<p align="center"> rwx </p>
</td>
<td width="113">
<p align="center"> --- </p>
</td>
<td width="113">
<p align="center"> --- </p>
</td>
<td width="113">
<p align="center"> 700 </p>
</td>
</tr>
</tbody>
</table>
<p class="abb_descr">Examples of valid values (corresponding to Unix: CHMOD)</p>
<pre class="codeexample">&lt;?php
$dirStream = new DirStream(&quot;foo/&quot;);
$dirStream-&gt;read();

/* create directory &quot;foo/&quot; */
$dirStream-&gt;create();

/* directory &quot;foo/&quot; with access restrictions set to 660 */
$dirStream-&gt;create(660);

/* get number of files in a directory */
print &quot;Directory 'foo/' contains &quot;.$dirStream-&gt;length().&quot; files.&quot;;

/* delete directory &quot;foo/&quot; */
$dirStream-&gt;delete();

/* delete directory &quot;foo/&quot; including all files and subdirectories */
$dirStream-&gt;delete(true);

/* check if directory exists */
$test = $dirStream-&gt;exists();
if ($test === true) {
	print &quot;directory exists&quot;;
} else if ($test === false) {
	print &quot;directory does NOT exist&quot;;
}
?&gt;</pre>
<h4>How do I read the contents of a configuration file or SML file?</h4>
<p>The function SML::getFile() reads the specified configuration file in SML format and returns the contents as a PHP variable.</p>
<pre class="codeexample">&lt;?php
/* read contents from file and return result as an array */
$array = SML::getFile(&quot;foo.config&quot;);

/* transform keys to capital letters */
$array = SML::getFile(&quot;foo.config&quot;, CASE_UPPER);

/* transform keys to in small letters */
$array = SML::getFile(&quot;foo.config&quot;, CASE_LOWER);

/* leave keys untouched (default) */
$array = SML::getFile(&quot;foo.config&quot;, CASE_MIXED);

/* ... or: */
$array = SML::getFile(file(&quot;foo.config&quot;));

/* ... or: */
$array = SML::decode(file_get_contents(&quot;foo.config&quot;));

/* create and decode an SML-encoded string */
$input_array  = array(1,2,3,array(4,5),'a'=&gt;6,'B'=&gt;7);
$output_array = SML::decode(SML::encode($input_array));
$input_array == $output_array; // true

/* OO-style, mixed key case */
$configFile = new ConfigFile(&quot;foo.config&quot;);
$configFile-&gt;read();
$array = $configFile-&gt;get();

/* OO-style capitalized key names */
$smlFile = new SML(&quot;foo.config&quot;);
$smlFile-&gt;read();
$array = $smlFile-&gt;get();
?&gt;

<b>Navigating within a SML file:</b>

Given the file &quot;foo.config&quot; with the following contents:

&lt;ROOT&gt;
	&lt;FOO1&gt;
		&lt;FOO2&gt;text&lt;/FOO2&gt;
		&lt;FOO3&gt;
			&lt;0&gt;1&lt;/0&gt;
			&lt;1&gt;foo&lt;/1&gt;
		&lt;/FOO3&gt;
	&lt;/FOO1&gt;
&lt;/ROOT&gt;

&lt;?php
$mixed = $smlFile-&gt;get(&quot;ROOT.FOO1&quot;);
print_r($mixed);
?&gt;

This query returns the subtree ROOT.FOO1 with FOO1 as the root element.

<b>Output:</b>

array(
	&quot;FOO2&quot; =&gt; &quot;text&quot;,
	&quot;FOO3&quot; =&gt; array (
		0 =&gt; 1,
		1 =&gt; &quot;foo&quot;
	)
)</pre>
<h4>How do I write a variable to a config file or SML file?</h4>
<p>The function SML::encode() returns a representation of a specified variable as SML code. The input must be either a variable with a scalar value or an array.</p>
<p>Pleas note: the function &quot;SML: encode&quot; does not detect infinite recursion. Therefore data fields need to be free of recursion. Otherwise, the compiler will present an error message.</p>
<pre class="codeexample"><b>Save the contents of an array to &quot;foo.config&quot;:</b>

&lt;?php
$string = SML::encode($array, &quot;ROOT&quot;);
file_put_contents(&quot;foo.sml&quot;, $string);
?&gt;

Replace &quot;ROOT&quot; with the name of the root element!

<b>Benutzen von Großbuchstaben, Kleinbuchstaben und gemischter Schreibweise analog zu SML::decode()</b>:

&lt;?php
$string = SML::encode($array, &quot;ROOT&quot;, CASE_UPPER); // groß
$string = SML::encode($array, &quot;ROOT&quot;, CASE_LOWER); // klein
$string = SML::encode($array, &quot;ROOT&quot;, CASE_MIXED); // gemischt (default)
?&gt;

<b>objektorientierte Variante, gemischte Schreibweise:

</b>&lt;?php
$configFile = new SML(&quot;foo.sml&quot;);
$configFile-&gt;read();
$configFile-&gt;create();
$configFile-&gt;insert($string);
$configFile-&gt;write();
?&gt;

<b>objektorientierte Variante, Schlüssel in Großbuchstaben</b>:

&lt;?php
$smlFile = new SML(&quot;foo.sml&quot;, CASE_UPPER);
$smlFile-&gt;read();
$smlFile-&gt;create();
$smlFile-&gt;insert($string);
$smlFile-&gt;write();
?&gt;</pre>
<h4>How do I copy a file?</h4>
<p>To copy a file, all YANA classes that represent files, implement a function &quot;copy&quot;. When copying the file you may also set access restrictions. If the directory, in which the file is to be copied, does not exist, it can be created automatically. The latter is optional.</p>
<p>The following are some examples.</p>
<pre class="codeexample"><b>copy a file:</b>

&lt;?php
$foo = new SecureFileStream(&quot;foo.txt&quot;);
$foo-&gt;copy(&quot;bar.txt&quot;);

$foo-&gt;copy(&quot;bar.txt&quot;); // error: file already exists
?&gt;

<b>copy a file and overwrite existing files:</b>

&lt;?php
$foo-&gt;copy(&quot;bar.txt&quot;, true);

$foo-&gt;copy(&quot;bar/foo2.txt&quot;); // error: directory 'bar' does not exist
?&gt;

<b>copy a file and create missing files automatically:</b>

&lt;?php
$foo-&gt;copy(&quot;bar/foo2.txt&quot;, false, true);

/* The directory 'bar/' has been created and file 'foo2.txt' has been stored in it.
   Access restrictions of this directory have been set to 766 by default. */

/* deleting the directory */
$dir = new DirStream(&quot;bar&quot;);
$dir-&gt;delete(true);
?&gt;

<b>copy a file and set access restrictions of the copied file to 655:</b>

&lt;?php
$foo-&gt;copy(&quot;bar/foo2.txt&quot;, false, false, 655);

/* directory 'bar/' has been created again.
   The access restrictions for the directory have been set to 655 -
   as for the file. */
?&gt;</pre>
<h3>Counters and statistics</h3>
<h4>How do I create a counter?</h4>
<p>The framework provides the ability to create persistent counter variables, whose value is automatically saved.</p>
<p>There are two types of counters variables: those with IP-check, which only change if the user with the current IP has not already been to the page within the last 3 hours. And those without IP check, which always change when called.</p>
<p>The following are some examples.</p>
<pre class="codeexample">&lt;?php
/* Create counter with IP-check */
$counter = new Counter(&quot;my_stats&quot;, YANA_COUNTER_USE_IP);
/* ... or: */
$counter = new Counter(&quot;my_stats&quot;);

/* Create counter without IP-check */
$counter = new Counter(&quot;my_stats&quot;, YANA_COUNTER_IGNORE_IP);

/* Increment counter &quot;test1&quot; */
$counter-&gt;count(&quot;test1&quot;);
/* Increment counter &quot;test2&quot;, and save a description */
$counter-&gt;count(&quot;test2&quot;, &quot;score&quot;);

/* Increment counter &quot;test1&quot; by 3 */
$counter-&gt;count(&quot;test1&quot;, &quot;score&quot;, 3);

/* Decrement counter &quot;test1&quot; by 2 */
$counter-&gt;count(&quot;test1&quot;, &quot;score&quot;, -2);
?&gt;</pre>
<h4>How do I recall the counter status?</h4>
<pre class="codeexample">&lt;?php
$counter = new Counter(&quot;my_stats&quot;);

/* Get value of counter &quot;test1&quot; */
$int = $counter-&gt;getCount(&quot;test1&quot;);

/* Get description of counter &quot;test1&quot; */
$string = $counter-&gt;getInfo(&quot;test1&quot;);

print $string.&quot;:\t&quot;.$int;
/*
  Output
  score: 2
*/

/* get all counters */
$array = $counter-&gt;getCount(&quot;*&quot;);
foreach ($array as $a =&gt; $b)
{
    print $a.&quot;:\t&quot;.$b;
}
?&gt;</pre>
<h4>How do I create a graphical counter?</h4>
<div class="codeexample">
<pre>&lt;!-- <b>Insert this in your template file:</b> --&gt;
&lt;img src=[%&quot;action=graphic_counter&amp;target=0&quot;|href%]&gt;</pre>
</div>
<p>The parameter &quot;target&quot; selects the background image. Valid values are the numbers 0-6.</p>
<table summary="Valid values" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0">
<thead> <tr>
<th style="text-align: center;">Value of parameter &quot;target&quot;</th>
<th style="text-align: center;">Presentation</th>
</tr>
</thead> <tbody>
<tr>
<td align="center"> 0</td>
<td align="center"> <img alt="" src="data/counter_0.jpg"/></td>
</tr>
<tr>
<td align="center"> 1</td>
<td align="center"> <img alt="" src="data/counter_1.jpg"/></td>
</tr>
<tr>
<td align="center"> 2</td>
<td align="center"> <img alt="" src="data/counter_2.jpg"/></td>
</tr>
<tr>
<td align="center"> 3</td>
<td align="center"> <img alt="" src="data/counter_3.jpg"/></td>
</tr>
<tr>
<td align="center"> 4</td>
<td align="center"> <img alt="" src="data/counter_4.jpg"/></td>
</tr>
<tr>
<td align="center"> 5</td>
<td align="center"> <img alt="" src="data/counter_5.jpg"/></td>
</tr>
<tr>
<td align="center"> 6</td>
<td align="center"> <img alt="" src="data/counter_6.jpg"/></td>
</tr>
</tbody>
</table>
<h3>E-mails</h3>
<p style="border: 2px solid rgb(170, 0, 0); padding: 5px; background: rgb(221, 221, 221) none repeat scroll 0% 50%; -moz-background-clip: initial; -moz-background-origin: initial; -moz-background-inline-policy: initial;" align="left"> <b>Version information:</b> The functions send_mail and form_mail, and the class form_mailer were renamed to sendMail, formMail and formMailer in version 2.8 to comply with the naming convention of the framework. Since  version 2.8 the function sendMail is a static function of class mailer. Since  version 2.8 the function formMail is a static function of class mailer.</p>
<h4 class="western">General introduction on sending mails</h4>
<p class="western">The framework offers the function Mailer::mail() to send mail. This function implements a series of security measures, for protection against various types of header-injection attacks.</p>
<p class="western">The function &quot;Mailer::mail&quot; is a variant of the native PHP function &quot;mail&quot;, that has been secured against misuse and &quot;header-injection&quot; attacks. Unlike &quot;mail&quot;, all input data is checked and header information is checked and restricted.</p>
<p>It returns &quot;true&quot;, when the mail was sent and &quot;false&quot; otherwise. However, the value &quot;true&quot; does not mean the mail successfully arrived at its destination. It just means that the input was syntactically correct.</p>
<p>The function adds to the header of the mail the additional entries &quot;x-yana-php-header-protection&quot; and &quot;x-yana-php-spam-protection&quot;.</p>
<ul>
<li>&quot;x-yana-php-header-protection&quot; has a value of 0 if the header data was inconspicuous, otherwise 1</li>
<li>&quot;x-yana-php-spam-protection&quot; has a value of 0 if the header did not include a bcc field, or 1 otherwise</li>
</ul>
<p>If you receive an e-mail, which was sent through YANA, see the headers of the e-mail to check whether the framework discovered irregularities in the text of the message.</p>
<div class="codeexample"> bool Mailer::mail(string
$recipient, string $subject, string $text [, array $header ] ) </div>
<p>For security reasons, the following restrictions apply.</p>
<ul>
<li>
<p align="left"> <b>Recipient:</b>     $recipient <br/> The parameter must be a valid email address, as described with this regular expression (Perl syntax)  <br/> /^[äöüß\w\d-_\.]{1,}\@[äöüß\w\d-_\.]{2,}\.[\w\d-_\.]{2,}$/i</p>
</li>
<li>
<p align="left"> <b>Subject:   </b>  $subject <br/> All special characters except &quot;()äÄüÜöÖß[]&quot;, all tags and all line breaks are removed without notice. If the subject has more than 128 characters it is truncated.</p>
</li>
<li>
<p align="left"> <b>Message text:   </b>  ($text) <br/> All '@'-symbols are replaced by &quot;[at]&quot;. Text messages are wrapped at 70 characters. For HTML messages some potentially dangerous tags are removed (blacklist approach).</p>
</li>
<li>
<p align="left"> <b>Header:</b>     $header <br/> This parameter is an associative data field. It may contain any X-header entries, as well as some noncritical header information (whitelist approach).</p>
</li>
</ul>
<table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0">
<caption>The list of accepted parameters for $header</caption>
<thead> <tr valign="top">
<th> Parameter </th>
<th>Type</th>
<th> Default </th>
<th>Description</th>
</tr>
</thead> <tbody style="text-align:center;">
<tr valign="top">
<td>from</td>
<td>mail</td>
<td>-</td>
<td style="text-align:left;">valid mail address</td>
</tr>
<tr valign="top">
<td>return-path</td>
<td>mail</td>
<td>-</td>
<td style="text-align:left;">valid mail address</td>
</tr>
<tr valign="top">
<td>cc</td>
<td>mixed</td>
<td>-</td>
<td style="text-align:left;">Either a valid mail address or a numeric data field with multiple valid mail addresses. A copy will be send to all these addresses. Unlike &quot;bcc&quot; the list of recipients is visible to all recipients.</td>
</tr>
<tr valign="top">
<td>content-type</td>
<td>string</td>
<td>text/plain; <br/>
charset=&quot;UTF-8&quot;</td>
<td style="text-align:left;">Determines the MIME type of the message. Only MIME-type and charset are valid here. Other values are ignored.</td>
</tr>
<tr valign="top">
<td>mime-version</td>
<td>float</td>
<td>1.0</td>
<td style="text-align:left;">Must be in accordance with the following regular expression (in Perl syntax): /^\d\.\d$/</td>
</tr>
<tr valign="top">
<td>content-transfer-encoding</td>
<td>string</td>
<td>-</td>
<td style="text-align:left;">Must be in accordance with the following regular expression (in Perl syntax): /^\d{,2}bit$/i</td>
</tr>
</tbody>
</table>
<p class="abb_descr">Valid values for the parameter $header of the function Mailer::mail()</p>
<p>The use of &quot;BCC&quot; is not permitted for security reasons.</p>
<h4 class="western">How do I send a text as mail?</h4>
<pre class="codeexample">&lt;?php
$recipient = &quot;myMail@domain.tld&quot;;
$subject = &quot;Notice&quot;;

$mailer = new Mailer(&quot;skins/mytheme/example.mail&quot;);
$mailer-&gt;subject = $subject;
$mailer-&gt;sender  = $ARGS[&quot;mail&quot;];
$mailer-&gt;insert(&quot;NAME&quot;, $ARGS[&quot;name&quot;]);
$mailer-&gt;insert(&quot;NACHRICHT&quot;, $ARGS[&quot;message&quot;]);
$mailer-&gt;insert(&quot;IP&quot;, $_SERVER[&quot;REMOTE_ADDR&quot;]);
$test = $mailer-&gt;send($recipient);

if ($test === true) {
    print &quot;Success&quot;;
} else if ($test === false) {
    print &quot;Error&quot;;
}
?&gt;</pre>
<h4 class="western">How do I send an e-mail based on a template?</h4>
<div class="codeexample"> <b> The template &quot;example.mail&quot; could be as follows: </b> <br/> <br/> Hello [%$NAME%]! <br/> <br/> Someone has left you a message, it reads: <br/> <br/> [%$MESSAGE%] <br/> <br/> Sender's IP: [%$IP%] <br/> <br/> <b>This is the source code to send the mail:</b> <br/>
<pre>&lt;?php
$recipient = &quot;myMail@domain.tld&quot;;
$subject = &quot;Notice&quot;;

$mailer = new Mailer(&quot;skins/mytheme/example.mail&quot;);
$mailer-&gt;subject = $subject;
$mailer-&gt;sender  = $ARGS[&quot;mail&quot;];
$mailer-&gt;insert(&quot;NAME&quot;, $ARGS[&quot;name&quot;]);
$mailer-&gt;insert(&quot;NACHRICHT&quot;, $ARGS[&quot;message&quot;]);
$mailer-&gt;insert(&quot;IP&quot;, $_SERVER[&quot;REMOTE_ADDR&quot;]);
$test = $mailer-&gt;send($recipient);

if ($test === true) {
    print &quot;Success&quot;;
} else if ($test === false) {
    print &quot;Error&quot;;
}
?&gt;</pre>
<b>A mail could be sent as follows:</b> <br/> <br/> Hello Thomas! <br/> <br/> Someone has left you a message, it reads: <br/> <br/> Hello World <br/> <br/> Sender's IP: 127.0.0.1</div>
<p class="western">Note: before sending the e-mail, the function $mailer-&gt;send() checks all input data automatically for attempts to inject header data and cleans all input where necessary. However, it does no harm to also check the input in your own script before calling the function.</p>
<h4 class="western">How do I send form data as a mail?</h4>
<div class="codeexample"> <b>This is the source code for sending the mail:</b>
<pre>&lt;?php
$formMailer = new FormMailer();
// Subject
$formMailer-&gt;subject = &quot;Notice&quot;;
// header and footer
$formMailer-&gt;headline = &quot;Contents of contact form:\n\n&quot;
$formMailer-&gt;footline = &quot;\n\nYANA form mailer at &quot;.$_SERVER['SERVER_NAME'];
// Form contents
$formMailer-&gt;content = $_POST;

$test = $formMailer-&gt;send(&quot;myMail@domain.tld&quot;);

if ($test === true) {
    print &quot;Success&quot;;
} else if ($test === false) {
    print &quot;Error&quot;;
}
?&gt;</pre>
<b>A mail could be sent as follows:</b> <br/> <br/> Contents of contact form: <br/> <br/> ========================================== <br/>   Notice <br/> ========================================== <br/> <br/>     name:      Walter <br/>     age:       35 <br/>     subject:   Registration <br/>     urgent:   [x] <br/>     message:   Please send password! <br/> <br/> ========================================== <br/> Date: 11.08.2006 10:06:41 <br/> IP: 127.0.0.1 <br/> <br/> YANA form mailer at foo.server.tld</div>
<h3>Check form data</h3>
<h4 class="western">How do I check user input prior to processing it?</h4>
<p class="western">To do this, YANA offers a function named untaintInput().</p>
<p>The function has the following parameters:<br/>
</p>
<table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0">
<thead>
<tr valign="top">
<th>
<p> Parameter </p>
</th>
<th>
<p>Type</p>
</th>
<th>
<p> Default </p>
</th>
<th>
<p>Description</p>
</th>
</tr>
</thead> <tbody style="text-align:center;">
<tr valign="top">
<td> value </td>
<td> mixed </td>
<td> - </td>
<td style="text-align:left;">data to be cleaned</td>
</tr>
<tr valign="top">
<td> type </td>
<td> string </td>
<td> - </td>
<td style="text-align:left;">Data type<br/> <br/> In addition to the supported native types of PHP the following values are allowed:<ul>
<li>time: UTC (type integer, length 11)</li>
<li>ip: IP-address (type string, length 15)</li>
<li>mail: mail address (type string)</li>
<li>select: treated as &quot;string&quot;</li>
<li>text: treated as &quot;string&quot;</li>
</ul>
</td>
</tr>
<tr valign="top">
<td> length </td>
<td> integer </td>
<td> 0 </td>
<td style="text-align:left;">Maximum length of data</td>
</tr>
<tr valign="top">
<td> escape </td>
<td> integer </td>
<td> 0 </td>
<td style="text-align:left;">see table</td>
</tr>
</tbody>
</table>
<p class="abb_descr">List of parameters for untaintInput</p>
<p>The parameter $escape can be any one of the following constants.</p>
<table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0">
<col width="103*"/> <col width="153*"/> <thead>
<tr valign="top">
<th width="40%">Identifier</th>
<th width="60%">Description</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td width="40%"> YANA_ESCAPE_NONE </td>
<td width="60%">No changes (Default)</td>
</tr>
<tr valign="top">
<td width="40%"> YANA_ESCAPE_SLASHED </td>
<td width="60%">Converts single and double quotation marks to their respective escape sequences in C-notation</td>
</tr>
<tr valign="top">
<td width="40%"> YANA_ESCAPE_TOKEN </td>
<td width="60%">replaces token by their HTML entities</td>
</tr>
<tr valign="top">
<td width="40%"> YANA_ESCAPE_CODED </td>
<td width="60%">replaces HTML symbols, such as Tags, by entities</td>
</tr>
<tr valign="top">
<td width="40%"> YANA_ESCAPE_LINEBREAK </td>
<td width="60%">converts all whitespace characters (particularly line breaks) into spaces</td>
</tr>
<tr>
<td width="40%"> YANA_ESCAPE_USERTEXT </td>
<td width="60%">for treatment of input from text area fields</td>
</tr>
</tbody>
</table>
<p class="abb_descr">Valid values for parameter $escape, function untaintInput</p>
<p>For INPUT fields you should always call untaintInput() with the parameter YANA_ESCAPE_LINEBREAK. This will prevent an attacker from smuggling line breaks into the output, which might be a possible threat. For TEXTAREA fields you should use YANA_ESCAPE_USERTEXT. This prevents many forms of flooding, by constantly repeated texts (Copy'n'Paste Flooding), and will wrap oversized text strings, trim white space and thus will ensure, the layout of your page is not broken.</p>
<h3>Logging and error messages</h3>
<h4><a name="logging"></a>Where can I find the log data?</h4>
<p>YANA writes all log entries in a table of the database. However, this is done only, when logging is enabled. You can disable this to reserve space. This feature is disabled by default.</p>
<h4>How do I enable logging?</h4>
<ul>
<li>Log on as administrator and open the administration menu in expert mode.</li>
<li>Open the option &quot;program setup&quot;.<p class="kommentar"><img src="data/screen15.png" alt="Options, program setup"/><br/>Figure: options, program setup</p>
</li>
<li>Activate the Journal.<p class="kommentar"><img src="data/screen16.png" alt="Set protocols, active: yes"/><br/>Figure: activate logging</p>
</li>
<li>Save your changes.</li>
<li>You can then use this menu to view log entries. After clicking on &quot;show journal entries&quot; you get a list of all entries. An example is given in the following figure.<p class="kommentar"><img src="data/screen25.png" alt="List of journal entries"/><br/>Figure: List of journal entries</p>The journal does not only provide information on errors, it also saves data of recently deleted records. f you should ever accidentally delete an important record, you my always manually recover this entry with the help of the information stored in the logs.</li>
</ul>
<h4>How do I create a log entry?</h4>
<pre class="codeexample">&lt;?php
global $YANA;

/* Write a text to the logs */
$log = new Log(&quot;My log-entry&quot;);
$YANA-&gt;report($log);

/* Text and dump of data */
$dump = $some_data;
$log  = new Log(&quot;My Log-entry&quot;,$dump);
$YANA-&gt;report($log);

/* view the created log-entry */
print $log-&gt;getLog();
?&gt;</pre>
<h4>How do I create an error message?</h4>
<h5>Creating error messages</h5>
<p>You may output a text message by calling $YANA-&gt;report(Report $report).</p>
<p>The parameter $report is an instance of one of the following classes. These classes have the same parent class &quot;Report&quot;.</p>
<table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0">
<tbody>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
<tr>
<td> Log</td>
<td>for output to log-file</td>
</tr>
<tr>
<td> Message</td>
<td>Success messages (screen)</td>
</tr>
<tr>
<td> Warning</td>
<td>Warning</td>
</tr>
<tr>
<td> Alert</td>
<td>Note</td>
</tr>
<tr>
<td> Error</td>
<td>Error</td>
</tr>
</tbody>
</table>
<p class="abb_descr">accepted types for parameter $report</p>
<p>The constructor function is called as follows:</p>
<p> new Log(string $text [, mixed $data]); </p>
<p>The following example writes a message in the log file, then generates a text for output on the screen.</p>
<p> $YANA-&gt;report( new Log(&quot;IO-ERROR: Unable to read file
$a&quot;) ); <br/>
$YANA-&gt;report( new Error('NOT_READABLE', array('FILE' =&gt;
$a) ) ); </p>
<h5>Use</h5>
<p>The parameter $text may either be an error code, or a text message. You should use error codes for screen output. For output in log files you should use English texts. The $data parameter is optional and may provide additional information. For example, the data set, which could not be saved, or the name of a file that could not be opened.</p>
<p>Valid error codes for parameter $text include (EXCERPT):</p>
<table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0">
<tbody>
<tr>
<th> Code </th>
<th>Description</th>
<th>Text excerpt</th>
</tr>
<tr>
<td> 200</td>
<td>Success</td>
<td>Your changes have been saved. Thank You !!!</td>
</tr>
<tr>
<td> 500</td>
<td>Generic error message</td>
<td>An error occured...</td>
</tr>
<tr>
<td> 403</td>
<td>Error: Permission denied.</td>
<td>Password required. You are entering a protected area...</td>
</tr>
<tr>
<td> INPUT_INVALID</td>
<td>Error: invalid input</td>
<td>A chosen parameter is not valid...</td>
</tr>
<tr>
<td> 404</td>
<td>Error: File not found</td>
<td>Please check the URL and try again.</td>
</tr>
<tr>
<td> ALLREADY_EXISTS</td>
<td>Error: Entry already exists</td>
<td>Unable to create an entry with the id &quot;%ID%&quot; because another entry with the same name already exists.</td>
</tr>
<tr>
<td> FILE_NOT_CREATED</td>
<td>Error: IO failure</td>
<td>Unable to create file %FILE%.</td>
</tr>
<tr>
<td> NOT_WRITEABLE</td>
<td>Error: IO failure</td>
<td>Unable to perform write operation on resource &quot;%FILE%&quot;. Data could not be saved.</td>
</tr>
<tr>
<td> NOT_READABLE</td>
<td>Error: IO failure</td>
<td>Unable to perform read operation on resource &quot;%FILE%&quot;. Data could not be read.</td>
</tr>
</tbody>
</table>
<p class="abb_descr">accepted values for parameter $text</p>
<p>Included token, such as% FILE% will be replaced in the following manner:</p>
<pre class="codeexample">&lt;?php
$YANA-&gt;report( new Warning('FILE_NOT_CREATED', array('FILE' =&gt; $a)) );
?&gt;</pre>
<p>The special thing about $ YANA-&gt;report() is, that it may simultaneously be used to send text messages to a log file and output messages on the screen. If the method is called several times, several text messages are printed.</p>
<div class="codeexample">
<pre>&lt;?php
$YANA-&gt;report( new Warning('FILE_NOT_CREATED', array('FILE' =&gt; $a)) );
/* ... */
$YANA-&gt;report( new Alert('NOT_WRITEABLE', array('FILE' =&gt; $a)) );
/* ... */
$YANA-&gt;report( new Error('500') );
$YANA-&gt;report( new Log(&quot;Input/Output Error in File $a.&quot;, $lost_data) );
return false;
?&gt;</pre>
</div>
<p>The call to Yana-&gt;report only creates the text message, but does not exit the program. In order to exit the program, use the method Yana-&gt;exitTo. Note: Do NOT use the PHP methods exit () or die(). Otherwise, no output is produced.</p>
<h5>Exiting the program</h5>
<p>The method Yana-&gt;exitTo( [string $action] ) can be used to interrupt the program and define a follow-up action to be executed. This means that the processing of the current action will be canceled and instead the script will be continued with the action $action.</p>
<p>The framework will send all text messages to the browser, and then call itself again. The parameter $action corresponds to the URL parameter &quot;action&quot;.</p>
<p>If the parameter $action is not specified, then the front page (whatever it is) will be called instead.</p>
<p>You may also use the special action &quot;null&quot;, if you just want to quit the program and NOT continue with another action.</p>
<p>Here is a simple example:</p>
<pre class="codeexample">&lt;?php
// Creating some text messages
$YANA-&gt;report( new Log('An entry for the logs') );
$YANA-&gt;report( new Alert('NOT_WRITEABLE', array('FILE' =&gt; $a)) );
// stop current program and continue with action 'index'
$YANA-&gt;exitTo('index');

// create error message
$YANA-&gt;report( new Error('Access denied!') );
// exit the program (do NOT continue with another action)
$YANA-&gt;exitTo('null');

// exit the program and go to the front page
$YANA-&gt;exitTo();
?&gt;</pre>
<h3>Reading and writing of profile settings</h3>
<h4>General introduction</h4>
<p>YANA provides a global memory, that can be read and modified by all plug-ins. All variables stored this area will be accessible in all skins and templates. Please note: the global storage area in YANA is something other than the global namespace of PHP.</p>
<p>Values stored here are presented as a data tree and are organized as multidimensional, associative arrays. This data may be accessed via keys, analogous to Smarty - or, if you like, similar to XPath.</p>
<p>For example:</p>
<div class="codeexample"> <b>Assuming that the tree is as follows:</b> <br/> <br/> array( <br/>     &quot;a&quot; =&gt; 2, <br/>     &quot;b&quot; =&gt; array( <br/>         &quot;c&quot; =&gt; 3, <br/>          1  =&gt; 4 <br/>         ) <br/> ); <br/> <br/> <b>Then you may use the following keys:</b> <br/>
<pre>&lt;?php
$array = $YANA-&gt;getVar(&quot;*&quot;); // use the key &quot;*&quot; to get a copy of the whole array
$int = $YANA-&gt;getVar(&quot;a&quot;);   // output: 2
$array = $YANA-&gt;getVar(&quot;b&quot;); // output: array(&quot;c&quot; =&gt; 3, 1 =&gt; 4)
$int = $YANA-&gt;getVar(&quot;b.c&quot;); // output: 3

/* Unlike to XML-files, numeric ids may be used: */
$int = $YANA-&gt;getVar(&quot;b.1&quot;); // output: 4
?&gt;</pre>
</div>
<h4>How do I read variables from the global memory?</h4>
<p>The function $YANA-&gt;getVar() enables you to read values in the global storage area.</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* get all values */
$array = $YANA-&gt;getVar(&quot;*&quot;);

/* get specific values */
$mixed = $YANA-&gt;getVar(&quot;FOO1.FOO2.FOO3&quot;);

/* alternative notation */
$mixed = $YANA-&gt;registry-&gt;getVar(&quot;FOO1.FOO2.FOO3&quot;);
?&gt;</pre>
<h4>How do I write variables to the global memory?</h4>
<p>The function $YANA-&gt;setVar() enables you to write values in the global storage area.</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* register variable &quot;MY_VAR&quot; */
$bool = $YANA-&gt;setVar(&quot;MY_VAR&quot;, $new_value);

$bool = $YANA-&gt;setVar(&quot;FOO1.FOO2.MY_VAR&quot;, $new_value);

/* alternative notation */
$mixed = $YANA-&gt;registry-&gt;setVar(&quot;FOO1.FOO2.MY_VAR&quot;, $new_value);
?&gt;</pre>
<h4>How do I deleted variables from the global memory?</h4>
<p>To do so use the function $YANA-&gt;unsetVar(). For example:</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* unset var &quot;MY_VAR&quot; */
$bool = $YANA-&gt;unsetVar(&quot;MY_VAR&quot;);

$bool = $YANA-&gt;unsetVar(&quot;FOO1.FOO2.MY_VAR&quot;);

/* alternative notation */
$mixed = $YANA-&gt;registry-&gt;unsetVar(&quot;FOO1.FOO2.MY_VAR&quot;);
?&gt;</pre>
<h4>How do I change the type of a variable in global memory?</h4>
<p>Use the function $YANA-&gt;setType() to do this. For example:</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* set type of &quot;MY_VAR&quot; to string */
$bool = $YANA-&gt;setType(&quot;MY_VAR&quot;, &quot;string&quot;);

$bool = $YANA-&gt;setType(&quot;FOO1.FOO2.MY_VAR&quot;, &quot;string&quot;);

/* alternative notation */
$mixed = $YANA-&gt;registry-&gt;setType(&quot;FOO1.FOO2.MY_VAR&quot;, &quot;string&quot;);
?&gt;</pre>
<h4>What interesting data can be found in global memory?</h4>
<h5>List of installed plug-ins</h5>
<div class="codeexample"> <b>Output a list of all installed plug-ins:</b> <br/>
<pre>&lt;?php
global $YANA;

$array = $YANA-&gt;getVar(&quot;INSTALLED_PLUGINS&quot;);
print_r($array);
?&gt;</pre>
<b>Output:</b>
<pre>    Array
        (
            [CONFIG] =&gt; 1
            [DB_ADMIN] =&gt; 1
            [DEFAULT_LIBRARY] =&gt; 1
            [GUESTBOOK] =&gt; 1
            [GUESTBOOK_ADMIN] =&gt; 1
            [USER] =&gt; 1
        )</pre>
<b>Checking whether a particular plug-in is installed:</b>
<pre>&lt;?php
$bool = $YANA-&gt;getVar(&quot;INSTALLED_PLUGINS.MY_PLUGIN&quot;);
if ($bool) {
    print &quot;Plug-in 'MY_PLUGIN' found.&quot;;
} else {
    print &quot;Plug-in 'MY_PLUGIN' not found.&quot;;
}

/* alternative notation */
$YANA-&gt;plugins-&gt;isInstalled('MY_PLUGIN');
?&gt;</pre>
</div>
<h5>Current profile settings</h5>
<p>The &quot;Web site profile&quot; is selected by using the URL-parameter &quot;id&quot;. Each profile can have individual settings. These settings are also available via the global memory. If no profile is selected, the profile &quot;default&quot; will be used. In fact, as a programmer you don't need to care which one actually is selected. All you need to know is, that profile data contains settings like the background color of the page, preferred font family and other interesting data, which you can access when necessary.</p>
<div class="codeexample">
<pre>&lt;?php
global $YANA;

/* read current profile settings */
$array = $YANA-&gt;getVar(&quot;PROFILE&quot;);
print_r($array);
?&gt;</pre>
<br/>
<b>Output:</b>
<pre id="line1">Array
(

&gt;&gt; Web site layout

    [BGCOLOR] =&gt; #F0F0F0
    [PFONT] =&gt; Arial, Helvetica, sans-serif
    [BGIMAGE] =&gt;
    [LOGO] =&gt;
    [HSIZE] =&gt;
    [HCOLOR] =&gt;
    [HFONT] =&gt;
    [PSIZE] =&gt;
    [PCOLOR] =&gt; 

&gt;&gt; Selected language, skin and directory for emot-icons / smilies

    [LANGUAGE] =&gt; english.config
    [SKIN] =&gt; default.config
    [SMILEYDIR] =&gt; common_files/smilies/

&gt;&gt; Other options

    [USERMODE] =&gt; 1
    [AUTO] =&gt; 1
    [TIMEFORMAT] =&gt; 0

&gt;&gt; Logging

    [LOGGING] =&gt; 1
    [LOG_LENGTH] =&gt; 50

&gt;&gt; Settings for plug-in &quot;rss to html factory&quot;

    [RSS] =&gt; Array
        (
            [FILE] =&gt; plugins/rss/test.rss
            [MAX] =&gt; 5
        )

&gt;&gt; Settings for plug-in 'guestbook'

    [GUESTBOOK] =&gt; Array
        (
            [NOREPLY] =&gt; noReply@meineAdresse.tld
            [FLOODING] =&gt; 0
            [ENTPERPAGE] =&gt; 5
            [NOTIFICATION] =&gt;
            [SENDMAIL] =&gt;
            [MAIL] =&gt; myName@domain.tld
            [FILE] =&gt;
            [SPAMPROTECT] =&gt; 1
            [PROFILE] =&gt;
            [USE_DB] =&gt;
        )

&gt;&gt; Settings for plug-in &quot;search&quot;

    [SEARCH] =&gt; Array
        (
            [TARGET] =&gt; _self
        )

&gt;&gt; Settings for plug-in &quot;user_admin&quot; (user management)

    [USER] =&gt; Array
        (
            [ALLOW_CREATE] =&gt; 0
        )

)

&lt;?php
/* read the selected background color */
$string = $YANA-&gt;getVar(&quot;PROFILE.BGCOLOR&quot;);
print '&lt;p style=&quot;background-color: '.$string.'&quot;&gt;test&lt;/p&gt;';
?&gt;</pre>
</div>
<h5>Default settings</h5>
<div class="codeexample">
<pre>&lt;?php
global $YANA;

/* read YANA default settings */
$array = $YANA-&gt;getVar(&quot;DEFAULT&quot;);
print_r($a);
?&gt;</pre>
<b>Output:</b>
<pre>    Array
        (

&gt;&gt; Determines what action should be called automatically when the
   Argument &quot;action&quot; is empty or not set.
   Default is &quot;sitemap&quot; - but you may use something other, eg. &quot;guestbook_read_read&quot;
   to start the guestbook, or &quot;search_start&quot; for the search engine.
   This setting was introduced in version 2.8.0 

            [HOMEPAGE] =&gt; sitemap

&gt;&gt; Determines whether text messages (errors, notes, etc.) are viewed in a separate window (true)
   or in the text of the current page (false).
   This setting was introduced in version 2.8.2

            [MESSAGE] =&gt; false

&gt;&gt; Default event configuration for events that are not defined

            [EVENT] =&gt; Array
                (
                    [TYPE] =&gt; default
                    [MODE] =&gt; 0
                    [PERMISSION] =&gt; 0
                    [TEMPLATE] =&gt; index
                    [INSERT] =&gt;
                )

&gt;&gt; Default interface configuration

            [INTERFACE] =&gt; Array
                (
                    [TEST] =&gt; Array
                        (
                            [TYPE] =&gt; private
                            [MODE] =&gt; 0
                            [PERMISSION] =&gt; 0
                            [TEMPLATE] =&gt; NULL
                        )

                )

&gt;&gt; Default skin configuration

            [SKIN] =&gt; Array
                (
                    [DIRECTORY] =&gt; default/
                )

&gt;&gt; Default language configuration

            [LANGUAGE] =&gt; Array
                (
                    [DIRECTORY] =&gt; en/
                )

&gt;&gt; Default for database connections

            [DATABASE] =&gt; Array
                (
                    [DSN] =&gt; Array
                        (
                            [USE_ODBC] =&gt;
                            [DBMS] =&gt; mysql
                            [HOST] =&gt; localhost
                            [PORT] =&gt; 0
                            [USERNAME] =&gt; root
                            [PASSWORD] =&gt;
                            [DATABASE] =&gt; yana
                        )

&gt;&gt; Configuration of the database interface

                    [OPTIONS] =&gt; Array
                        (
                            [AUTOFREE] =&gt; 1
                            [PERSISTENT] =&gt; 1
                            [SSL] =&gt;
                        )

&gt;&gt; List of DBMS, which may be addressed via the ODBC interface

                    [REQUIRE_ODBC] =&gt; Array
                        (
                            [0] =&gt; db2
                            [1] =&gt; access
                        )

                )

        )</pre>
</div>
<h5>User Information</h5>
<pre class="codeexample">&lt;?php
global $YANA;

/* User IP */
print $YANA-&gt;getVar(&quot;REMOTE_ADDR&quot;).&quot;\n&quot;;
/* User name */
print $YANA-&gt;getVar(&quot;SESSION_USER_ID&quot;).&quot;\n&quot;;
/* access restriction of users */
print $YANA-&gt;getVar(&quot;PERMISSION&quot;).&quot;\n&quot;;
/* Session name */
print $YANA-&gt;getVar(&quot;SESSION_NAME&quot;).&quot;\n&quot;;
/* Session id */
print $YANA-&gt;getVar(&quot;SESSION_ID&quot;).&quot;\n&quot;;
?&gt;

<b>Output:</b>
127.0.0.1
ADMINISTRATOR
100
YSID
480f97e69eae2311d3157cc3377a2d73</pre>
<h3><a name="cookbook_captcha"></a>Using a CAPTCHA</h3>
<h4>General introduction</h4>
<p>A CAPTCHA is a used for protection from Spam. Therefor a graphic is displayed containing a text, which the user must retype. While a human may solve this task easily, a Bot will most possibly fail. This way a large amount of junk messages may be avoided.</p>
<p>The Framework has a function for producing a CAPTCHA diagram in the png format (MIME type &quot;image/png&quot;), which contains a coincidentally produced code of numbers and letters. A parameter indicates the item number of this code in the current code table. The code table contains 10 entries and expires automatically within a period of 10 minutes through 3 hours after the call of the function. If the table has expired, a new table is created automatically.</p>
<h4>How do I use a CAPTCHA in my plug-in?</h4>
<p>The Yana PHP-Framework already implements such a function. You don't have to write it - just use it.</p>
<p>The CAPTCHA consists of two parts: a graphic with an input field, which is to be included in the template and a check-code, which is to be inserted in the source code of the plug-in and which returns true or false, if the input was correct or wrong.</p>
<p>See the following example:</p>
<div class="codeexample"> <b>Source code for the template:</b>
<pre><code><span class="html1-value">[%captcha%]</span></code></pre>
<p class="kommentar"> <img alt="Screenshot" src="data/screen41.png"/>
<br/>Figure: Example of the representation in the Browser</p>
<b>Source code of the plug-in:</b>
<pre>&lt;?php
global $YANA;

/**
 * to check input:
 * 
 * The variable $form_data can be set to
 * $_POST, $_GET, or $ARGS.
 */
$bool = $YANA-&gt;handle(&quot;security_check_image&quot;, $form_data);<br/>
if ($bool) {
    print &quot;Input correct.&quot;;
} else {
    print &quot;Input is false.&quot;;
}
?&gt;</pre>
</div>
<h4>For version older than 2.9.3</h4>
<p>Support for CAPTCHAs has been introduced in version 2.8.0. The example above works for Yana PHP-Framework version 2.9.3. In this version handling of CAPTCHAs was simplified.</p>
<p>For the older version 2.8.0 through 2.9.2 use the following example:</p>
<div class="codeexample"> <b>Source code for the template:</b>
<pre><code><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;security_image_index&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;<span class="mygeneral1-keywords2">[%</span><span class="mygeneral1-keywords1">$SECURITY_IMAGE_INDEX</span><span class="mygeneral1-keywords2">%]</span>&quot;</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">img</span><span class="html1-space"> </span><span class="html1-identifier">src</span><span class="html1-symbol">=</span><span class="html1-value">[%&quot;action=security_get_image&amp;security_image_index=$SECURITY_IMAGE_INDEX&quot;|url%]</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;security_image&quot;</span><span class="html1-symbol">&gt;</span></code></pre>
<b>Source code of the plug-in:</b>
<pre>&lt;?php
global $YANA;

/* to create the form: */
/* The variable SECURITY_IMAGE_INDEX needs to be set for the form.
   It is an integer of 1 through 9. */
$YANA-&gt;setVar(&quot;SECURITY_IMAGE_INDEX&quot;, rand(1,9));

/**
 * to check input:
 * 
 * The variable $form_data can be set to
 * $_POST, $_GET, or $ARGS.
 */
$bool = $YANA-&gt;handle(&quot;security_check_image&quot;, $form_data);<br/>
if ($bool) {
    print &quot;Input correct.&quot;;
} else {
    print &quot;Input is false.&quot;;
}
?&gt;</pre>
</div>
<p>For even older versions (before version 2.8.0) this function has to be included by hand.</p>
<h3><a name="cookbook_plugins"></a>Editing plug-ins</h3>
<h4>How do I define the interfaces?</h4>
<p>The interface of a plug-in is a stored as a file with the extension &quot;*.config&quot;. You can find these files in the directory &quot;plugins/&quot;.</p>
<pre class="codeexample">/* <b>see the interface description plugins/foo.config</b> */

&lt;INTERFACE&gt;
	&lt;<b>name of action</b>&gt;

		&lt;TYPE&gt;primary|default|write|read|security|config&lt;/TYPE&gt;
<span class="html1-comment">/* Type:
 - &quot;primary&quot;  for core processes of a main program
 - &quot;security&quot; for security functions, such as the testing of passwords
 - &quot;config&quot;   for functions to edit configuration files
 - &quot;write&quot;   for write access to the file system or database
 - &quot;read&quot;     for read access to the file system or database
 - &quot;default&quot;  is intended for developers who are undecided where to put the action
*/</span>
		&lt;MODE&gt;0|1&lt;/MODE&gt;
<span class="html1-comment">/* Mode:
 - 0 (default) normal operating mode
 - 1           start action in default configuration (&quot;safe mode&quot;)
               (for safety critical tasks)
*/</span>
		&lt;TEMPLATE&gt;<b>Id of template</b> (e.g. INDEX)&lt;/TEMPLATE&gt;
		&lt;INSERT&gt;<b>Id of template</b> (e.g. MY_TEMPLATE)&lt;/INSERT&gt;
<span class="html1-comment">/* Templates:
 Names of templates for the output
 - the file named in &quot;INSERT&quot; will be embedded in the &quot;TEMPLATE&quot;-file
 - &quot;TEMPLATE&quot; is a static &quot;frame&quot; around the content, default value is INDEX&quot;
 - The name of the template is the name defined in the skin file.
   By comparison open, e.g. the file skins/default/default.config .
 - The special template &quot;NULL&quot; will prevent any output from being generated
   (Very convenient if you don't intend to output a HTML file but a file, e.g. a PNG graphics file)
 - The special template &quot;MESSAGE&quot; creates a text message.
*/</span>

		&lt;PERMISSION&gt;1&lt;/PERMISSION&gt;
<span class="html1-comment">/* Permission:
 Specifies which minimum permissions are required for a user,
 to be able to call this action. The value is between 0 and 100, where
 the value 0 = &quot;no restriction&quot;. You can temporarily deactivate a function 
 by setting the property &quot;permission&quot; to -1. In this case, nobody can
 trigger this action.
*/</span>
		&lt;ONSUCCESS&gt;
			&lt;TEXT&gt;<b>Name of text message</b>&lt;/TEXT&gt;
			&lt;GOTO&gt;<b>Name of action</b>&lt;/GOTO&gt;
		&lt;/ONSUCCESS&gt;
		&lt;ONERROR&gt;
			&lt;TEXT&gt;<b>Name of text message</b>&lt;/TEXT&gt;
			&lt;GOTO&gt;<b>Name of action</b>&lt;/GOTO&gt;
		&lt;/ONERROR&gt;
<span class="html1-comment">/* OnSuccess / OnError:
 You may specify an action to automatically go to,
 when the current action was successful, or an error occurred.

 Additionally you can indicate a text message, which is to be shown.
 You find a list of the text messages in the file &quot;languages/en/message.config&quot;.
*/</span>
	&lt;/<b>name of action</b>&gt;

/* an example */
        &lt;foo&gt;
		&lt;TYPE&gt;write&lt;/TYPE&gt;
		&lt;MODE&gt;0&lt;/MODE&gt;
		&lt;TEMPLATE&gt;MESSAGE&lt;/TEMPLATE&gt;
		&lt;PERMISSION&gt;75&lt;/PERMISSION&gt;
		&lt;ONSUCCESS&gt;
			&lt;GOTO&gt;foo_read&lt;/GOTO&gt;
		&lt;/ONSUCCESS&gt;
		&lt;ONERROR&gt;
			&lt;GOTO&gt;foo_edit&lt;/GOTO&gt;
		&lt;/ONERROR&gt;
        &lt;foo&gt;
&lt;/INTERFACE&gt;

<b>the plug-in class plugins/foo/plugin.php:</b>
&lt;?php
class plugin_foo extends plugin
{

    /* ... */

    function foo($ARGS)
    {
        /* source code of action &quot;foo&quot; */
        if ($test) {
            return true; /* true = SUCCESS -&gt; go to action &quot;foo_read&quot; */
        } else {
            return false; /* false = ERROR -&gt; go to action &quot;foo_edit&quot; */
        }
    }

    function foo_edit($ARGS)
    {
        /* source code of action &quot;foo_edit&quot; */
    }

    function foo_read($ARGS)
    {
        /* source code of action &quot;foo_read&quot; */
    }

}
?&gt;</pre>
<h4>How do I add new actions?</h4>
<p>First you should have a basic structure generated for your new plug-in, with the help of the SDK. This makes the adaptation of the source code a lot simpler.</p>
<p>For adding a new action two things are necessary. On the one hand the source code and on the other hand, registration of this new action in the framework, by publishing the interface. This will allow the framework and all other plug-ins to find and use the action.</p>
<p>Note: All public functions of the class make a function available, which is called likewise, like the function. For example: in order to add an action &quot;foo&quot;, you provide a function &quot;foo()&quot;. You may run this by using the URL: &quot;index.php?action=foo&quot;.</p>
<p>In the following example pay attention to the &quot;Hot Spots&quot;. These mark places in the skeleton of the application, where you can fill in your own code.</p>
<pre class="codeexample">&lt;?php
class plugin_example extends plugin
{

    function plugin_example($plugin_name)
    {
        settype($plugin_name,&quot;string&quot;);
        global $YANA;

        $this-&gt;plugin_name = $plugin_name;
    }

    /**
     * Default event handler
     * 
     * @param  string $event name of the called event in lower-case
     * @param  array  $ARGS  array of params passed to the function
     * @return boolean
     */
    function _default($event, $ARGS)
    {
        settype($event, &quot;string&quot;);
        settype($ARGS, &quot;array&quot;);

        # HOT-SPOT &lt;&lt; you may define actions here

        # for example by using a Switch statement

        switch ($event)
        {
            case 'my_action1':
                # HOT-SPOT &lt;&lt; code for action 'my_action1'
            break;
            case 'my_action2':
                # HOT-SPOT &lt;&lt; code for action 'my_action2'
            break;
        }

        return true;
    }

    /**
     * Type: read
     * Permission: 0
     * Templates: index entries
     * 
     * @param array $ARGS array of params passed to the function
     * @return boolean
     */
    function guestbook_read_entries ($ARGS)
    {
        # HOT-SPOT &lt;&lt; code for action 'guestbook_read_entries'
    }

/* { ... } */

    /**
     * Type: write
     * Permission: 100
     * Templates: MESSAGE
     * 
     * @param array $ARGS array of params passed to the function
     * @return boolean
     */
    function guestbook_write_write ($ARGS)
    {
        # HOT-SPOT &lt;&lt; code for action 'guestbook_write_write'
        $YANA-&gt;message(&quot;OK&quot;, &quot;200&quot;);
    }

    function my_action ($ARGS)
    {
        # HOT-SPOT &lt;&lt; code for action 'my_action'
    }
}
?&gt;</pre>
<p>All &quot;Hot-Spots&quot;, where the developer can write own source code or supplement existing code, are emphasized in this brief example. The function &quot;my_action&quot; is to demonstrate, how you can add own actions to the interface of the class and thus to the plug-in.  Take a look at the function &quot;_default&quot;. This function is inherited from the parent class &quot;plugin&quot; and serves as default event handler, which catches all events, that are send to the plug-in, but do not have a public event handler (function) in the classe's interface. In addition this function intercepts special cases, like events where the corresponding function is not public, the function is the class constructor, or it is inherited from the base class &quot;plugin&quot; like the public function &quot;toString()&quot;. For security reasons this also applies to inherited functions which are reimplemented in the child class. The reason is, these methods are public. They are part of a common interface of all classes who inherit from the parent class &quot;plugin&quot;. Thus the functionality of these functions is guaranteed by the given semantics of the base class. These semantics should be kept in the child class.</p>
<p>In order to create a function, which is not to part of the public interface, mark the function as &quot;private&quot;.</p>
<p> <img alt="Reload list" src="data/screen17.png"/>
</p>
<p> <b>Please note:</b> you need to refresh the plug-in cache to enable new functions. To do so, log in as administrator, open the administration menu and click &quot;reload list&quot;.</p>
<h4>How do I create a setup menu?</h4>
<p>The &quot;setup&quot; menus can be found in the column &quot;options&quot; (left) of the administration menu, as shown in the following illustration.</p>
<p> <img alt="Reload list" src="data/screen24.png"/>
</p>
<p>To create such a menu and setup, it is enough to first: add an entry to the configuration file of the plug-in and second: create an HTML template. It is not necessary to write PHP code. Look at the following example of the configuration file of a plug-in:</p>
<pre class="codeexample"><span class="html1-comment"><b>File &quot;plugins/example.config&quot;</b></span>

&lt;INFO&gt;
<span class="html1-comment">	/* first the mandatory data - these have nothing to do
	 * with the setup menu itself.
	 */</span>
	&lt;ID&gt;foo&lt;/ID&gt;
	&lt;NAME&gt;Foo plugin&lt;/NAME&gt;
	&lt;AUTHOR&gt;Thomas Meyer&lt;/AUTHOR&gt;
	&lt;DESCRIPTION&gt;my example&lt;/DESCRIPTION&gt;
	&lt;LOGO&gt;%PLUGINDIR%foo/preview.jpg&lt;/LOGO&gt;
	&lt;IMAGE&gt;%PLUGINDIR%foo/icon.png&lt;/IMAGE&gt;
	&lt;TYPE&gt;primary&lt;/TYPE&gt;
<span class="html1-comment">	/* Here come the entries for the setup menu */</span>
	&lt;SETUP&gt;
<span class="html1-comment">		/* The following code will create an entry
		 * labeled &quot;Foo Options&quot; using the icon
		 * &quot;plugins/foo/setup1.gif&quot;. By clicking the
		 * button &quot;Setup&quot;, the action
		 * &quot;foo_setup_1&quot; is triggered.
		 */</span>
		&lt;0&gt;
			&lt;ACTION&gt;foo_setup_1&lt;/ACTION&gt;
			&lt;TITLE&gt;Foo Options&lt;/TITLE&gt;
		&lt;/0&gt;
<span class="html1-comment">		/* A second example: */</span>
		&lt;1&gt;
			&lt;ACTION&gt;foo_setup_2&lt;/ACTION&gt;
			&lt;TITLE&gt;Bar Options&lt;/TITLE&gt;
		&lt;/1&gt;
	&lt;/SETUP&gt;
&lt;/INFO&gt;

&lt;INTERFACE&gt;

<span class="html1-comment">	/* The actions &quot;foo_setup_1&quot; &lt;und &quot;foo_setup_2&quot;
	 * are now associated with a template
	 */</span>
	&lt;foo_setup_1&gt;
<span class="html1-comment">		/* TYPE=config defines, that this is a setup menu */</span>
		&lt;TYPE&gt;config&lt;/TYPE&gt;
<span class="html1-comment">		/* PERMISSION=100 restricts access to users
		 * with security level 100 - these are administrators.
		 */</span>
		&lt;PERMISSION&gt;100&lt;/PERMISSION&gt;
<span class="html1-comment">		/* foo_template_1 is the name of the template */</span>
		&lt;INSERT&gt;foo_template_1&lt;/INSERT&gt;
	&lt;/foo_setup_1&gt;

	&lt;foo_setup_2&gt;
		&lt;TYPE&gt;config&lt;/TYPE&gt;
		&lt;PERMISSION&gt;75&lt;/PERMISSION&gt;
		&lt;INSERT&gt;foo_template_2&lt;/INSERT&gt;
	&lt;/foo_setup_2&gt;

<span class="html1-comment">	/* ... other actions might follow here ... */</span>

&lt;/INTERFACE&gt;</pre>
<p>Now all you need is a HTML page containing a form, like in the following example:</p>
<pre class="codeexample">
<b>File &quot;skins/default/example.html&quot;</b>
<code><span style="font: 10pt Courier New;"><span class="html1-comment">&lt;!-- Just copy the head of the file. Here is nothing
     to be edited. Copy'n'paste will be enough. --&gt;

&lt;!-- BEGIN: Head --&gt;
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">form</span><span class="html1-space"> </span><span class="html1-identifier">method</span><span class="html1-symbol">=</span><span class="html1-value">&quot;POST&quot;</span><span class="html1-space"> </span><span class="html1-identifier">enctype</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multipart/form-data&quot;</span><span class="html1-space"> </span><span class="html1-identifier">action</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PHP_SELF%]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">[%if !$ID%][%if $PERMISSION==100%]
	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;action&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;set_config_profile&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">[%/if%][%else%]
	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;action&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;set_config_profile&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">[%/if%]
	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$SESSION_NAME%]&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$SESSION_ID%]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;id&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$ID%]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-comment">&lt;!-- END: Head --&gt;

&lt;!-- Now the part where you need to fill your information --&gt;

</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- adding a headline is a good idea: --&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h1</span><span class="html1-symbol">&gt;</span><span class="html1-text">Setup</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h1</span><span class="html1-symbol">&gt;

</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- a list of options --&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 1
	</span><span class="html1-comment">&lt;!-- $PROFILE.OPT1 is the stored value of this field - if any value has been stored yet.
	     The modifier |entities ensures, that tags and quotes
	    are converted to HTML entities, so that
	     HTML syntax errors are avoided.
	 --&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;opt1&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.OPT1|entities]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;

</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 2
	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;path.opt2&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.PATH.OPT2|entities]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;

</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 3
	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;opt3&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.OPT3|entities]&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;

</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- don't forget the submit button --&gt;
</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;submit&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$LANGUAGE.BUTTON_SAVE%]&quot;</span><span class="html1-symbol">&gt;

&lt;</span><span class="html1-reservedword">/form</span><span class="html1-symbol">&gt;</span></span></code></pre>
<p>This HTML page causes the following array to be stored on submission of the form:</p>
<pre class="codeexample">&lt;?php
$PROFILE = array(
    'opt1' =&gt; &quot;foo&quot;,
    'path' =&gt; array(
        'opt2' =&gt; &quot;bar&quot;
    ),
    'opt3' =&gt; &quot;foobar&quot;
);
?&gt;</pre>
<p>You can access the stored options from within your plug-in as follows:</p>
<pre class="codeexample">&lt;?php
global $YANA;
$opt1 = $YANA-&gt;getVar('PROFILE.OPT1');
$path_opt2 = $YANA-&gt;getVar('PROFILE.PATH.OPT2');
$opt3 = $YANA-&gt;getVar('PROFILE.OPT3');
?&gt;</pre>
<p>To have the form &quot;example.html&quot; shown when clicking the button &quot;setup&quot;, it needs to be associated with the action &quot;foo_setup_1&quot;. This is done as follows:</p>
<pre class="codeexample">
<b>File &quot;skins/default/example.config&quot;</b>
<code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;!--</span><span class="xml1-comment"> First the template with the name &quot;foo_template_1&quot; is defined ... </span><span class="xml1-symbol">--&gt;
&lt;</span><span class="xml1-elementname">foo_template_1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">FILE</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">example.html</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">FILE</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">foo_template_1</span><span class="xml1-symbol">&gt;</span>

<b>File &quot;plugins/example.config&quot;</b>

...

<span class="xml1-symbol">&lt;</span><span class="xml1-elementname">INTERFACE</span><span class="xml1-symbol">&gt;

</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">foo_setup_1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">TYPE</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">config</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">TYPE</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">PERMISSION</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">100</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">PERMISSION</span><span class="xml1-symbol">&gt;
</span></span><span style="font: 10pt Courier New;"><span class="xml1-whitespace">	</span></span><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;!--</span><span class="xml1-comment"> ... Next the template &quot;foo_template_1&quot; is associated with the action &quot;foo_setup_1&quot;. </span><span class="xml1-symbol">--&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">INSERT</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">foo_template_1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">INSERT</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">foo_setup_1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">...

</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">INTERFACE</span><span class="xml1-symbol">&gt;</span></span></code></pre>
<h3>Graphics and photos</h3>
<h4>How do I load an image from a file?</h4>
<pre class="codeexample">&lt;?php
$image = new Image('file name');
// for example:
$image = new Image('folder/file.png');
?&gt;</pre>
<h4>How do I load an image from a string?</h4>
<pre class="codeexample">&lt;?php
$content = file_get_contents('folder/file.png');
$image = new Image($content, 'png');
?&gt;</pre>
<h4>How do I create a new (empty) image?</h4>
<pre class="codeexample">&lt;?php
$image = new Image();
$width = 640;
$height = 480;
$image-&gt;resize($width, $height);
?&gt;</pre>
<h4>How do I create a thumbnail?</h4>
<pre class="codeexample">&lt;?php
$image = new Image('folder/file.png');
$width = 50;
// if $height is not defined,
// the image is resized proportional
$image-&gt;resize($width);
$image-&gt;outputToFile('folder/thumbnail.png');
?&gt;</pre>
<h4> How do I create a form to upload pictures?</h4>
<div class="codeexample">
HTML-Code:
<pre>
<code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">form</span><span class="html1-space"> </span><span class="html1-identifier">method</span><span class="html1-symbol">=</span><span class="html1-value">&quot;POST&quot;</span><span class="html1-space"> </span><span class="html1-identifier">action</span><span class="html1-symbol">=</span><span class="html1-value">&quot;%PHP_SELF%&quot;</span><span class="html1-space"> </span><span class="html1-identifier">enctype</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multipart/form-data&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text"> (...)
Upload image: </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;file&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;my_image&quot;</span><span class="html1-space"> </span><span class="html1-identifier">/</span><span class="html1-symbol">&gt;
</span><span class="html1-text"> (...)
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/form</span><span class="html1-symbol">&gt;</span></span></code></pre>
</div>
<div class="codeexample">
PHP-Code:
<pre>&lt;?php
// get data from form field 'my_image'
$id = 'my_image';
// output to directory 'foo/bar/' using filename 'image'
// (extension will be determined automatically)
$file = 'foo/bar/image';
// output as png image
$type = 'png';
// limit upload to 150 kbyte
$size = 150000;
// resize to 150px x 200px
$width = 150;
$height = 200;
// leave aspect-ratio untouched
$ratio = true;
// set background color to gray
$color = array(80, 80, 80);

// call method
$result = Image::uploadFile($id, $file, $type, $size, $width, $height, $ratio, $color);

// check for errors
if (is_string($result)) {

    print &quot;The image was successfully uploaded to '$result'&quot;;

// error handling
} else {

    switch ($result)
    {
        case UPLOAD_ERR_SIZE:
        case UPLOAD_ERR_INI_SIZE:
        case UPLOAD_ERR_FORM_SIZE:
            die('File too big!');
        break;

        case UPLOAD_ERR_NO_FILE:
            die('No file has been uploaded!');
        break;

        case UPLOAD_ERR_INVALID_TARGET:
            die(&quot;Unable to write to file: '$file'&quot;);
        break;

        case UPLOAD_ERR_FILE_TYPE:
            die('The file is not a recognized image!');
        break;

        default:
            die('Some unexpected error occurred!');
        break;
    }

}
?&gt;</pre></div>
<h4>How do I draw lines, geometric figures and text?</h4>
<div class="codeexample">
<pre>&lt;?php
// create an empty image
$image = new Image();
$width = 180;
$height = 120;
$image-&gt;resize($width, $height);

// set line width to 3px (optional)
$image-&gt;setLineWidth(3);

// fill canvas with background color
$x = 0;
$y = 0;
$image-&gt;fill($image-&gt;white, $x, $y);

// draw a line
$x1 = 10;
$y1 = 10;
$x2 = 100;
$y2 = 30;
$image-&gt;drawLine($x1, $y1, $x2, $y2, $image-&gt;black);

// draw a circle
$x = 30;
$y = 50;
$width = 50;
$image-&gt;drawEllipse($x, $y, $width);

// draw a rectangle
$x = 10;
$y = 60;
$width = 100;
$height = 50;
$border = $image-&gt;black;
$fill = $image-&gt;navy;
$image-&gt;drawRectangle($y, $y, $width, $height, $border, $fill);

// draw a triangle (or other polygon)
$points = array(
0 =&gt; array( 20, 0 ),
1 =&gt; array( 40, 20 ),
2 =&gt; array( 0, 20 )
);
$x = 50;
$y = 80;
$border = $image-&gt;black;
$fill = $image-&gt;yellow;
$image-&gt;drawPolygon($points, $x, $y, $border , $fill);

// write a text
$text = 'Hello World';
$x = 70;
$y = 40;
$color= $image-&gt;black;
$image-&gt;drawString($text, $x, $y, $color);

// Use of brushes

// create new brush
$brush = new Brush('small star');
// set brush size to 10px
$brush-&gt;setSize(10);
// set brush color to red
$brush-&gt;setColor(255, 0, 0);
// select the brush
$image-&gt;setBrush($brush);

// draw a dot using the brush
$x = 150;
$y = 100;
$image-&gt;drawPoint($x, $y, IMG_COLOR_BRUSHED);

// output file to browser
$image-&gt;outputToScreen('png');
exit;
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_1.png" alt="figure"/> <br/>Figure: Script output</p>
</div>
<h5>Details on use of colors</h5>
<p>If you work with images, you need colors to draw lines, text or surfaces.</p>
<p>There are 17 predefined colors. These are:</p>
<ol>
<li>$image-&gt;aqua</li>
<li>$image-&gt;black</li>
<li>$image-&gt;blue</li>
<li>$image-&gt;fuchsia</li>
<li>$image-&gt;gray</li>
<li>$image-&gt;green</li>
<li>$image-&gt;grey (Alias von $image-&gt;gray)</li>
<li>$image-&gt;lime</li>
<li>$image-&gt;maroon</li>
<li>$image-&gt;navy</li>
<li>$image-&gt;olive</li>
<li>$image-&gt;purple</li>
<li>$image-&gt;red</li>
<li>$image-&gt;silver</li>
<li>$image-&gt;teal</li>
<li>$image-&gt;white</li>
<li>$image-&gt;yellow</li>
</ol>
<p>You can get other colors by calling: $color = $image-&gt;getColor($red, $green, $blue); where $red, $green, $blue are integers between 0 and 255.</p>
<p>It is important to you understand, that a color is not an object by itself, but a specific property of a graphic. This is, each image has its own color palette and each color is a part (mathematically speaking an &quot;element&quot;) of this palette.</p>
<p>The palette of the image is an indexed set of all contained in the graphic colors. A color is represented by an integer. To be more precise: it is the index number of this color within the color palette of the image. This means, number 1 names the color, which is stored at position 1 of the image's color palette. For example, this color might be &quot;red&quot; in this image. However, you should note, that depends on the color palette and differs from one image to another.</p>
<h4>Which graphic filters and effects are there?</h4>
<p>Here is a list with examples for some interesting methods of the class image:</p>
<div class="codeexample">
<pre>&lt;?php
$image = new Image('foo.png');

/* set brightness
 * 
 * integer of -1.0 trough +1.0 (-100% and +100%)
 */
$amount = 0.5; /* 0.5 = +50% */
$image-&gt;brightness($amount);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_2.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* set contrast
 * 
 * integer of -1.0 trough +1.0 (-100% and +100%)
 */
$amount = 0.5; /* 0.5 = +50% */
$image-&gt;contrast($amount);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_3.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* blur the image
 * 
 * integer of 0.0 trough +1.0 (0% and +100%)
 */
$amount = 0.8; /* 0.8 = 80% */
$image-&gt;blur($amount);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_4.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* sharpen the image
 * 
 * integer of 0.0 trough +1.0 (0% and +100%)
 */
$amount = 0.8; /* 0.8 = 80% */
$image-&gt;sharpen($amount);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_5.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* set to 256 colors grayscale palette
 */
$image-&gt;toGrayscale();
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_6.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* colorize the image
 * 
 * $red, $green, $blue = integer -255 through 255
 * 
 * the given color value is added to colors of the image
 */
$red = -80;
$green = -40;
$blue = 120;
$image-&gt;colorize($red, $green, $blue);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_7.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* multiply
 * 
 * $red, $green, $blue = integer 0 through 255
 * 
 * the given color value is multiplied to the colors of the image
 */
$red = 100;
$green = 255;
$blue = 50;
/* this examples reduces the red- and clue channels */
$image-&gt;multiply($red, $green, $blue);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_8.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* monochromatic filter
 * 
 * $red, $green, $blue = integer 0 through 255
 * 
 * Colorized the image using the given color.
 */
$red = 130;
$green = 180;
$blue = 200;
$image-&gt;monochromatic($red, $green, $blue);
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_9.png" alt="figure"/> <br/>Figure: Script output</p>
<pre>&lt;?php
/* invert color values (negate)
 */
$image-&gt;negate();
?&gt;</pre>
<p class="kommentar"> <img src="data/abb_tutorial_10.png" alt="figure"/> <br/>Figure: Script output</p>
</div>
<p>For more details and examples see the <a href="api_documentation/index.html">API documentation</a>.</p>
<h3>Create multicolumn layouts</h3>
<h4>General introduction</h4>
<p>The Yana Framework provides predefined CSS to create text boxes or pages with 2, 3 or more vertical columns. No programming is required. The required CSS code will be loaded automatically in the &quot;default&quot; skin theme.</p>
<p>Below are some examples for demonstration</p>
<h4>How do I create 2 columns?</h4>
<p> <b>Source code for the template:</b> </p>
<pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet
        commodo, ipsum ligula lacinia orci, non venenatis metus ligula
        sit amet turpis. Nunc accumsan tempor nulla. Vivamus eleifend,
        s eu feugiat consequat, mi lacus vestibulum velit, eu

ege
        egestas purus nunc ac est. Mauris massa lorem, lacinia non,
        condimentum vel, cursus ac, lectus. Nulla tempor molestie quam.
        Aenean dapibus nisl nonummy quam. Mauris pellentesque ornare
        ante. Integer a urna ultricies neque bibendum dignissim.
        Suspendisse interdum nisl. In rhoncus. Vivamus risus mi, semper
        id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.
        In vitae augue.

    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        Aliquam auctor viverra ligula. Ut nisi felis, condimentum at,
        aliquam eget, tempus id, nisi. Maecenas a libero. Nulla metus
        mi, malesuada sit amet, sagittis bibendum, scelerisque a, purus.
        Nunc ipsum. Sed vel augue pellentesque ligula pharetra pulvinar.
        Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos hymenaeos. Nam orci. Donec neque pede,
        iaculis in, pellentesque ac, commodo eget, libero. Sed vel
        magna.

    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre>
<div class="multicol2">
<div class="col_left">
<div class="h2">Column 1</div>
Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet
commodo, ipsum ligula lacinia orci, non venenatis metus ligula sit amet
turpis. Nunc accumsan tempor nulla. Vivamus eleifend, lectus eu feugiat
consequat, mi lacus vestibulum velit, eu egestas purus nunc ac est.
Mauris massa lorem, lacinia non, condimentum vel, cursus ac, lectus.
Nulla tempor molestie quam. Aenean dapibus nisl nonummy quam. Mauris
pellentesque ornare ante. Integer a urna ultricies neque bibendum
dignissim. Suspendisse interdum nisl. In rhoncus. Vivamus risus mi,
semper id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.
In vitae augue. </div>
<div class="col_right">
<div class="h2">Column 2</div>
Aliquam auctor viverra ligula. Ut nisi felis, condimentum at, aliquam
eget, tempus id, nisi. Maecenas a libero. Nulla metus mi, malesuada sit
amet, sagittis bibendum, scelerisque a, purus. Nunc ipsum. Sed vel
augue pellentesque ligula pharetra pulvinar. Class aptent taciti
sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos.
Nam orci. Donec neque pede, iaculis in, pellentesque ac, commodo eget,
libero. Sed vel magna. </div>
<div class="col_foot">   </div>
</div>
<h4>How do I create 3 columns?</h4>
<p> <b>Source code for the template:</b> </p>
<pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol3&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet
        commodo, ipsum ligula lacinia orci, non venenatis metus ligula
        sit amet turpis. Nunc accumsan tempor nulla. Vivamus eleifend,
        s eu feugiat consequat, mi lacus vestibulum velit, eu

ege
        egestas purus nunc ac est. Mauris massa lorem, lacinia non,
        condimentum vel, cursus ac, lectus. Nulla tempor molestie quam.
        Aenean dapibus nisl nonummy quam. Mauris pellentesque ornare
        ante. Integer a urna ultricies neque bibendum dignissim.
        Suspendisse interdum nisl. In rhoncus. Vivamus risus mi, semper
        id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.
        In vitae augue.

    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_center&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        Aliquam auctor viverra ligula. Ut nisi felis, condimentum at,
        aliquam eget, tempus id, nisi. Maecenas a libero. Nulla metus
        mi, malesuada sit amet, sagittis bibendum, scelerisque a, purus.
        Nunc ipsum. Sed vel augue pellentesque ligula pharetra pulvinar.
        Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos hymenaeos. Nam orci. Donec neque pede,
        iaculis in, pellentesque ac, commodo eget, libero. Sed vel
        magna.

    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        Morbi eget dolor. Etiam ut velit sollicitudin massa laoreet
        lobortis. ices.

Morbi justo tortor, blandit  Morbi justo
        tortor, blandit sed, euismod at, eleifend nec, tortor. Lorem
        ipsum dolor sit amet, consectetuer adipiscing elit. Etiam eget
        enim. s venenatis volutpat.

Integer ipsum ante, porta eu
        Integer ipsum ante, porta eu, porta vel, euismod in, magna.
        Fusce dolor quam, lacinia eget, rutrum at, lacinia pulvinar,
        risus. Nulla imperdiet, lorem facilisis lacinia suscipit, diam
        mi aliquet dui, at fringilla lectus mauris sit amet ipsum.
        Morbi eget sem quis est congue pulvinar. Vivamus fermentum
        dolor nec nisi convallis posuere. Aliquam eu diam. Ut suscipit,
        nisi quis vehicula ullamcorper, lectus lorem fermentum tellus,
        ut egestas arcu sapien aliquam massa.

    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre>
<div class="multicol3">
<div class="col_left">
<div class="h2">Column 1</div>
Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet
commodo, ipsum ligula lacinia orci, non venenatis metus ligula sit amet
turpis. Nunc accumsan tempor nulla. Vivamus eleifend, lectus eu feugiat
consequat, mi lacus vestibulum velit, eu egestas purus nunc ac est.
Mauris massa lorem, lacinia non, condimentum vel, cursus ac, lectus.
Nulla tempor molestie quam. Aenean dapibus nisl nonummy quam. Mauris
pellentesque ornare ante. Integer a urna ultricies neque bibendum
dignissim. Suspendisse interdum nisl. In rhoncus. Vivamus risus mi,
semper id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.
In vitae augue. </div>
<div class="col_center">
<div class="h2">Column 2</div>
Aliquam auctor viverra ligula. Ut nisi felis, condimentum at, aliquam
eget, tempus id, nisi. Maecenas a libero. Nulla metus mi, malesuada sit
amet, sagittis bibendum, scelerisque a, purus. Nunc ipsum. Sed vel
augue pellentesque ligula pharetra pulvinar. Class aptent taciti
sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos.
Nam orci. Donec neque pede, iaculis in, pellentesque ac, commodo eget,
libero. Sed vel magna. </div>
<div class="col_right">
<div class="h2">Column 3</div>Morbi eget dolor. Etiam ut velit sollicitudin massa laoreet lobortis. ices.

Morbi justo tortor, blandit  Morbi justo tortor, blandit sed, euismod at, eleifend nec, tortor. nsectetuer adipiscing elit.

Etiam eget enim.

Maecenas v Etiam eget enim. s venenatis volutpat.

Integer ipsum ante, porta eu Integer ipsum ante, porta eu, porta vel, euismod in, magna. Fusce dolor quam, lacinia eget, rutrum at, lacinia pulvinar, risus. Nulla imperdiet, lorem facilisis lacinia suscipit, diam mi aliquet dui, at fringilla lectus mauris sit amet ipsum. Morbi eget sem quis est congue pulvinar. Vivamus fermentum dolor nec nisi convallis posuere. Aliquam eu diam. Ut suscipit, nisi quis vehicula ullamcorper, lectus lorem fermentum tellus, ut egestas arcu sapien aliquam massa.</div>
<div class="col_foot">   </div>
</div>
<h4>How do I create 4 or more columns?</h4>
<p> It is possible to have nested multicolumn boxes. The following example demonstrates how two 2-column layouts are nested to create a 4-column layout.</p>
<p> <b>Source code for the template:</b> </p>
<pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">                Vestibulum tempor commodo mi. Integer sed nisi. Donec
                nulla elit, commodo porttitor, semper eget, sagittis
                viverra, urna. Duis pretium dui facilisis turpis.
                Mauris vel arcu. Donec ut lorem vel lorem aliquet
                commodo. Donec sollicitudin mattis lacus. Ut non magna
                sit amet tortor viverra sagittis. Ut venenatis.
                Vestibulum sodales sapien scelerisque erat. Integer
                accumsan orci et tortor vulputate mollis. Curabitur
                lacinia quam id libero. Nulla eu lorem eget mi mattis
                tempus. Suspendisse consectetuer. Vivamus at risus.
                Aenean malesuada.

            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">                Morbi id nisi. Proin fringilla eleifend mi. Nunc eget
                elit. Nam ligula nibh, euismod blandit, nonummy eu,
                porta non, magna. Ut id nisi id metus consectetuer
                euismod. Vestibulum ante ipsum primis in faucibus orci
                luctus et ultrices posuere cubilia Curae; Mauris
                blandit ultrices eros. Fusce in nisl sit amet enim
                consequat tristique. Sed facilisis eros convallis magna.
                Pellentesque justo. Praesent nec libero at velit
                malesuada nonummy. Mauris vitae lectus eget elit
                euismod bibendum. Nulla nec ligula. Curabitur metus.
                Integer lectus nulla, iaculis molestie, venenatis non,
                suscipit commodo, est. Sed pulvinar, justo eu pulvinar
                convallis, mi tellus pellentesque elit, eu aliquet
                sapien ligula non mauris.

            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">                Praesent eu risus. Fusce feugiat. Maecenas eget lacus
                quis nisi blandit porttitor. Pellentesque sed turpis.
                Nulla facilisi. Aenean convallis dolor eget elit. Donec
                elementum, pede nec euismod varius, ante diam elementum
                lectus, vitae iaculis orci libero quis tortor.
                Vestibulum justo est, laoreet eu, consequat sed,
                molestie at, mi. Fusce luctus, odio eu imperdiet
                viverra, nunc arcu gravida ante, iaculis lacinia tortor
                arcu ac felis. Quisque sagittis aliquam nisi. Aliquam
                nonummy. Nulla mattis orci vel nunc. Nunc in odio.
                Proin mi risus, lobortis ac, mollis vitae, lacinia
                vehicula, nulla. Nunc nibh. Morbi laoreet pellentesque
                justo. ent ultrices.

Spa

            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Column 4</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;

</span><span class="html1-text">                Nullam eget lectus. Aenean non augue auctor erat luctus
                fermentum. Quisque aliquam eros vel ligula. Mauris pede
                velit, mollis eget, adipiscing non, placerat nec, erat.
                Vestibulum vel sem non orci porttitor congue. Cras
                pretium eros eget dui. Donec gravida. Sed mattis
                tincidunt enim. Donec aliquam, quam eu rhoncus gravida,
                nibh nunc egestas nulla, lobortis interdum nisi dui id
                nisi. Praesent tristique velit sit amet ante. Nam
                malesuada, nisi in laoreet venenatis, dolor pede
                vehicula nunc, tempus accumsan ante purus eget sapien.
                Praesent aliquam, lorem sit amet volutpat faucibus,
                ligula lorem auctor diam, vitae vulputate pede ligula
                et leo.

            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre>
<div class="multicol2">
<div class="col_left">
<div class="multicol2">
<div class="col_left">
<div class="h2">Column 1</div>
Vestibulum tempor commodo mi. Integer sed nisi. Donec nulla elit,
commodo porttitor, semper eget, sagittis viverra, urna. Duis pretium
dui facilisis turpis. Mauris vel arcu. Donec ut lorem vel lorem aliquet
commodo. Donec sollicitudin mattis lacus. Ut non magna sit amet tortor
viverra sagittis. Ut venenatis. Vestibulum sodales sapien scelerisque
erat. Integer accumsan orci et tortor vulputate mollis. Curabitur
lacinia quam id libero. Nulla eu lorem eget mi mattis tempus.
Suspendisse consectetuer. Vivamus at risus. Aenean malesuada. </div>
<div class="col_right">
<div class="h2">Column 2</div>
Morbi id nisi. Proin fringilla eleifend mi. Nunc eget elit. Nam ligula
nibh, euismod blandit, nonummy eu, porta non, magna. Ut id nisi id
metus consectetuer euismod. Vestibulum ante ipsum primis in faucibus
orci luctus et ultrices posuere cubilia Curae; Mauris blandit ultrices
eros. Fusce in nisl sit amet enim consequat tristique. Sed facilisis
eros convallis magna. Pellentesque justo. Praesent nec libero at velit
malesuada nonummy. Mauris vitae lectus eget elit euismod bibendum.
Nulla nec ligula. Curabitur metus. Integer lectus nulla, iaculis
molestie, venenatis non, suscipit commodo, est. Sed pulvinar, justo eu
pulvinar convallis, mi tellus pellentesque elit, eu aliquet sapien
ligula non mauris. </div>
</div>
</div>
<div class="col_right">
<div class="multicol2">
<div class="col_left">
<div class="h2">Column 3</div>Praesent eu risus. Fusce feugiat. Maecenas eget lacus quis nisi blandit porttitor. Pellentesque sed turpis. Nulla facilisi. Aenean convallis dolor eget elit. Donec elementum, pede nec euismod varius, ante diam elementum lectus, vitae iaculis orci libero quis tortor. Vestibulum justo est, laoreet eu, consequat sed, molestie at, mi. Fusce luctus, odio eu imperdiet viverra, nunc arcu gravida ante, iaculis lacinia tortor arcu ac felis. Quisque sagittis aliquam nisi. Aliquam nonummy. Nulla mattis orci vel nunc. Nunc in odio. Proin mi risus, lobortis ac, mollis vitae, lacinia vehicula, nulla. Nunc nibh. Morbi laoreet pellentesque justo. ent ultrices.

Spa</div>
<div class="col_right">
<div class="h2">Column 4</div>
Nullam eget lectus. Aenean non augue auctor erat luctus fermentum.
Quisque aliquam eros vel ligula. Mauris pede velit, mollis eget,
adipiscing non, placerat nec, erat. Vestibulum vel sem non orci
porttitor congue. Cras pretium eros eget dui. Donec gravida. Sed mattis
tincidunt enim. Donec aliquam, quam eu rhoncus gravida, nibh nunc
egestas nulla, lobortis interdum nisi dui id nisi. Praesent tristique
velit sit amet ante. Nam malesuada, nisi in laoreet venenatis, dolor
pede vehicula nunc, tempus accumsan ante purus eget sapien. Praesent
aliquam, lorem sit amet volutpat faucibus, ligula lorem auctor diam,
vitae vulputate pede ligula et leo. </div>
</div>
</div>
<div class="col_foot">   </div>
</div>
<h3>Create tree menus</h3>
<h4>General introduction</h4>
<p>The Yana Framework provides several solutions to create foldable tree menus. Extensive programming is not required.</p>
<p>The following options are available:</p>
<ol>
<li>You can write these menus in HTML code yourself. The framework takes care of the presentation. You retain full control over the code.</li>
<li>You can have the HTML code for the menus created automatically and only need to provide the list of entries. In this case, you don't have to care about the code any longer, just take care of the content.</li>
</ol>
<p>For both variants, you have the choice between two different layouts. This chapter contains three sections. First you will be shown how to write the HTML source code for both menus 1 and 2 by hand. Then the text will demonstrate how to use the template function &quot;printUnorderedList&quot; to have these menus created automatically.</p>
<h4><a name="menu_layout1"></a>How do I create a foldable menu?</h4>
<p>This section describes how to create a foldable menu directly in HTML. The Yana Framework will take care of the functionality and presentation automatically.</p>
<p>This is the 1st layout proposal. It uses JavaScript and CSS to display the menu.  Following is a 2nd layout proposal, which can be used alternatively and uses exclusively CSS without JavaScript.</p>
<p>The layout is defined in the file &quot;skins/default/styles/menu.css&quot; and may be controlled by modification of the following CSS-classes:</p>
<ul>
<li>&quot;root&quot; - the root element</li>
<li>&quot;menu&quot; - a menu / sub-menu</li>
<li>&quot;entry&quot; - a menu item</li>
</ul>
<p>The presentation of the menu corresponds to the current recommendations and should be accepted by search engines.</p>
<p>Proceed as follows:</p>
<div class="codeexample">
<p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_gui_3.png"/> <br/>Figure: Menu presentation</p>
<pre><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu root&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;target.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Menu 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">           </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Menu 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">           </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span><span class="html1-text">           </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">SubMenu 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">               </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">                   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">             </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span></span><span style="font: 10pt Courier New;"><span class="html1-text">           </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">closed</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-space"> </span><span class="html1-identifier">style</span><span class="html1-symbol">=</span><span class="html1-value">&quot;display: none;&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">           </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">(invisible)</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">       </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">   </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></span></code></pre>
</div>
<p>The attribute &quot;onclick&quot; here triggers opening and closing of the menu. &quot;Style&quot; attributes set special properties, where &quot;display: none&quot; hides the menu. Menus are enclosed by an element of CSS-class &quot;menu&quot;. Menu items are marked by an element of CSS-class &quot;entry&quot;. The header of a menu is enclosed in &quot;div&quot; tags, which also have an attribute &quot;onclick&quot;. By clicking the headline, the menu can be opened or closed.</p>
<p>Tip: it is usually easier to begin with a simple list of the tags &quot;ul&quot;, &quot;li&quot; and add the CSS classes and JavaScript code later, rather than writing the menu line by line. This will keep the code clearer while editing.</p>
<p>There is the following predefinition: all menus are initially open, if they are not explicitly marked as closed. Multiple menus may be open at the same time.</p>
<p>If you want only 1 menu to be open at the same time, add the following source code:</p>
<div class="codeexample"> <code> &lt;script
type=&quot;text/javascript&quot;&gt; <br/>
    yana_menu_auto_close = true; <br/>
&lt;/script&gt; </code> </div>
<p>If you want to have all menus closed at start, use the following code:</p>
<p class="codeexample"> <code> &lt;script
type=&quot;text/javascript&quot;&gt; <br/>
    yanaCloseAll(); <br/>
&lt;/script&gt; </code> </p>
<p>Both options can be combined.</p>
<p class="codeexample"> <code> &lt;script
type=&quot;text/javascript&quot;&gt; <br/>
    yana_menu_auto_close = true; <br/>
    yanaCloseAll(); <br/>
&lt;/script&gt; </code> </p>
<h4>How do I create a horizontal menu?</h4>
<div class="codeexample">
<p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_menu_4.png"/> <br/>Figure: Menu presentation</p>
<pre><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;target.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=
</span><span class="html1-space">  </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      Menu 1
    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;

</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=
</span><span class="html1-space">  </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;

</span><span class="html1-text">      Menu 2
    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=
</span><span class="html1-space">      </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          Submenu 2.1
        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;

</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;

</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;

</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></span></code></pre>
</div>
<p>The menu works with CSS and does not need JavaScript. However, JavaScript is used anyway, so that older browsers and browser with incomplete CSS support, such as Internet Explorer 6.0, are still able to view the page as expected.</p>
<p>Each menu is initially closed and will be temporarily opened when the user hovers it with the mouse.</p>
<p>The CSS classes have only few differences to those of the vertical menu. Just be sure to use the class &quot;hmenu&quot; instead of class &quot;menu&quot;.</p>
<h4><a name="menu_layout2"></a>How do I create a tree menu?</h4>
<p>This is the 2nd layout proposal. The menus will open automatically when they are touched with the mouse. In Firefox, Opera and Co. opening and closing the menu is done entirely via CSS (without JavaScript). Only in Internet Explorer, including version 7, JavaScript has to be enabled, because the necessary CSS 2.1 pseudo-classes are not yet fully supported.</p>
<p>The layout is defined in the file &quot;skins/default/styles/gui_array.css&quot; and may be controlled via the following CSS classes:</p>
<ul>
<li>&quot;gui_array_list&quot; - a menu item</li>
<li>&quot;gui_array_head&quot; - a closed menu / submenu</li>
<li>&quot;gui_array_head_open&quot; - an open menu / submenu</li>
<li>&quot;gui_array_value&quot; - a label</li>
</ul>
<p>Proceed as follows:</p>
<div class="codeexample">
<p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_menu_1.png"/> <br/>Figure: Menu presentation</p>
<pre><code><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;target.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;
</span><span class="html1-space">      </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;
</span><span class="html1-space">      </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Menu 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;
</span><span class="html1-space">      </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;
</span><span class="html1-space">      </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Menu 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;
</span><span class="html1-space">          </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;
</span><span class="html1-space">          </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">SubMenu 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Item 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;
</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;
&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></code></pre>
</div>
<p>The attribute &quot;onmouseover&quot; is used to open the menus, and the attribute &quot;onmouseout&quot; to close them. These attributes are not mandatory, but are here for backward compatibility with the Internet Explorer and older browsers.</p>
<h4>How can I have menus created automatically?</h4>
<p>The template function &quot;printUnorderedList&quot; presents the contents of a multidimensional arrays as a menu.</p>
<p>To do this, 2 steps are required. Initially create an array containing the entries of your menu in the PHP source code of your plug-in. Then add the function &quot;printUnorderedList&quot; to your template to have the desired menu generated.</p>
<p>Proceed as follows:</p>
<ol>
<li>Open the PHP file with the source code of your plug-in.</li>
<li>Look for the action, for which the menu is to be shown.</li>
<li>The following is an example of an array, which could be created in the PHP source code:</li>
</ol>
<div class="codeexample">
<p class="kommentar" style="margin: 10px; float: right;"><img alt="" src="data/abb_menu_2.png"/> <br/>Figure: Menu presentation</p>
<pre>&lt;?php
global $YANA;

$array = array(
  'target.html' =&gt; 'Link 1',
  'Menu 1' =&gt; array(
    '1.html' =&gt; 'Item 1'
  ),
  'Menu 2' =&gt; array(
    '2.html' =&gt; 'Item 2',
    'Submenu 2.1' =&gt; array(
      '2_1.html' =&gt; 'Item 2.1',
      '2_2.html' =&gt; 'Item 2.2',
      '2_3.html' =&gt; 'Item 2.3' ),
  ),
  '3.html' =&gt; 'Link 2'
);

$YANA-&gt;setVar('myMenu', $array);
?&gt;</pre>
</div>
<p>As you can see, the key to the arrays contain the URLs and the values contained the caption.</p>
<p>To generate the actual menu, proceed as follows:</p>
<ol>
<li>Open the HTML template, which you used for this action.</li>
<li>Look in the HTML source code for a place to insert the menu.</li>
<li>Add the following code:</li>
</ol>
<div class="codeexample"> [%printUnorderedList
value=$myMenu keys_as_href=&quot;true&quot; layout=&quot;2&quot;%] </div>
<p> For the parameter &quot;value&quot; provide the array containing the items of the menu. Use the parameter &quot;layout&quot; to choose between the <a href="#menu_layout1">1st</a> and <a href="#menu_layout2">2nd</a> layout. You should set the parameter &quot;keys_as_href&quot; to &quot;true&quot;.</p>
<h3><a name="cookbook_misc"></a>Miscellaneous functions</h3>
<h4>How do I call an action of another plug-in?</h4>
<p>To handle actions YANA provides the function $YANA-&gt;handle(), which returns bool(true) on success and bool(false) otherwise.</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* call action &quot;foo&quot; */
$bool = $YANA-&gt;handle(&quot;foo&quot;, $parameter);
if ($bool) {
    print &quot;The action 'foo' has been executed successfully.&quot;;
} else {
    print &quot;The call of 'foo' returned an error.&quot;;
}
?&gt;</pre>
<h4>How do I empty the template cache of the server?</h4>
<p>This causes all files in the directory &quot;cache/&quot; to be deleted.</p>
<pre class="codeexample">&lt;?php
global $YANA;

/* empty server's template-cache */
$YANA-&gt;handle(&quot;clear_server_cache&quot;, array());
?&gt;</pre>
<h4>How do I create a preview for an entry, eg. in a forum?</h4>
<div class="codeexample">
<pre><code><span class="html1-comment">&lt;!-- <b>The following entry in the template is already enough:</b> --&gt;</span>
<span class="html1-symbol">&lt;</span><span class="html1-reservedword">textarea</span> <span class="html1-identifier">id</span><span class="html1-symbol">=</span><span class="html1-value">&quot;inputfield&quot;</span> <span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/textarea</span><span class="html1-symbol">&gt;</span>
[%preview%]
</code></pre>
<p class="kommentar"> <img alt="Screenshot" src="data/screen40.png"/>
<br/>Figure: Example of the representation in the Browser</p>
</div>
<h4>How do I create &quot;micro-summaries&quot; for Firefox 2.0 and higher?</h4>
<p>&quot;Micro Summaries&quot; are &quot;active bookmarks&quot;, meaning hyperlinks, whose text can be dynamically updated when the content of the website changes, to which the link points. The Firefox browser offers Micro Summaries automatically, if the user creates a bookmark of a page that has that feature.</p>
<p>Examples of this would be:</p>
<ul>
<li>The number of downloads on a download site</li>
<li>The latest headline on a news website</li>
<li>The number of new, unread messages in your inbox at a web-mail service</li>
<li>The current amount of donations to a nonprofit initiative</li>
<li>The date of the last modification of a file</li>
<li>Or the latest entry in a guestbook or forum</li>
</ul>
<p>Other variants are of course possible.</p>
<p>Micro Summaries are supported by the Yana Framework. They are created using the utility-class &quot;Micro Summary&quot;. Take a look at the following examples:</p>
<pre class="codeexample">&lt;?php
/* creating a mirco-summary in your plug-in */
Microsummary::set($this-&gt;name, 'link text');

/* Please note:
 * The first parameter is an unique id,
 * which identifies the entry.
 * Here: $this-&gt;name is used as id,
 * because the name of the plug-in is unique.
 * However, it is possible to use any other text.
 * For example, when you want to create multiple entries for the
 * same plug-in.
 */

/* reading a micro-summary in your plug-in */
$microsummary = Microsummary::get($this-&gt;name);

/* publishing a micro-summary in your plug-in,
 * so that the browser can find it, when viewing the page
 */
Microsummary::publish($this-&gt;name);

/* To open the micro-summary in your browser: */
index.php?action=get_microsummary&amp;target=guestbook

/* For testing, the URL must be copied to your browser.
 * The argument &quot;target&quot; names the id of the micro-summary you want to view.
 */
?&gt;</pre>
<h4>How do I create RSS feeds?</h4>
<p>&quot;RSS-Feeds&quot; are electronic, (mostly) automatically generated and updated lists, which may provide various information. A visitor may read these with any &quot;RSS reader&quot; software. Modern browsers already have this functionality built in, so that visitors no longer need additional software.</p>
<p>Examples for RSS-Feeds:</p>
<ul>
<li>The recent reports of an electronic newspaper</li>
<li>The latest entries of a web-log</li>
<li>The latest comments in a guest book</li>
</ul>
<p>The Yana Framework supports the creation of RSS feeds for your applications. Therefor you can use the prepared classes &quot;RSS&quot; and &quot;RSSitem&quot;. The following are some examples.</p>
<pre class="codeexample">&lt;?php
/* To create a RSS feed for your plug-in, first create a new function.
   (Change the name as you see fit. Note that the name must be unique.) */
function my_rss_feed($ARGS)
{
    $rss = new RSS();
    // choose a title and description
    $rss-&gt;title = 'Mike Miller\'s News';
    $rss-&gt;description = 'this is my RSS feed for my web site';
    // add an entry
    $item = new RSSitem();
    $item-&gt;title = 'Entry 1';
    $item-&gt;link = 'http://any.url';
    $item-&gt;description = 'A short text, describing the content, or a text excerpt.';
    // add the entry to the RSS feed
    $rss-&gt;addItem($item);
    // a 2nd eintry
    $item = new RSSitem();
    $item-&gt;title = 'another item';
    $item-&gt;link = 'http://any.other.url';
    $item-&gt;description = '2nd description';
    $rss-&gt;addItem($item);
    // output the RSS feed to the browser
    print utf8_encode($rss-&gt;toString());
    exit(0);
}

/* You can have a link to the RSS feed viewed in the application.
   To do so use the function RSS::publish() and the name of the function,
   that creates the RSS feed.
   Tip: The best place to do this is is the constructor
   of your plug-in.*/
function plugin_my_test($name)
{
    RSS::publish('my_rss_feed');
    // more source code may follow here
}
?&gt;</pre>
<!-- NEXT CHAPTER -->
<h2>Tutorials</h2>
<h3><a name="mein_erstes_Plugin"></a>my first plug-in</h3>
<div class="box">
<h4>Chapter 1: Preparation</h4>
<p>The following Tutorial will demonstrate, how to write your own plug-ins. Therefor the text will guide you through some practice, where you will create your first application with the Yana Framework, a so-called &quot;Web log&quot;. The source code can be found in the appendix, at the end of the tutorial.</p>
<p>To complete all steps you will need approximately 1 hour. References to literature can be found at the end of each section. If you wish to skip a section, you will find prepared source code snippets after each step, which you may copy.</p>
</div>
<p>Before you start with this tutorial, you should make sure that you have finished some preparations, because otherwise you might get to a point of the tutorial, where you can not continue.</p>
<p>First, you need access to a web server with PHP. A local installation should be preferred, as this simplifies work. However, access to a web server via FTP will do it anyway.</p>
<ul>
<li>An installation package for Apache and PHP (XAMPP) can be found free on the Internet at: <a target="_blank" href="http://www.apachefriends.org">www.apachefriends.org</a></li>
</ul>
<p>You should also have the Yana Framework already installed and be able to log-in as an administrator. You must also have the &quot;Software Development Kit&quot; for the Yana Framework installed and activated.</p>
<ul>
<li>For an introduction to the installation and operation of the <acronym title="Software Development Kit"> SDK </acronym> see <a href="#developer_plugin"> chapter &quot;Creating plug-ins and applications&quot;</a></li>
</ul>
<p>Also I recommend you to install an appropriate editor for the Framework, either  &quot; <a href="#pspad">PSPad</a> &quot; or &quot; <a href="#context">ConTEXT</a> &quot;. Syntax highlighting and code templates are available for both editors. Read the <a href="#editor"> chapter on editors</a>, for installation instructions. For the purpose of this tutorial, we will demonstrate all examples by using the software &quot;PSPad&quot;.</p>
<p>Basic knowledge of the structure and functions of PHP and MySQL databases are assumed.</p>
<div class="box">
<ul>
<li>&quot;PSPad&quot; can be found for free on the Internet at:<a target="_blank" href="http://www.pspad.com">www.pspad.com</a></li>
<li>&quot;ConTEXT&quot; can be found for free on the Internet at: <a target="_blank" href="http://www.context.cx">www.context.cx</a></li>
<li>you can get files for syntax highlighting and code templates in <a href="#editor"> chapter &quot;editors for the Yana Framework&quot;</a></li>
</ul>
</div>
<h4>Chapter 2: Creating the database</h4>
<div class="box">
<p>Databases are represented in the Yana Framework by so-called &quot;database schemes&quot;. These schemes are descriptions of the structure of a database. In other words, the tables, their columns, indexes and constraints. This information is stored in files. These &quot;database structure files&quot; are stored in the directory &quot;config/db&quot; of the framework.</p>
<p>In addition - and this distinguishes the Yana Framework fundamentally from other frameworks - these files also contain a description of the semantics of a database. In other words, the context in which a column is visible or invisible, how the information is to be presented to the user, or what label a column should have.</p>
<p>To create a database for the Yana Framework you don't need an expensive modeling tool, and no SQL knowledge, but merely a simple text editor.</p>
</div>
<p>To create a new database first open a blank text file in PSPad. Set the syntax highlighting to &quot;Yana Framework&quot; (if you haven't installed the syntax highlighting files and code templates yet, see the chapter  <a href="#editor"> &quot;editors for the Yana Framework&quot;</a> ).</p>
<p>The new database will contain a table &quot;blog&quot;, which will store the items of a web log. Each entry will be contain an unique ID (primary key), the author's name, date of creation, a title and text.</p>
<p>There are code templates to help you with the preparation of the database. Enter the text &quot;db&quot; and press the buttons &lt;CTRL&gt; + &lt;SPACE&gt; simultaneously. This will show a list of code templates. This list has two columns: the left in bold is a &quot;shortcut&quot; that you can enter directly (as in this case &quot;db&quot;) and on the right a description of the templates.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_1.png"/> <br/>Figure: Insert code templates</p>
<p>Choose the template &quot;database definition&quot; and press &lt;ENTER&gt;. The document should now look like the following figure:</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_2.png"/>
<br/>Figure: Database body</p>
<p>Now insert a table. To do this, press &lt;STRG&gt; + &lt;SPACE&gt; and select the &quot;table definition&quot; (shortcut &quot;tbl&quot;). Rename the table by selecting the table name as the title of the opening and closing tags. In this tutorial the table will be named &quot;blog&quot;.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_3.png"/>
<br/>Figure: Table &quot;blog&quot;</p>
<p>Add a primary key to the table. A table can always have only 1 primary key. The primary key must always consist of exactly one column of type &quot;integer&quot;, &quot;float&quot; or &quot;string&quot;. Compound primary keys are not supported.</p>
<p>To add a column, click inside the container &quot;CONTENT&quot; of the table, and insert the code template &quot;primary key&quot; (shortcut &quot;id&quot;). Name the column  &quot;blog_id&quot;.</p>
<p>To define that the column &quot;blog_id&quot; is a primary key, you must specify the name of the column as the &quot;PRIMARY_KEY&quot;.</p>
<p>If you have completed these steps successfully, your file should look like the following:</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_4.png"/>
<br/>Figure: Inserting the primary key</p>
<p>Now add a column of type &quot;string&quot; for the title and a column of type &quot;text&quot; for the text of the entry. A column of type &quot;time&quot; for the date of creation, and another column of type &quot;string&quot; for the name of the author.</p>
<p>The source code should now look like this:</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;
&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">false</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;
&lt;</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;blog&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;blog_id&lt;/</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_id&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">integer</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">8</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_id&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_title&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Title&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_title&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_text&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">text</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">3000</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Text&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_text&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_created&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">time</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Date&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_created&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_author&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Author&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_author&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/blog&gt;
&lt;/</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span></span></code></pre>
</div>
<p>Compare the source code above with your result.</p>
<h5>Introduction to the main properties of a table column</h5>
<p>The property&quot; <b>TYPE</b> &quot; is the data type of the column, &quot; <b>DESCRIPTION</b> &quot; is a label of the column to show to the user. The property &quot;LENGTH&quot; indicates the maximum length for the contents of the field.  For columns of type &quot;string&quot; (in MySQL this is interpreted as &quot;VARCHAR&quot;), this is the  maximum length in characters.</p>
<p>The property &quot; <b>REQUIRED</b> &quot; indicates whether a value is mandatory. This property can take three values: &quot;true&quot;, &quot;false&quot; and &quot;AUTO&quot;. Where &quot;true&quot; = is a required field, &quot;false&quot; = an optional field and &quot;AUTO&quot; = the value is generated automatically, if the user does not specify a value.</p>
<p>Or in other words: the &quot;REQUIRED&quot; indicates whether a column is &quot;nullable&quot;. If &quot;REQUIRED&quot; is set to &quot;true&quot;, the column will be set &quot;NOT NULL&quot; in MySQL and vice versa.</p>
<p>If you set the value to &quot;AUTO&quot; on a column of type &quot;integer&quot; you get an auto-incremented column in MySQL. The column &quot;blog_id&quot; in the example above uses auto-increment. (In MSSQL and DB2 this is realized as &quot;identity&quot;, as &quot;sequence&quot; in PostgreSQL and as trigger in Oracle). The value &quot;AUTO&quot; on a column of type &quot;time&quot; causes the current time to be inserted as value.</p>
<p>A property, which has not been used yet in the example above is &quot; <b>DEFAULT</b> &quot;. This can be used to set a &quot;default value&quot;, which will automatically be used if there is no other input given.</p>
<p>Finally, the property &quot; <b>DISPLAY</b> &quot;. This property has no equivalent in SQL. It controls the presentation of the column in the Framework. It identifies all forms in which the column is: visible, visible and editable, or not visible at all. This distinguishes between forms to: view, search, create and edit records in the table.</p>
<h5>Refining the input</h5>
<p>The above table will now be completed with some more information.</p>
<p>For example, you should specify that the columns &quot;blog_title&quot; (title) and &quot;blog_text&quot; (text) always need to be filled. To do this, add the property &quot;REQUIRED&quot; with the value &quot;true&quot; (shortcut &quot;req&quot;).</p>
<p>The date of creation is inserted automatically. It should therefore not be visible when writing the entry for the user and not be edited afterwards. For the column &quot;blog_created&quot; (date) add a property &quot;DISPLAY&quot; (shortcut &quot;disp&quot;). Set the values &quot;HIDDEN.NEW&quot; and &quot;READONLY.EDIT&quot; to &quot;true&quot;. Set all other values to &quot;false&quot;.</p>
<h5>Multiple blogs in one table</h5>
<p>You can, of course, store several blogs in a table. To do this you need an extra column, which identifies which blog an entry belongs to. This can be useful, for example, if you have several web pages per site and want to have a blog for each of them.</p>
<p>The functionality to distiguish between all these different blogs, and the assignment to individual web pages don't need to be programmed manually. The framework has prepared a template for this purpose.</p>
<p>First add a new column of type &quot;profile&quot; (shortcut &quot;pid&quot;). The column should be called &quot;profile_id&quot;. Then enter a new line after the property &quot;PRIMARY_KEY&quot;, add the property &quot;PROFILE_KEY&quot; (shortcut &quot;prf&quot;), and set the value of this property to &quot;profile_id&quot;.</p>
<p>Compare your results with the following source code.</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;
&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">false</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;
&lt;</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;blog&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;blog_id&lt;/</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PROFILE_KEY</span><span class="general1-symbol">&gt;profile_id&lt;/</span><span class="general1-key">PROFILE_KEY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_id&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">integer</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">8</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_id&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_title&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Title&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_title&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_text&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">text</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">3000</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Text&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_text&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_created&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">time</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Date&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  						</span><span class="general1-symbol">&lt;</span><span class="general1-key">NEW</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">NEW</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  						</span><span class="general1-symbol">&lt;</span><span class="general1-key">EDIT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">EDIT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_created&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_author&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Author&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_author&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;profile_id&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">profile</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">128</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;
</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/profile_id&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/blog&gt;
&lt;/</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span></span></code></pre>
</div>
<p>This ends the creation of the database Save your changes in the file &quot;blog.config&quot; and close the program.</p>
<h5>References</h5>
<div class="box">
<p>If you would like a more detailed view on the issues discussed in this section, you will find instructions in the following articles:</p>
<ul>
<li> <a href="#cookbook_database">Developer's cookbook, chapter &quot;Working with databases&quot;</a></li>
</ul>
</div>
<p>The following section will look at the creation of the program codes.</p>
<h4><a name="tutorial_new_plugin"></a>Chapter 3: Creating a new plug-in</h4>
<div class="box">
<p>If you reconstructed the tutorial up to this point, you now already possess a simple database. However, to &quot;bring it to life&quot;, you still need the business-logic of the application itself, as well as an user interface to view forms and data. You will create both in the following section.</p>
</div>
<p>Now open the sitemap of the Yana Framework in a scriptable web browser, for example, Firefox 2.0. Click the link &quot;Login&quot; an log on the system as &quot;administrator&quot;.  You will need administrator privileges to proceed with the next step.</p>
<p>At the sitemap click the link  &quot;Software Development Kit&quot;. Should this not yet been installed, or enabled, please do it now. For more information see the chapter <a href="#developer_plugin"> &quot;Creating plug-ins and applications&quot;</a>.</p>
<p>If you opened the link, you should be able to see the following form.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_1.png"/> <br/>Figure: Front page of the &quot;Software Development Kit&quot;</p>
<p>First, enter a name (for example, &quot;my blog&quot;), some description, and select a logo for your plug-in. Using the tab &quot;author&quot; you can provide information about your name, your web site address and contact.</p>
<p>On the page &quot;other data&quot; set the &quot;type of application&quot; to &quot;primary&quot;. This declares the plug-in to be a &quot;main program&quot;. This is optional, but may increase performance.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_1_3.png"/>
<br/>Figure: Setting the type of application</p>
<p>Next click the tab &quot;Database&quot;.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_3_2.png"/>
<br/>Figure: Selecting the database structure file</p>
<p>Click the button &quot;choose&quot;. Select the file &quot;blog.config&quot;, you created, as the source.</p>
<p>Additional information about your plug-in is not necessary at this point. Click on &quot;Finish&quot;. The source code and the user interface for your first plug-in will now be generated. Next you can immediately try your recently created plug-in.</p>
<h5>Try the new plug-in</h5>
<p>Open the administration menu in expert mode. In the right column, section &quot;plugins&quot;, click on &quot;refresh list.&quot; Look for the name of your plug-in in the list and activate it, by clicking the checkbox next to the plug-in's name. Click on the &quot;Save changes&quot;.</p>
<p>The following figure shows this menu.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_5.png"/>
<br/>Figure: Activating a plug-in</p>
<div class="box">
<h5>Instructions for users with database support</h5>
<p> <img alt="Attention:" src="data/icon2.gif" style="margin: 10px; float: left;"/> </p>
<p> <span style="font-weight: bold;"> Attention! </span> If you DON'T have database support activated you DON'T need to take the following step. <br/> If you activated the database support and for example use a MySQL database for storing the entries, then you must install the tables for the plug-in first. To do so, open the menu &quot;Database setup&quot; and select &quot;install marked databases&quot; from the drop-down menu. A list of options will be shown. Enable only the entry of the database of your plug-in and click on &quot;save changes&quot;.</p>
<p>See the following figure:</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_12.png"/>
<br/>Figure: Installing a table on your database</p>
</div>
<p>Next go back to the sitemap of the framework. Now the name of your plug-in should be visible in the main menu. Click this link. You should now see the starting page of your application, as shown in the following figure.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_6.png"/>
<br/>Figure: Start page of the new plug-in</p>
<p>The text &quot;no entries found&quot; indicates that there are no entries stored in your blog yet. Click on the link &quot;new&quot; to create a new entry.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_7.png"/>
<br/>Figure: Creating a new entry</p>
<p>Next you should see the following index page. (The figure shows the form with two entries)</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_8.png"/>
<br/>Figure: Viewing the entries</p>
<p>There are alternative views. Below the table you will find a list with 4 different layouts. So just choose the one you like best.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_9.png"/>
<br/>Figure: Detailed view</p>
<p>Click the link &quot;edit&quot; to edit entries. You should see the following form.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_10.png"/> <br/>Figure: Editing entries</p>
<h5>Notes on the operation of the editor</h5>
<p>Clicking on the columns changes the sorting of columns. You need to mark all rows, which would like to change, by clicking the check box in the left column. The last row has only empty fields, which you can use to create a new entry the fast and easy way.</p>
<p>This form has a special feature. If you set the property &quot;entries per page&quot; to the value &quot;1&quot;, the view for the current entry is maximized, which is more comfort editing it, as the following figure shows.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_11.png"/>
<br/>Figure: Editing a single entry</p>
<p>If you wish, you can also try the other functions of your new plug-in.</p>
<h5>References</h5>
<div class="box">If you would like a more detailed view on the issues discussed in this section, you will find instructions in the following articles:<ul>
<li> <a href="#developer_plugin">Instructions for developers, Chapter plug-ins and applications.</a></li>
</ul>
</div>
<p>As you could see, the Yana Framework has already done a big part of the necessary work for you. However, there are certainly some details that you might want to customize to your needs. The following section of the tutorial will discuss how to do this.</p>
<h4>Chapter 4: Editing templates and configuration files</h4>
<div class="box">
<p>The following section will introduce the definition files for plug-ins and templates. It is demonstrated, how these files can be edited, in order to adapt them to personal needs.</p>
</div>
<h5>Insertion of emot-icons and embedded tags</h5>
<p>As the first step is to be demonstrated, how to insert smilies (emot-icons) and embedded tags (to format text). Open the file &quot;skins/default/blog/blog_default_new_blog.html&quot; in PSPad. Please note, that the text &quot;blog&quot; should be replaced with the name of your project. Select the highlighter &quot;Yana Framework Templates&quot; from the list of the available highlighters.</p>
<p>For comparison see the following figure:</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_13.png"/> <br/>Figure: Templates in PSPad</p>
<p>The function &quot;import&quot; loads the tree menu from the file &quot;index.html&quot;. The function &quot;create&quot; calls the form generator of the Yana Framework, to generate a form, where the user may add a new item.</p>
<p class="kommentar">For an explanation of the function &quot;create&quot; see the <a href="#func_create"> reference of template-functions and -modifiers</a>.</p>
<p>There are predefined code snippets for templates too. Now insert a function &quot;embeddedTags&quot; (Shortcut &quot;embTag&quot;) below the function &quot;create&quot;. You don't have to provide any arguments for this function.</p>
<p class="kommentar">For an explanation of the function &quot;embeddedTags&quot;  see the <a href="#func_embeddedtags"> reference of template-functions and -modifiers</a>.</p>
<p>The source code should now look like this:</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="general1-symbol">&gt;
[%</span><span class="general1-key">import</span><span class="general1-space"> </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;index.html&quot;</span><span class="general1-symbol">%]
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;margin-left: 260px;&quot;</span><span class="general1-symbol">&gt;
[%</span><span class="general1-key">create
</span><span class="general1-space">  </span><span class="general1-identifier">template=</span><span class="general1-string">&quot;new&quot;
</span><span class="general1-space">  </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;
</span><span class="general1-space">  </span><span class="general1-reservedword">table</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">where=$WHERE
</span><span class="general1-space">  </span><span class="general1-identifier">titles=</span><span class="general1-string">&quot;&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_edit=</span><span class="general1-string">&quot;blog_write_edit_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_delete=</span><span class="general1-string">&quot;blog_write_delete_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_new=</span><span class="general1-string">&quot;blog_write_new_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_search=</span><span class="general1-string">&quot;blog_read_search_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_download=</span><span class="general1-string">&quot;blog_blog_download&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">sort=$SORT
</span><span class="general1-space">  </span><span class="general1-identifier">desc=$DESC
</span><span class="general1-space">  </span><span class="general1-identifier">page=$PAGE
</span><span class="general1-space">  </span><span class="general1-identifier">entries=$ENTRIES</span><span class="general1-space"> </span><span class="general1-symbol">%]
[%</span><span class="general1-key">embeddedTags</span><span class="general1-symbol">%]
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;clear: both;&quot;</span><span class="general1-symbol">&gt;
&amp;nbsp;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">your text here</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span></span></code></pre>
</div>
<p>Compare the source code above with your result.</p>
<p>If you open your plug-in again in a browser, it should look like this.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_14.png"/>
<br/>Figure: Presentation in a browser (Firefox 3)</p>
<p>You may want to optimize this presentation for a better look and feel. There are many ways to do this and at most it is a matter of taste - however, here is a suggestion.</p>
<div class="codeexample">
<pre><code>
<span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;legend</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;font-size: 12px; font-weight: bold;&quot;</span><span class="general1-symbol">&gt;Text</span><span class="general1-space"> </span><span class="general1-identifier">formatieren:&lt;/legend&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">[%</span><span class="general1-key">embeddedTags</span><span class="general1-space"> </span><span class="general1-reservedword">show</span><span class="general1-symbol">=</span><span class="general1-string">&quot;b,i,u,|,h,emp,code,hide,|,small,big,|,img,url,mail,-,mark,color,smilies&quot;</span><span class="general1-symbol">%]
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;</span>
</code></pre>
</div>
<p>If you haven't known the tags &quot;fieldset&quot; and &quot;legend&quot; till now: These tags produce subsections within forms. The tag &quot;legend&quot; specifies the label of the subsection. All &quot;Fieldsets&quot; are presented as framed sections. The text enclosed by the &quot;Legend&quot;-tag is printed at the border. <br/> Also this source code demonstrates the use of arguments for the function &quot;embeddedTags&quot;. Pay attention to the argument &quot;show&quot; of the function &quot;embeddedTags&quot;. This accepts the two special values &quot;|&quot; and &quot;-&quot;. Where &quot;|&quot; creates a vertical separator and &quot;-&quot; creates a line-break.</p>
<p>Finally let us create a preview of the new entry above both fieldsets (shortcut &quot;preview&quot;). You may take the snippet as is, the arguments &quot;height&quot; and &quot;width&quot; are not required and should be deleted.</p>
<p>The resulting source code should now look like this:</p>
<div class="codeexample">
<pre><code>
<span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="general1-symbol">&gt;
[%</span><span class="general1-key">import</span><span class="general1-space"> </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;index.html&quot;</span><span class="general1-symbol">%]
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;margin-left: 260px;&quot;</span><span class="general1-symbol">&gt;
[%</span><span class="general1-key">create
</span><span class="general1-space">  </span><span class="general1-identifier">template=</span><span class="general1-string">&quot;new&quot;
</span><span class="general1-space">  </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;
</span><span class="general1-space">  </span><span class="general1-reservedword">table</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">where=$WHERE
</span><span class="general1-space">  </span><span class="general1-identifier">titles=</span><span class="general1-string">&quot;&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_edit=</span><span class="general1-string">&quot;blog_write_edit_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_delete=</span><span class="general1-string">&quot;blog_write_delete_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_new=</span><span class="general1-string">&quot;blog_write_new_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_search=</span><span class="general1-string">&quot;blog_read_search_blog&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">on_download=</span><span class="general1-string">&quot;blog_blog_download&quot;
</span><span class="general1-space">  </span><span class="general1-identifier">sort=$SORT
</span><span class="general1-space">  </span><span class="general1-identifier">desc=$DESC
</span><span class="general1-space">  </span><span class="general1-identifier">page=$PAGE
</span><span class="general1-space">  </span><span class="general1-identifier">entries=$ENTRIES</span><span class="general1-space"> </span><span class="general1-symbol">%]
<span class="general1-space">  </span><span class="general1-symbol">[%</span><span class="general1-key">preview</span><span class="general1-symbol">%]</span>
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;legend</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;font-size: 12px; font-weight: bold;&quot;</span><span class="general1-symbol">&gt;Text</span><span class="general1-space"> </span><span class="general1-identifier">formatieren:&lt;/legend&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">[%</span><span class="general1-key">embeddedTags</span><span class="general1-space"> </span><span class="general1-reservedword">show</span><span class="general1-symbol">=</span><span class="general1-string">&quot;b,i,u,|,h,emp,code,hide,|,small,big,|,img,url,mail,-,mark,color,smilies&quot;</span><span class="general1-symbol">%]
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;clear: both;&quot;</span><span class="general1-symbol">&gt;
&amp;nbsp;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">your</span><span class="general1-space"> </span><span class="general1-keywords3">text</span><span class="general1-space"> </span><span class="general1-identifier">here</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span></span></code></pre>
</div>
<p>The preview automatically uses the most recently used textarea-field as the source for creating the preview. The representation is loaded via AJAX directly from the server, without having to reload the page.</p>
<p>The result will be presented in the browser as follows:</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_15.png"/>
<br/>Figure: Presentation in a browser (Firefox 3)</p>
<h5>Changing the sorting order</h5>
<p>Again click the menu option &quot;browse&quot;. Note the sorting of the entries. By default they are sorted by the primary key in ascending order. This is usually not desired for a web log. Instead the entries should be sorted in descending order by the date of their creation. To correct this, open the file &quot;skins/default/blog/blog_read_read_blog.html&quot; in PSPad. Please note, that the text &quot;blog&quot; should be replaced with the name of your project. Select the highlighter &quot;Yana Framework Templates&quot; from the list of the available highlighters.</p>
<p>As stated before, the function &quot;create&quot; is used to call the form generator. This takes some parameters, which control the output. Set the parameter &quot;sort&quot; to &quot;blog_created&quot; to have the table sorted by the column &quot;blog_created&quot;, which contains the date of creation. Set the parameter &quot;desc&quot; to the value &quot;true&quot;, to get the results sorted in descending order.</p>
<p> <a name="code_2"></a>Note that the parameter &quot;where&quot; is set to the variable &quot;$WHERE&quot;. This will become important in a later stage of this tutorial.</p>
<p>The following source code snippet illustrates the result.</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="html1-comment">&lt;!-- Begin: menu --&gt;
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">[%import file=&quot;index.html&quot;%]
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-comment">&lt;!-- End: menu --&gt;
&lt;!-- Begin: content --&gt;
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;margin-left: 260px;&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-text">[%create
  template=&quot;view&quot;
  layout=3
  file=&quot;blog&quot;
  table=&quot;blog&quot;
  where=$WHERE
  titles=&quot;&quot;
  on_edit=&quot;blog_write_edit_blog&quot;
  on_delete=&quot;blog_write_delete_blog&quot;
  on_new=&quot;blog_write_new_blog&quot;
  on_search=&quot;blog_read_search_blog&quot;
  on_download=&quot;blog_blog_download&quot;
  sort=&quot;blog_created&quot;
  desc=$DESC
  page=$PAGE
  entries=$ENTRIES %]
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-comment">&lt;!-- End: content --&gt;
&lt;!-- Begin: foot --&gt;
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;clear: both;&quot;</span><span class="html1-symbol">&gt;
</span><span class="html1-escapeampersand">&amp;nbsp;
</span><span class="html1-comment">&lt;!-- your text here --&gt;
</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;
</span><span class="html1-comment">&lt;!-- End: foot --&gt;
</span></span></code></pre>
</div>
<p>Compare the source code above with your result.</p>
<h5>Editing the entries of the tree menu</h5>
<p>Next the tree menu is to be adapted, so that the items &quot;new&quot; and &quot;About ...&quot; are only visible to users, who are logged in to the system and have a appropriate security level. You might want to change the text of the labels as well.</p>
<p> <a name="code_1"></a>The source code should now look like this:</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu root&quot;</span><span class="general1-space"> </span><span class="general1-identifier">id=</span><span class="general1-string">&quot;_menu&quot;</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-identifier">onclick=</span><span class="general1-string">&quot;yanaMenu(this)&quot;</span><span class="general1-symbol">&gt;blog&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">75</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_edit_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.EDIT%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_default_new_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.NEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_search_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.SEARCH%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_read_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.VIEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=about&amp;target=mein_plugin&amp;type=plugin&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.ABOUT%]</span><span class="general1-space"> </span><span class="general1-symbol">...&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;
</span></span></code></pre>
</div>
<p>Having the IF-statements put in comments is a notation to improve the readability of the code when viewing the template file in a browser. For the template itself, it doesn't matter if you use these comments or not.</p>
<p>The variable $PERMISSION stores the security level of the visitor. Guests have by default the security level &quot;0&quot;, Administrators are level &quot;100&quot;. Between both you can assign more levels. For example, predefined is level &quot;30&quot; for the moderator's user group. Use this variable to decide, if certain menu items are to be visible or not. Now change the value &quot;Permission&quot; for the operations &quot;new&quot; and &quot;about&quot; to &quot;&gt;= 30&quot; (the value 30 is by default used for the user group of moderators).</p>
<p>Since the variable $PERMISSION always has a value &gt;= 0, you may remove all such checks to improve performance.</p>
<p>Compare your result with the following source code.</p>
<div class="codeexample">
<pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu root&quot;</span><span class="general1-space"> </span><span class="general1-identifier">id=</span><span class="general1-string">&quot;_menu&quot;</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-identifier">onclick=</span><span class="general1-string">&quot;yanaMenu(this)&quot;</span><span class="general1-symbol">&gt;blog&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">75</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_edit_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.EDIT%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">30</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_default_new_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.NEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_search_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.SEARCH%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_read_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.VIEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
</span><span class="general1-space">    </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=about&amp;target=mein_plugin&amp;type=plugin&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.ABOUT%]</span><span class="general1-space"> </span><span class="general1-symbol">...&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;
&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;
</span></span></code></pre>
</div>
<h5>Editing configuration files</h5>
<div class="box">
<p>As you might have guessed already, this was just the 1st step. The menu options are hidden now. However the actions are still callable for someone who knows the right URL. A skillful user could do so to circumvent this check of his security level and execute the function anyway. The following section will demonstrate, how may change the configuration file of your plug-in, in order to prevent this.</p>
</div>
<p>Off with HTML templates and on to configuration files.  Open the file &quot;plugins/blog.config&quot; in PSPad (note, that the text &quot;blog&quot; should be replaced with the name of your project). Select the highlighter &quot;Yana Framework&quot;</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_16.png"/>
<br/>Figure: Presentation of the configuration file in PSPad</p>
<p>The container &quot;INFO&quot; contains the header of the configuration file. This block may look a little different, depending on the settings you made when creating the plug-in.</p>
<p>First take a look at the element &quot;START&quot;, where you will find the name of the front page of your plug-in (blog_read_read_blog). This value corresponds to the value of the argument &quot;action&quot;, which is attached to the URL. The value identifies the plug-in and the action, which is to be carried out by the plug-in. The name was generated automatically. If you want to use another front page instead, just open the page you want in your browser. Look in the address in the browser, search for the value of the argument &quot;action&quot; and copy this value to the field &quot;START&quot;.</p>
<p>The container &quot;INTERFACE&quot; describes all actions, that your plug-in can process. For each action there is a tag, which has further properties to describe it's characteristics. The names were also generated automatically. Note that the names must be unique. Therefor it doesn't make much sense to call an action something like &quot;insert&quot;, since this would possible be used multiple times with different semantics.</p>
<p class="kommentar">For an explanation of all tags used in this configuration file, as well as code examples, see the <a href="#cookbook_plugins"> developer's cookbook, chapter &quot;editing plug-ins&quot;</a>.</p>
<p>In the next step you will take over the changes you made in the file &quot;index.html&quot; to the configuration file, in order to make the circumvention of your security restrictions impossible.</p>
<p>To do so, first search for the action &quot;blog_default_new_blog&quot; and set the value of the field &quot;PERMISSION&quot; to &quot;30&quot;, as you did in the file &quot;index.html&quot;. Now do the same for &quot;blog_write_new_blog&quot;. Note: The action &quot;blog_default_new_blog&quot; presents the form, while the action &quot;blog_write_new_blog&quot; handles the input from it. Both actions belong to the same form and this is why both values have to be changed accordingly.</p>
<p>The file &quot;index.html&quot; did contain the item &quot;list&quot; that you removed (compare with the <a href="#code_1">source code above</a> ). This item was linked with the action &quot;blog_read_read_blog&quot;. Now look for this action and remove it.</p>
<p>The container &quot;INTERFACE&quot; should now look like this.</p>
<div class="codeexample">
<pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_EDIT_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_EDIT_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_EDIT_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_EDIT_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_EDIT_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_DELETE_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_DELETE_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_DEFAULT_NEW_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;default&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_NEW_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">30</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_DEFAULT_NEW_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_NEW_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">30</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_NEW_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_SEARCH_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_SEARCH_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_search_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_search_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_SEARCH_BLOG&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_READ_BLOG&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_READ_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_READ_BLOG&gt;
&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre>
</div>
<p>Compare the source code above with your result.</p>
<h5>References</h5>
<div class="box">If you would like a more detailed view on the issues discussed in this section, you will find instructions in the following articles:<ul>
<li> <a href="#developer_plugin">Instructions for developers, chapter &quot;Creating templates and skins&quot;</a></li>
<li> <a href="#cookbook_plugins">Developer's cookbook, chapter &quot;Creating plug-ins&quot;</a></li>
<li>SelfHTML <a target="_blank" href="http://de.selfhtml.org/">http://de.selfhtml.org/</a></li>
<li>Smarty documentation <a target="_blank" href="http://smarty.net/docs.php">http://smarty.net/docs.php</a></li>
</ul>
</div>
<h4>Chapter 5: Editing the PHP source code</h4>
<div class="box">
<p>The following section will show you how to edit the PHP source code of a plug-in to add new, or modify existing functions.</p>
</div>
<p>In this section of the tutorial you will learn how to implement an automatically generated RSS feed for the 10 latest items in the blog.  The tutorial takes you through the various stages of the creation.</p>
<h5>Defining a new action in the interface section of the configuration file</h5>
<p>Before you edit the PHP source code, you should register the new action in the interface of the plug-in. Only then it can be called in your web browser. On the one hand this serves performance and on the other hand it adds an additional safety restriction, in order to make it more difficult to smuggle foreign PHP code into your application to prevent and thus improve the security for all plug-ins.</p>
<p>In order to accomplish this step, open the file &quot;plugins/blog.config&quot; in PSPad (note that you should replace the name &quot;blog&quot; with the name of your plug-in). Select the highlighter &quot;Yana Framework&quot;</p>
<p>Add a new action to the container &quot;INTERFACE&quot; (Shortcut &quot;act&quot;). Name this action &quot;blog_rss&quot;.</p>
<p>The source code should now contain the following new action:</p>
<div class="codeexample">
<pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;
[...]
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_RSS&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;default&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">INDEX</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-number">200</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;ALERT&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-number">500</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;
</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_RSS&gt;
[...]
&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre>
</div>
<p>Not all of the automatically generated fields are required. Adjust the definition of the action as follows:</p>
<div class="codeexample">
<pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;
[...]
</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_RSS&gt;</span>
<span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">NULL</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;
</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span>
<span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_RSS&gt;
[...]
&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre>
</div>
<p>The field &quot;TYPE&quot; with the value &quot;read&quot; tells you something about the intended behavior of this action. This type expresses that this action only requires read access to the database. This information may help to improve performance.</p>
<p>The field &quot;MODE&quot; with a value of &quot;0&quot; indicates that the standard operation mode is used. (The value &quot;1&quot; will make the program start in &quot;safe mode&quot; for this action).</p>
<p>The field &quot;PERMISSION&quot; with a value of &quot;0&quot; indicates that every visitor is allowed to access this action, without needing some higher security level.</p>
<p>The field &quot;TEMPLATE&quot; indicates, which template is to be selected for the action. While it is possible to change the template inside the PHP code, using this field in the configuration file is easier and supports readability. <br/>  The selected template &quot;NULL&quot; is a predefined special value. It expresses that &quot;no template&quot; is to be selected This is not necessary, because the output is created by an automatic RSS generator, with no need for a template.</p>
<p>This completes the preparations. The following section will look at the implementation in the PHP source code.</p>
<h5>Writing the PHP source code</h5>
<p>Open the file &quot;plugins/blog/plugin.php&quot; in PSPad (note that you should replace the name &quot;blog&quot; with the name of your plug-in). Select the highlighter &quot;PHP&quot;.</p>
<p>To the class &quot;plugin_blog&quot; add a new function with the name &quot;blog_rss&quot;. You can copy the following template to do so.</p>
<pre class="codeexample">&lt;?php
class plugin_blog extends plugin
{
// [...]
    /**
     * blog_rss
     * 
     * returns bool(true) on success and bool(false) on error
     * 
     * Type:        read
     * Permission:  0
     * Templates:   NULL
     * 
     * @access  public
     * @return  bool
     * @name    plugin_blog::blog_rss()
     * @param   array  $ARGS  array of params passed to the function
     */
    function blog_rss ($ARGS)
    {

    }
// [...]
}
?&gt;</pre>
<p>Make it a habit to always immediately document any new function you write, while the idea and details are still fresh in your memory. This has the advantage, that you have to review your code, which helps you to identify possible problems very soon.</p>
<h5>Query the database</h5>
<p>In order to provide a RSS feed of the 10 most current contributions, you need to load them from the database. Therefor you have to query the table &quot;blog&quot;. By setting  the limit-clause to &quot;10&quot; you limit the maximum number of rows in the result set to 10. To ensure these are the latest entries you have to sort them by the date of creation in descending order. This means, sort them by the column &quot;blog_created&quot;. To do so, use &quot;order_by&quot; and &quot;desc&quot;.</p>
<p>The following source code demonstrates this:</p>
<pre class="codeexample">&lt;?php
/* get entries from database */
$query = array(
    'key' =&gt; 'blog.*',
    'order_by' =&gt; 'blog_created',
    'desc' =&gt; true,
    'limit' =&gt; 10
);
$rows = $this-&gt;database-&gt;get($query);
?&gt;</pre>
<p>As you can see in this example, the Yana Framework has a query generator for producing simple SQL statements. So you don't need any SQL knowledge to be able to query the database with the Yana Framework  The framework also takes care of mapping the real SQL statements to the syntax of your DBMS.</p>
<p>The Query Generator also does simple automated safety checks, does automatic quoting of input values and does plausibility checks on SQL queries, before they are ever send to the database. This reduces the risk of SQL-injections and thus increases the security of your application.</p>
<p>The result set, here $rows, consists of a multidimensional, associative array. Each entry corresponds to a row. Each row has one item per column.</p>
<p>A call to var_export($rows) demonstrates this. This output is as follows:</p>
<pre class="codeexample">&lt;?php
array (
  2 =&gt;
  array (
    'BLOG_TITLE' =&gt; 'Test',
    'BLOG_TEXT' =&gt; 'This is a test[br]This is a test[br]This is a test[br]This is a test',
    'BLOG_AUTHOR' =&gt; 'Thomas Meyer',
    'BLOG_CREATED' =&gt; '1173276511',
    'PROFILE_ID' =&gt; 'default',
    'BLOG_ID' =&gt; 2,
  ),
  1 =&gt;
  array (
    'BLOG_TITLE' =&gt; 'Test',
    'BLOG_TEXT' =&gt; 'This is a test[br]Just another test.[br][br]New line.',
    'BLOG_AUTHOR' =&gt; 'Thomas Meyer',
    'BLOG_CREATED' =&gt; '1173276442',
    'PROFILE_ID' =&gt; 'default',
    'BLOG_ID' =&gt; 1,
  ),
)
?&gt;</pre>
<p>You can tell by the index of the array, that the entries are sorted in reverse order. The column names are written in capital letters.</p>
<p class="kommentar">For  further details and code examples see the <a href="#cookbook_database"> developer's cookbook, chapter databases</a> and the <a href="api_documentation/yana/io/DbStream.html">API documentation of the class &quot;DbStream&quot;</a>.</p>
<p>To create RSS feeds you may use the class &quot;RSS&quot;. In order to produce a new feed, an instance of this class should be produced in the next step.</p>
<pre class="codeexample">&lt;?php
$rss = new RSS();
$rss-&gt;title = 'Blog';
$rss-&gt;description = 'the 10 most recent blog entries';
?&gt;</pre>
<p>Title and description of the RSS feed can be chosen freely. To do so use the properties &quot;title&quot; and &quot;description&quot;, as in the following example.</p>
<p>Subsequently, an entry in the RSS feed is to be provided for each entry of the database. An entry is represented by the class &quot;RSSitem&quot;. In order to produce an entry, a new instance of this class is produced and added to the RSS feed by using the function RSS::addItem(). The entries are stored in the RSS feed in the order in which they are inserted - regardless of the date, as date is an optional field.</p>
<p>The following source code demonstrates how to create new entries.</p>
<pre class="codeexample">&lt;?php
foreach ($rows as $row)
{
    $item = new RSSitem();
    // Title
    $item-&gt;title = $row['BLOG_TITLE'];
    // Link
    $action = 'blog_read_read_blog';
    $blog_id = $row['BLOG_ID'];
    $link = DisplayUtility::url(&quot;action=$action&amp;blog_id=$blog_id&quot;, true);
    $link = str_replace(session_name() . '=' . session_id(), '', $link);
    $item-&gt;link = $link;
    // Text
    $item-&gt;description = $row['BLOG_TEXT'];
    // Date
    $item-&gt;pubDate = date('r', $row['BLOG_CREATED']);
    // add item
    $rss-&gt;addItem($item);
} /* end foreach */
?&gt;</pre>
<p>Take a closer look at the code that creates the link. It refers to the action, which is used to output the blog. This action is &quot;blog_read_read_blog&quot;. As already mentioned, this name is generated automatically. The function &quot;url()&quot; as member of the utility class &quot;DisplayUtility&quot; creates, as the implies, an URL included the server's address, name and path of the script and all required parameters.</p>
<p>The resulting link, however, also contains the current session Id. It naturally changes with every call. Actually, this should not be a problem, but unfortunately there is a weakness of some modern RSS reader products. For some (not all) of them are programmed to interpret the link of a RSS record as it's unique id. Even if explicitly a <acronym title="general unified identifier"> GUID </acronym> is given, it is sometimes ignored, and the link is used anyway. For this reason, it may not change, because these programs otherwise would mix it up. That is the reason why the session Id necessarily has to be removed from the link and that is also the reason why the primary key of the item appears in the link. This is not a limitation of the framework, but an unpleasant feature of some RSS reader products. Unfortunately you will have to live with it for now.</p>
<p class="kommentar">Further details on the use of this class can be found in the <a href="api_documentation/yana/plugins/RSS.html"> API documentation for the classes &quot;RSS&quot;</a> and <a href="api_documentation/yana/plugins/RSSitem.html">&quot;RSSitem&quot;</a>.</p>
<p>The following extract of the source code, shows the action in context:</p>
<pre class="codeexample">&lt;?php
/* get entries from database */
$query = array(
    'key' =&gt; 'blog.*',
    'order_by' =&gt; 'blog_created',
    'desc' =&gt; true,
    'limit' =&gt; 10
);
$rows = $this-&gt;database-&gt;get($query);
$rss = new RSS();
$rss-&gt;title = 'Blog';
$rss-&gt;description = 'the 10 most recent blog entries';
foreach ($rows as $row)
{
    $item = new RSSitem();
    // Title
    $item-&gt;title = $row['BLOG_TITLE'];
    // Link
    $action = 'blog_read_read_blog';
    $blog_id = $row['BLOG_ID'];
    $link = DisplayUtility::url(&quot;action=$action&amp;blog_id=$blog_id&quot;, true);
    $link = str_replace(session_name() . '=' . session_id(), '', $link);
    $item-&gt;link = $link;
    // Text
    $item-&gt;description = $row['BLOG_TEXT'];
    // Date
    $item-&gt;pubDate = date('r', $row['BLOG_CREATED']);
    // add item
    $rss-&gt;addItem($item);
} /* end foreach */
print utf8_encode($rss-&gt;toString());
exit(0);
?&gt;</pre>
<p>How you could see from the above source code, each entry refers to the action &quot;blog_read_read_blog&quot; with the parameter &quot;blog_id&quot;. Up to now this action does not possess this parameter. The following section will demonstrate, how to add this parameter to this action.</p>
<h5>Add a new parameter</h5>
<p>Search in the document for the action &quot;blog_read_read_blog&quot;. It should currently contain the following source code:</p>
<pre class="codeexample">&lt;?php
/**
 * blog_read_read_blog
 * 
 * returns bool(true) on success and bool(false) on error
 * 
 * Type:        read
 * Permission:  0
 * Templates:   BLOG_READ_BLOG
 * 
 * @access  public
 * @return  bool
 * @name    plugin_blog::blog_read_read_blog()
 * @param   array  $ARGS  array of params passed to the function
 */
function blog_read_read_blog ($ARGS)
{
    /* check input data */
    assert('is_array($ARGS);');
    settype($ARGS, 'array');

    /* global variables */
    global $YANA;

    /* do something */
    return true;
}
?&gt;</pre>
<p>First, you should check whether the parameter &quot;blog_id&quot; is set, as this is not always the case. Since the column &quot;blog_id&quot; in table &quot;blog&quot; is of type &quot;integer&quot;, you should also check, if the input value is numeric. Next you should &quot;cast&quot; the type of the input value to an integer value. The following source code demonstrates this.</p>
<pre class="codeexample">&lt;?php
if (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {
    $id = (int) $ARGS['blog_id'];
}
?&gt;</pre>
<p>At this point, you should remember ( <a href="#code_2"> see above</a> ) that you edited the function &quot;create&quot; in the template file and set the parameter &quot;where&quot; to the variable &quot;$WHERE&quot;. Because you have done that, you can now set the variable &quot;$WHERE&quot; in the plug-in to influence this parameter.</p>
<p>To set the value of a template var call the function Yana::setVar. Set the value of this variable to &quot;blog_id=$id&quot;.</p>
<pre class="codeexample">&lt;?php
if (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {
    $id = (int) $ARGS['blog_id'];
    $YANA-&gt;setVar('WHERE', &quot;blog_id=$id&quot;);
}
?&gt;</pre>
<p>Finally, another feature is to be demonstrated. If a RSS feed is present, the framework will automatically create a graphics labeled &quot;RSS&quot; plus a link to the RSS feed of the application. To activate this feature all you need to do is set a variable.  The name of this variable is &quot;RSS_ACTION&quot; and its value should be the name of the operation, which outputs the RSS feed. In this case &quot;blog_rss&quot;.</p>
<p>The following figure shows how this symbol is displayed in a browser.</p>
<p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_17.png"/>
<br/>Figure: Presentation in a browser (Firefox 2.0)</p>
<p>The following extract of the source code, shows the action in context:</p>
<pre class="codeexample">&lt;?php
/**
 * blog_read_read_blog
 * 
 * returns bool(true) on success and bool(false) on error
 * 
 * Type:        read
 * Permission:  0
 * Templates:   BLOG_READ_BLOG
 * 
 * @access  public
 * @return  bool
 * @name    plugin_blog::blog_read_read_blog()
 * @param   array  $ARGS  array of params passed to the function
 */
function blog_read_read_blog ($ARGS)
{
    /* check input data */
    assert('is_array($ARGS);');
    settype($ARGS, 'array');

    /* global variables */
    global $YANA;
    $YANA-&gt;setVar('RSS_ACTION', 'blog_rss');
    if (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {
        $id = (int) $ARGS['blog_id'];
        $YANA-&gt;setVar('WHERE', 'blog_id=' . $id);
    }
    return true;
}
?&gt;</pre>
<p>Compare your results with the source code above.</p>
<p>This step concludes the successful creation of your first own plug-in.</p>
<h5>References</h5>
<div class="box">If you would like a more detailed view on the issues discussed in this section, you will find instructions in the following articles:<ul>
<li> <a href="#cookbook_plugins">Developer's cookbook, chapter &quot;Creating plug-ins&quot;</a></li>
<li> <a href="#cookbook_database">Developer's cookbook, chapter &quot;Working with databases&quot;</a></li>
<li> <a href="api_documentation/yana/io/DbStream.html">API documentation of class &quot;DbStream&quot;</a></li>
<li>Self-PHP, <a target="_blank" href="http://www.selfphp.info">http://www.selfphp.info</a></li>
<li>Official PHP manual, <a target="_top" href="http://www.php.net/download-docs.php">http://www.php.net/download-docs.php</a></li>
</ul>
</div>
<h4>Chapter 6: Summary</h4>
<p>In this Tutorial you learned, how to:</p>
<ul>
<li>Create and edit database structure files</li>
<li>Create a basic plug-in with the software development kit</li>
<li>Edit HTML templates and insert function calls</li>
<li>Edit and extend the interface of a plug-in</li>
<li>Execute database queries and create RSS feeds</li>
</ul>
<p>This ends the tutorial. Further information and code examples can be found in the developer's cookbook and the API documentation of the Yana Framework.</p>
<h5>Source codes</h5>
<div class="box"> <img alt="" src="data/icon-download.png" style="margin: 0px 50px;" align="left"/>
<p>All in this source codes used in this tutorial can also be found in the following package <a href="files/tutorial01.zip">web log plug-in</a>
</p>
</div>
<h3>Put PHP programs on CD-ROM</h3>
<div class="box">
<p>The following Tutorial will demonstrate, how to use Server2Go and the Yana PHP-Framework to put web application on a CD/DVD-ROM and start them from there.</p>
<p>To complete all steps you will need approximately 1/2 hour plus the time you might need for necessary downloads. References to literature can be found at the end of each section.</p>
</div>
<h4>system requirements</h4>
<div class="box">
<ul>
<li>Operating System: Windows 98 SE or later</li>
<li>compatible web browser (e.g. IE 6.0, or Firefox)</li>
<li>CD-ROM drive</li>
</ul>
</div>
<h4>Chapter 1: Download the sources</h4>
<p>Before you start with this tutorial, you should make sure that you have finished some preparations, because otherwise you might get to a point of the tutorial, where you can not continue.</p>
<ul>
<li>You need an installation package for Server2Go. This can be found for free on the Internet at: <a target="_blank" href="http://www.server2go-web.de">http://www.server2go-web.de</a></li>
</ul>
<p>Server2Go is donation-ware and may be used, even for commercial applications, for free. The software is developed and maintained by Timo Haberkern.</p>
<p>Basic knowledge of the structure and functions of PHP and MySQL databases are assumed.</p>
<div class="box">Here are some predefined configuration files for Server2Go. These files are based on version 1.5.0. However there are no guarantees.<ul>
<li> <a href="server2go/server2go_cdrom.zip">Server2Go configuration files for programs on CD-ROM</a> </li>
<li> <a href="server2go/server2go_local.zip">Server2Go configuration files for desktop applications</a> </li>
<li> <a href="server2go/server2go_portable.zip">configuration for Server2Go with Firefox Portable on CD-ROM</a> </li>
</ul>Here are some links to other useful sources of information:<ul>
<li> <a target="_blank" href="http://www.server2go-web.de">Server2Go web site</a>
</li>
<li> <a target="_blank" href="http://portableapps.com/apps/internet/firefox_portable">Firefox
Portable (Englisch)</a> </li>
<li> <a target="_blank" href="http://stadt-bremerhaven.de/2006/09/24/firefox-portabel-machen/">Firefox Portable (German)</a> </li>
</ul>
</div>
<h4>Chapter 2: Preparations for CD-ROM version</h4>
<p>To be able to start a PHP program with the Yana Framework directly from CD-ROM, proceed as follows:</p>
<ol>
<li>
<h5>Basic installation</h5>
<ol>
<li>Unpack Server2Go.</li>
<li>Copy the Yana PHP-Framework in the directory &quot;htdocs/&quot;.</li>
<li>Edit the file &quot;server/config_tpl/php.ini&quot; in a text editor of your choice. Change the value &quot;memory_limit&quot; from &quot;8M&quot; to &quot;16M&quot; or more. Recommended are &quot;128M&quot;, the actual value is, however, dependent on your PHP application. Since only one user at a time will access the CD program, you don't hesitate to use a high value.</li>
<li>Open the configuration file &quot;htdocs/yana/library.php&quot; in a text editor (eg. ConTEXT, or PSPad).</li>
</ol>
<p>Change the file &quot;library.php&quot; as follows: <code>define('YANA_CDROM', true);</code> </p>
</li>
<li>
<h5>Database configuration</h5>
<p>If your program requires a MySQL database, do the following:</p>
<ol>
<li>Edit the file &quot;pms_config.ini&quot; in the Server2Go directory and activate MySQL using &quot;UseMySQL=1&quot;.</li>
<li>Start Server2Go by running the file &quot;Server2Go.exe&quot;.</li>
<li>It will automatically open your browser.  On the front page, in the right menu, click the link to PHPMyAdmin. The URL is: http://127.0.0.1:4001/phpmyadmin/ Click this link, or call the address directly by typing it in your browser.</li>
<li>Install your databases using PHPMyAdmin. Be sure to use the same name for your database, as you have used for your local installation. Otherwise, you need to change the database connection settings of the Yana PHP-Framework accordingly.</li>
<li>If you need to change the database connection for the framework, you will find the connection settings in the file &quot;htdocs/yana/config/&quot;.</li>
<li>Install PEAR DB. Open the <a target="_blank" href="http://pear.php.net/package/DB/download">download page</a> and download the archives for DB and the <a href="http://pear.php.net/package/PEAR/download">PEAR package</a> to your computer. You will need a program to decompress these two TGZ archives. If you have none, for example <a target="_blank" href="http://www.7-zip.org/">7-Zip</a>, a free open source program, will do the job.</li>
<li>The archives are packed 2 times - after you have unpacked the first file, you have to unpacked the second file also. These include some XML files, which you can ignore, and one directory with installation files. Copy the contents of both installation directories to the directory &quot;server/php/pear/ &quot;, so that the files &quot;DB.php&quot; and &quot;PEAR.php&quot; both are placed directly in this directory. This ends the creation of PEAR-DB You can test this by running Server2Go and call the Yana PHP-Framework with the parameter &quot;yana/index.php?action=test&quot;. On the side it should be confirmed in green letters that PEAR-DB is available.</li>
</ol>
</li>
<li>
<h5>Server2Go - Configuration</h5>
<p>After installing your databases, continue with the configuration.</p>
<ol>
<li>To make the task easier, all settings, which you need for your CD-ROM, were preconfigured and the files included in this manual. You only need to unpack the files in the Server2Go installation directory. Replace the old configuration files. <a href="server2go/server2go_cdrom.zip">The ZIP archive can be found here</a>.</li>
<li>Then configure the database settings in the file &quot;pms_config.ini&quot; and the auto-start settings as you need it. You also may want to include your own logo.</li>
</ol>
</li>
</ol>
<p>Then the package can be put on a CD-ROM and used immediately.</p>
<p>In the next chapter, you will learn how Server2Go and Yana PHP-Framework can be used together with the portable edition of the Firefox browser.</p>
<h4>Chapter 3: Use with Firefox Portable</h4>
<p>You have the opportunity to use the Firefox browser with Server2Go on a CD . The following guide explains how to do that.</p>
<div class="box"><b>Caution:</b> Portable Firefox (as far as is currently known) can NOT be used with version 1.5.1 of Server2Go on CD-ROM, but only on a USB drive or hard disk. The problem is to be solved in a future version. In the meantime, it is possible to use an alternative browser. One of several possibilities is to use the supplementary program &quot;Simple browser&quot;, which can be found on the <a target="_blank" href="http://www.server2go-web.de/">Server2Go Website</a>. In return the author expects a small donation to support the further development of the software.</div>
<ol>
<li>
<h5>Install Firefox Portable</h5>
<ol>
<li>First, you will need a current, portable version of the browser. It can be found on the web site <a target="_blank" href="http://portableapps.com/apps/internet/firefox_portable">http://portableapps.com</a>. Download this file from the internet and extract it to the Server2Go installation directory (where &quot;Server2Go.exe&quot; resides).</li>
<li>The browser is in English. However, if you need a German version, it can be converted. To do so, download the German language pack. You can get it on <a href="http://www.firefox-browser.de/sprachpaket.php">www.firefox-browser.de</a>. Copy the file &quot;de.xpi&quot; to your computer.</li>
<li>Start FirefoxPortable by executing the file &quot;FirefoxPortable/FirefoxPortable.exe&quot;. Install the file &quot;de.xpi&quot;, by either dragging it to the firefox window, or by using the menu &quot;File/Open file ...&quot; to open &quot;de.xpi&quot;.</li>
<li>When you are done, restart the browser.</li>
</ol>
</li>
<li>
<h5>Configure Server2Go for Firefox Portable</h5>
<p><b>Note:</b> There is a <a href="server2go/server2go_portable.zip">ZIP archive</a> containing all required configuration files, which you may use alternatively. Unpack the archive and replace the original files. This is it already. You just need put it on a CD-ROM and run your application.</p>
<p>However, if you don't want to use the archive and prefer to complete the steps by hand, then continue with the configuration as follows.</p>
<ol>
<li>Open the file &quot;pms_config.ini&quot;.</li>
<li>Change the value &quot;BrowserTyp &quot; to  EXTERNAL&quot;</li>
<li>Change the value &quot;BrowserPath&quot; to &quot;FirefoxPortable/FirefoxPortable.exe&quot;</li>
<li>Save and close the file.</li>
<li>Create a new file: &quot;Firefox Portable/FirefoxPortable.ini&quot; with the following contents:<pre><code>[FirefoxPortable]
FirefoxDirectory=App\firefox
ProfileDirectory=Data\profile
PluginsDirectory=Data\plugins
SettingsDirectory=Data\settings
FirefoxExecutable=firefox.exe
AdditionalParameters=
LocalHomepage=
DisableSplashScreen=true
DisableIntelligentStart=false
AllowMultipleInstances=true
SkipChromeFix=false
SkipCompregFix=false
WaitForFirefox=true
RunLocally=true</code></pre>Information on the options used here can be found in the file &quot;FirefoxPortable/Other/FirefoxPortableSource/Readme.txt&quot;. This file is delivered with Firefox Portable. You may set the value &quot;AdditionalParameters&quot; to &quot;-contentLocale de-DE -UILocale de-DE&quot; if you want to use the German version (or any other locale: just replace the argument &quot;de-DE&quot;).</li>
</ol>
</li>
</ol>
<p>Subsequently, the package can be put on CD-ROM.</p>
<div class="box"><b>Warning:</b> there is the possibility that Server2Go does not work properly on some machines, because of local firewalls or restricted user rights. It is therefore strongly recommended that you test your CD-ROM at least on one other system. Some operating systems may require administrator privileges to start the CD.</div>
<div class="box"><b>Windows Vista:</b> Support for MS Vista was introduced for Server2Go starting from version 1.5.0. It may occur, that users are asked, whether the application may access the system. Up to version 1.5.0 administrator privileges are necessary to start Server2Go from a CD-ROM.</div>
<div class="box"><b>Windows 98:</b> For computers with Windows 98, which have NO Microsoft Office package installed, a patch must be installed, which the user may get from Microsoft. You will find the page at this URL: http://www.microsoft.com/downloads/details.aspx?FamilyID=6c050fe3-c795-4b7d-b037-185d0506396c<br/> To ensure a  stable operation it is also necessary to downgrade the MySQL database to version 4. It is sufficient to exchange the files of the database application in the directory &quot;server/mysql/&quot;. A suitable installation package can be found at the <a target="_blank" href="http://www.server2go-web.de">Server2Go web site</a>.</div>
<!-- NEXT CHAPTER -->
<h1>Article</h1>
<h2><a name="article_xddl"></a>XML Data Definition Language Format</h2>

<h3>Abstract</h3>
<div class="box">This document defines the <abbr title="XML Data Definition Language Format">XDDL</abbr> file format. This format serves the purpose of a vendor-independent representation of the structure of databases and their presentation within the context of an application. Attachted to this document are <abbr title="Document Type Definitions">DTDs</abbr>, which describe the structure of a valid XDDL file. The document contains a syntactic and semantic description of it's elements. In addition informal recommendation are given, concerning the presentation of elements by a client.</div>

<h3>State of this document</h3>
<p>This section describes the state of the document at the time of it's publication. Later documents may supersede this version. The most current version may be found online at the project website of the Yana Framework.</p>
<div class="box">
<p>This document is not yet a final release and it's contents are subject to changes. We welcome anybody to comment on the current version of this work.</p>
<p>The current version of this document is maintained within in the Subversion repository. A list of changes may be extracted from the repository at any time.</p>
<dl>
    <dt>Working Draft</dt>
    <dd>A state where all elements may be subject to changes at any time.</dd>
    <dt>Call for Comments</dt>
    <dd>The document is locked and any changes (except for misspelled words and grammar) are prohibited. Comments on the current state of the document are being collected. The next state will probably be &quot;Working Draft&quot; (to apply comments) or &quot;Final Call&quot; if there are not comments.</dd>
    <dt>Final Call</dt>
    <dd>The document is locked and any changes (except for misspelled words and grammar) are prohibited. If no comments are filed, the next document will be released without changes.</dd>
    <dt>Released Candidate Recommendation / Unstable</dt>
    <dd>The document is a released version, but comments are taken on the current state of the document as preparation for any later versions.</dd>
    <dt>Released Recommendation / Stable</dt>
    <dd>The document is a released, stable version. It is still actively maintained.</dd>
    <dt>Superseded</dt>
    <dd>The document has been replaced by a later, stable version. It is no longer actively maintained.</dd>
</dl>
<table class="syntax">
<thead>
<tr><th>Version</th><th>State</th><th>Date</th></tr>
</thead>
<tbody>
<tr><td>unversioned</td><td>Working Draft</td><td>2009-07-01 - 2009-08-31</td></tr>
<tr><td>0.5</td><td>Call for Comments</td><td>2009-09-17 - 2009-10-05</td></tr>
<tr style="font-weight: bold;"><td>0.5.1</td><td>Working Draft</td><td>2009-10-06 - current</td></tr>
<tr><td>0.6</td><td>Call for Comments</td><td>next</td></tr>
</tbody>
</table>
<dl>
    <dt>Editors</dt>
    <dd>Thomas Meyer, CC CarConsult GmbH</dd>
    <dt>Last modified</dt>
    <dd>$Date: 2009-10-07 11:41:48 +0200 (Mi, 07 Okt 2009) $</dd>
</dl>
</div>

<h3>Definitions</h3>

<h4>Terminology</h4>
<p>This section defines fixed terms used in this document.</p>
<div class="box">
    <dl>
      <dt>May</dt>
      <dd>An optional definition. Programmers may decide whether or not to comply.</dd>
      <dt>Must</dt>
      <dd>A mandatory requirement. Implementations must comply with these conditions.</dd>
      <dt>Optional</dt>
      <dd>see &quot;May&quot;</dd>
      <dt>Shall</dt>
      <dd>see &quot;Must&quot;</dd>
      <dt>Should</dt>
      <dd>A recommendation. Programmers are encouraged to follow this rule, but they may decide to ignore it.</dd>
      <dt>Supported</dt>
      <dd>A supported feature must be provided by the implementation and behave as specified.</dd>
      <dt>Unspecified</dt>
      <dd>No requirements are specified. The programmer may decide whether or not and how to react if the situation occurs. But the implementation must not depend on a certain behavior of an implementation in an unspecified situation.</dd>
    </dl>
</div>

<h4>Glossary</h4>
<div class="box">
    <dl>
      <dt>DTD</dt>
      <dd>A defintion of the legal structure, elements, and attributes for a valid XML document, that complies with the rules of the DTD.</dd>
      <dt>Element</dt>
      <dd>Part of the document structure defined in the DTD. Each element may have multiple attributes.</dd>
      <dt>Attributes</dt>
      <dd>Part of the document structure defined in the DTD. Basically a key-value-pair.</dd>
      <dt>Document</dt>
      <dd>Refers to a valid XML file, that complies with the rules as defined by the DTD. Each document may have multiple elements.</dd>
      <dt>PCData</dt>
      <dd>Part of the document structure defined in the DTD. It defines that an element may have text content.</dd>
      <dt>Empty</dt>
      <dd>Part of the document structure defined in the DTD. It defines that an element must not have any content.</dd>
    </dl>
</div>

<h4>Miscellaneous</h4>
<div class="box">A reference implementation of this format is given by the Yana Framework. This is a recommendation and not a part of the XDDL definition. This document explains optional elements by the example of this reference implementation. These explanations are informal. Information on the presentation of an element in a client, figures showing ways of presentation and examples of HTML codes are always recommendations and are informal.</div>

<h3>Database</h3>
<div class="box">Database is the root level element of a XDDL document. It may contain several child elements. Those may be categorized using 5 basic groups: <a href="#article_xddl_tables">Tables</a>, <a href="#article_xddl_views">Views</a>, <a href="#article_xddl_forms">Forms</a>, <a href="#article_xddl_functions">Functions</a> and <a href="#article_xddl_changelogs">Change-logs</a>. The database element defines basic properties of the database itself, as well as information for the client and applications that may connect with the database.</div>

<h4><a name="article_xddl_database"></a>Element Database</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_database">ELEMENT database</a> (<a href="#article_xddl_description">description?</a>, (<a href="#article_xddl_include">include</a> | <a href="#article_xddl_table">table</a> | <a href="#article_xddl_view">view</a> | <a href="#article_xddl_form">form</a> | <a href="#article_xddl_function">function</a> |
                     <a href="#article_xddl_sequence">sequence</a> | <a href="#article_xddl_initialization">initialization</a>)*, <a href="#article_xddl_changelog">changelog</a>?)
  ATTRIBUTE
       name        string
       title       string
       charset     string
       datasource  string
       readonly    bool
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>An unique name that identifies this database. Defaults to the filename. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The title is a label text that should be displayed in the UI when viewing this object.<br/> Note that this may also be a language token, which is to be translated to the selected language.</td>
    </tr>

    <tr>
      <td>charset</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The preferred charset to use when creating database objects and communicating with the database. The charset may only be set upon creation of the database. If you decide to use an existing database, please note, that the charset, which is actually used, might be another.</td>
    </tr>

    <tr>
      <td>datasource</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The interpretation of the data source attribute depends on the implementation. For the Yana Framework it is a named data source. You may set up named database connections via the administration panel.</td>
    </tr>

    <tr>
      <td>readonly</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>You may set the database to be read-only to prevent any changes to it. Use this if you wish to create a database viewer, or CD-ROM application.</td>
    </tr>

  </table>
  <h5>Description</h5>
  <p>A root element that specifies important properties and/or requirements. These may be used if the database is created via script, or if by a database client, opens a connection.</p>
  <h5>Implementation</h5>
  <p>The charset is to be set during creation of the database. Typical charsets are: utf-8, ascii, iso-8859-1. Note that some DBMS have different writings of the same charset, or may support charsets that other DBMS won't. The implementation must provide a list of valid charsets and automatically convert them to the correct writing for the target DBMS. The implementation must provide a list of valid charsets and automatically convert them to the correct writing for the target DBMS.<br/> The data source in general it is an identifier for a particular set of connection parameters to a specific database. his may either be a JNDI data source for Java, an ODBC data source for C#, or any other named data source for any other language.</p>
  <h5>Presentation</h5>
  <p>When displaying an user interface (UI) for a database, the implementation may choose to display the database title attribute as a header.</p>
</div>

<h4><a name="article_xddl_description"></a>Element Description</h4>
<div class="box">
  <div class="codeexample"><pre>
  ELEMENT description (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>The description serves two purposes: 1st is offline documentation 2nd is online documentation.<br/> A description is always optional. Note that this may also be a language token, which is to be translated to the selected language.</p>
  <h5>Presentation</h5>
  <p>The form generator may use the description to provide context-sensitive help or additional information (depending on it's implementation) on a automatically generated database application.</p>
</div>

<h4><a name="article_xddl_include"></a>Element Include</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_include">ELEMENT include</a> (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>Database definitions may be split in several files and recursively included. E.g. this may be necessary if you wish to create a reference to another table, which was defined elsewhere.</p>

  <p>The list of includes may contain either filenames, or identifiers, which can be converted to filenames by the application.<br/> Note that you should only include database definitions that use the same data source.</p>
  <h5>Implementation</h5>
  <p>The child nodes of the database tags of the included files should be included in order of appearance to the database node of the source file. The database nodes themselves are to be ignored. If the included file includes further files, then these should be handled recursively. If a file is listed multiple times, the file must be included only once. If a file recursively includes another, which has already been loaded, the file must be skipped and not be loaded twice. Included files are not allowed to redefine already existing objects. For example, an included file may not overwrite a table definition in the source file. If an already existing element is found, an error must be thrown.</p>
</div>

<h4><a name="article_xddl_sequence"></a>Element Sequence</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_sequence">ELEMENT sequence</a> (<a href="#article_xddl_description">description?</a>)
  ATTRIBUTE
       name        string
       start       integer
       increment   string
       min         integer
       max         integer
       cycle       bool
    </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this sequence. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>

      <tr>
        <td>start</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>A sequence always starts with an initial value. The value defaults to the minimal value for ascending sequences and to the maximal value for descending sequences. <br/> Note: the start value must lay within range of the minimal and maximal sequence number.</td>
      </tr>

      <tr>
        <td>increment</td>
        <td>string</td>
        <td>-</td>
        <td>1</td>
        <td>An increment value (or step width) specifies the number that is added to the sequence when calculating the successor of it's current value.</td>
      </tr>

      <tr>
        <td>min</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The minimal value is a lower boundary for a sequence. All sequence values must be larger or equal the minimal value. The minimal value may not be larger than the maximal value. The default is 1 for ascending and PHP_INT_MIN for descending sequences.</td>
      </tr>

      <tr>
        <td>max</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum value is an upper boundary for a sequence. All sequence values must be smaller or equal the maximum value. The maximum value may not be smaller or equal the minimum value. The default is PHP_INT_MAX for ascending and -1 for descending sequences.</td>
      </tr>

      <tr>
        <td>cycle</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>If a sequence is a number cycle and the value of the sequence reaches an upper- or lower boundary, it will be reset to the minimum value for an ascending sequence or the maximum value for a descending sequence.</td>
      </tr>

    </table>
    <h5>Description</h5>
    <p>Sequences are integer values, combined with a successor function. They serve various purposes. Usually they are used to auto-generate unique id's.<br/> Note that there are implicit and explicit sequences. For example,  an implicit sequence is created when you create an auto-increment column. You must not specify implicit sequences, as these are created and maintained by the DBMS itself.<br/> Also note that some DBMS interpret the integer 0 to be equal to NULL. Thus you are encouraged NOT to create sequences that may contain the value 0 at any time. In addition, some applications may reserve index 0 for default values (e.g. as in data-warehousing).</p>
    <h5>Implementation</h5>
    <p>While sequences are part of the SQL-2003 standard, they are not widely supported by most vendors. Except for PostgreSQL, where they are well known feature. They may be simulated for other DBMS though.</p>
  </div>

<h4><a name="article_xddl_initialization"></a>Element Initialization</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_initialization">ELEMENT initialization</a> (#PCDATA)
  ATTRIBUTE
       dbms        string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>dbms</td>
        <td>string</td>
        <td>-</td>
        <td>generic</td>
        <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Initializing SQL statements, which are carried out right after the database structure has been published on a database. The syntax may either be portable or DBMS-specific.</p>
  <h5>Implementation</h5>
  <p>The following values are suggested for the DBMS-attribute: 'generic', 'db2', 'dbase', 'frontbase', 'informix', 'interbase', 'msaccess', 'mssql', 'mysql', 'oracle', 'postgresql', 'sybase', 'sqlite'.</p>
</div>

<h3><a name="article_xddl_tables"></a>Tables</h3>
<div class="box">This section defines the syntax of all elements required to declare the structure of tables and related objects within a database. This includes columns, constraints, triggers and indexes.</div>

<h4><a name="article_xddl_table"></a>Element Table</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_table">ELEMENT table</a> (<a href="#article_xddl_description">description?</a>, (<a href="#article_xddl_grant">grant</a>* | <a href="#article_xddl_primarykey">primarykey</a> | <a href="#article_xddl_foreign">foreign</a>* | <a href="#article_xddl_trigger">trigger</a>* |
                 <a href="#article_xddl_constraint">constraint</a>* | <a href="#article_xddl_declaration">declaration</a> | <a href="#article_xddl_index">index</a>)*)
  ATTRIBUTE
       name        string
       title       string
       readonly    bool
       inherits    string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>An unique name that identifies this table. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The title is a label text that should be displayed in the UI when viewing this object.<br/> Note that this may also be a language token, which is to be translated to the selected language.</td>
    </tr>

    <tr>
      <td>readonly</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>You may set the table to be read-only to prevent any changes to it.</td>
    </tr>

    <tr>
      <td>inherits</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Name of the parent table.</td>
    </tr>
  </table>
  <h5>Description</h5>
  <p>A table is a set of column definition plus properties, which all columns of the table have in common like: triggers and indexes.</p>
  <h5>Implementation of inheritance</h5>
  <p>Table-Inheritance means the following: a source table FooBar extends the structure and data of a target table Bar with Foo elements. All rows in FooBar have any columns defined in Bar + all columns of FooBar. Bar remains unchanged for that. If the structure of Bar changes, the structure of FooBar changes as well. Each element of FooBar may also be interpreted as an element of Bar, but not vice versa.<br/> Technically spoken: the primary key of the source table is a foreign key that points to the primary key of the source table.<br/> This is unlike PostgreSQL where you may define multiple-inheritance with n parent tables - with all consequences and issues linked to such behavior.</p>
</div>

<h4><a name="article_xddl_grant"></a>Element Grant</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_grant">ELEMENT grant</a> EMPTY
  ATTRIBUTE
       role        string
       user        string
       level       integer
       select      bool
       insert      bool
       update      bool
       delete      bool
       grant       bool
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>role</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>The role a user plays inside a user group.</td>
      </tr>
      <tr>
        <td>user</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>The group a user belongs to.</td>
      </tr>
      <tr>
        <td>level</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The security level may be any integer number of 0 through 100. You may translate this to 0-100 percent, where 0 is the lowest level of access and 100 is the highest.</td>
      </tr>
      <tr>
        <td>select</td>
        <td>bool</td>
        <td>-</td>
        <td>yes</td>
        <td>Tells whether the user is granted to issue a select-statement on the database object.</td>
      </tr>
      <tr>
        <td>insert</td>
        <td>bool</td>
        <td>-</td>
        <td>yes</td>
        <td>Tells whether the user is granted to issue an insert-statement on the database object.</td>
      </tr>
      <tr>
        <td>update</td>
        <td>bool</td>
        <td>-</td>
        <td>yes</td>
        <td>Tells whether the user is granted to issue an update-statement on the database object.</td>
      </tr>
      <tr>
        <td>delete</td>
        <td>bool</td>
        <td>-</td>
        <td>yes</td>
        <td>Tells whether the user is granted to issue a delete-statement on the database object.</td>
      </tr>
      <tr>
        <td>grant</td>
        <td>bool</td>
        <td>-</td>
        <td>yes</td>
        <td>Tells whether the user may temporarily grant his security permissions to other users.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>The rights management provides 3 layers, each of which is optional in this document. An implementation must however implement at least one of these options.</p>
    <dl>
     <dt>User groups</dt><dd>like Sales, Human Resources</dd>
     <dt>User roles</dt><dd>like Project Manager</dd>
     <dt>Security level</dt><dd>an integer of 0 through 100</dd>
    </dl>
    <p>In analogy to databases, there is also a grant option, which allows users to temporarily grant any right they own in person, to any other user. So a manager may grant (and later revoke) all his rights to an assistant while he is on vacation.</p>
  <h5>Beispiele</h5>
    <p>You may decide that every manager of Human Resources, who has at least a security level of 50 may create a new employee and view salaries, but that it requires a manager of HR with security level 80 to update them.</p>
    <p>You may even skip any of the levels to perhaps allow anybody to view a catalog form, who has at least a security level of 1, or grant access for any member of the sales department to sales data.</p>
    <p>You may precisely choose what each member may or may not do: select (view), insert (create), update (edit), delete.</p>
    <p>Note that you may have multiple grant elements to define several alternatives. For example,  users may either be a member of group sales OR a have the role of a company manager to view and edit sales information.</p>
  <h5>Implementation</h5>
    <p>If no grant element is present, the element is supposed to be public. This means, no security checking is done. If at least 1 grant element exists, no user is allowed to carry out any operation unless there is an explicit grant that allows him to do so.</p>
    <p>The Yana Framework implements a profile system on top of all that as well. Application profiles may define different subsidiaries inside your company. For example,  Europe or Asia. If implementations should support the management of multiple independent instances on the same installation, it is recommended to implement comparable systematics.</p>
</div>

<h4><a name="article_xddl_primarykey"></a>Element Primarykey</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_primarykey">ELEMENT primarykey</a> (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>The primary key is the name of a single column inside the table that has unique values and will be used to identify each row within the table.</p>
  <h5>Implementation</h5>
  <p>The software must check if the specified column exists. If it doesn't, it must throw an error.<br/> Each table must have exactly 1 primary key. Compound primary keys are not supported.</p>
</div>

<h4><a name="article_xddl_declaration"></a>Element Declaration</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_declaration">ELEMENT declaration</a> (<a href="#article_xddl_array">array</a> | <a href="#article_xddl_bool">bool</a> | <a href="#article_xddl_color">color</a> | <a href="#article_xddl_date">date</a> | <a href="#article_xddl_enum">enum</a> | <a href="#article_xddl_file">file</a> | <a href="#article_xddl_float">float</a> |
                       <a href="#article_xddl_html">html</a> |<a href="#article_xddl_image">image</a> | <a href="#article_xddl_inet">inet</a> | <a href="#article_xddl_integer">integer</a> | <a href="#article_xddl_list">list</a> | <a href="#article_xddl_mail">mail</a> |
                       <a href="#article_xddl_password">password</a> | <a href="#article_xddl_range">range</a> | <a href="#article_xddl_reference">reference</a> | <a href="#article_xddl_set">set</a> | <a href="#article_xddl_string">string</a> | <a href="#article_xddl_text">text</a> |
                       <a href="#article_xddl_time">time</a> | <a href="#article_xddl_timestamp">timestamp</a> |<a href="#article_xddl_url">url</a>)*
  </pre></div>

  <h5>Description</h5>
  <p>The declaration element is a simple container that may contain a number of column definitions.</p>
</div>

<h4><a name="article_xddl_trigger"></a>Element Trigger</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_trigger">ELEMENT trigger</a> (#PCDATA)
  ATTRIBUTE
       name        string
       dbms        string
       on          string
       insert      bool
       update      bool
       delete      bool
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>An unique name that identifies this trigger. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>dbms</td>
        <td>string</td>
        <td>-</td>
        <td>generic</td>
        <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
      </tr>
      <tr>
        <td>on</td>
        <td>string</td>
        <td>-</td>
        <td>before</td>
        <td>
          <dl>
            <dt>before</dt><dd>fires BEFORE the statement is carried out.</dd>
            <dt>after</dt><dd>fires AFTER the statement or transaction has been successfully carried out. It is not fired if the statement results in an error.</dd>
            <dt>instead</dt><dd>fires INSTEAD of the statement. The statement is not executed. This option is not supported by all DBMS. However: if it is not, you may emulate this (with some limitations) by using PHP code.</dd>
          </dl>
        </td>
      </tr>
      <tr>
        <td>insert</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>fire on insert statements</td>
      </tr>
      <tr>
        <td>update</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>fire on update statements</td>
      </tr>
      <tr>
        <td>delete</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>fire on delete statements</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Triggers are a database feature that allows to execute code on certain database events. They fire on insert, update, or delete statements, or a combination of those. Triggers are fired either before, after or instead of a statement. When triggered, the given code is executed by the database.</p>
  <p>The implementation however depends heavily on the chosen DBMS. Not all DBMS support all features. For example: not all DBMS support a trigger to be executed &quot;instead&quot; of a statement, thus replacing it.</p>
  <p>Note that a trigger implies a user defined function. Some DBMS require thus that the function is explicitly created and only the name of the function must be specified for the trigger. Other DBMS allow that you specify the function body along with the trigger.</p>

  <h5>Implementation</h5>
  <p>If a trigger uses a functionality which is not supported by the chosen DBMS, the DBMS will throw an error when trying to create the trigger. The implementation itself does not need to check that.</p>
  <p>Triggers, that use the DBMS-type &quot;generic&quot;, must be emulated. In that case the XDDL-compliant software must execute the code instead of the database. The implementation itself may define the required syntax of the code. In such case it is recommended, that the attribute code for such a trigger is limited to be a valid callback (function- or method names). The Yana Framework requires the code attribute of emulated triggers to be a valid callback of a user-defined PHP-function. See the manual of the database API for more details on that topic.</p>
</div>

<h4><a name="article_xddl_constraint"></a>Element Constraint</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_constraint">ELEMENT constraint</a> (#PCDATA)
  ATTRIBUTE
       name        string
       dbms        string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>An unique name that identifies this constraint. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>dbms</td>
        <td>string</td>
        <td>-</td>
        <td>generic</td>
        <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>A constraint is a boolean expression that must evaluate to true at all times for the row to be valid. The database should ensure that. For databases that don't have that feature, the DBMS-type &quot;generic&quot; may be used to simulate this.</p>
  <h5>Implementation</h5>
  <p>If a constraint uses the DBMS-type &quot;generic&quot;, and the XDDL-implementation can't ensure, that the database supports that feature, it must validate the constraint instead of the database.  The implementation itself may define the required syntax of the code. On simulation column-level constraints may be validated equivalent to table-level constraints. The Yana Framework uses PHP as language for the definition of generic constraints. It provides an associative array $ROW, that contains copies of the values of the current row. The keys of this array are the lowercased column names.</p>
</div>

<h4><a name="article_xddl_bool"></a>Element Bool</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_constraint">ELEMENT bool</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>no</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Bool may have two values: true and false.</p>
  <h5>Implementation</h5>
  <p>Boolean values are not supported by all DBMS but may be easily simulated using integer types.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_boolean.png" alt="Checkbox"/></p>
  <p>Input fields of type boolean are presented as checkboxes on edit. When viewing the column, a graphic indicates the state of the field.</p>
  <p>HTML:</p>
  <pre class="codeexample">&lt;input type=&quot;checkbox&quot; value=&quot;true&quot; name=&quot;{name}&quot;/&gt;</pre>
  <pre class="codeexample">undefined &lt;input type=&quot;radio&quot; value=&quot;*&quot; name=&quot;{name}&quot;/&gt;
null &lt;input type=&quot;radio&quot; value=&quot;true&quot; name=&quot;{name}&quot;/&gt;
false &lt;input type=&quot;radio&quot; value=&quot;false&quot; name=&quot;{name}&quot;/&gt;</pre>
  <pre class="codeexample">&lt;select name=&quot;{name}&quot;&gt;
&lt;option value=&quot;*&quot;&gt;null&lt;/option&gt;
&lt;option value=&quot;true&quot;&gt;true&lt;/option&gt;
&lt;option value=&quot;false&quot;&gt;false&lt;/option&gt;
&lt;/select&gt;</pre>
</div>

<h4><a name="article_xddl_default"></a>Element Default</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_default">ELEMENT default</a> (#PCDATA)
  ATTRIBUTE
       dbms            string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>dbms</td>
        <td>string</td>
        <td>-</td>
        <td>generic</td>
        <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>In newly inserted rows, columns are set to the default value automatically, if no other input is provided.</p>
  <h5>Implementation</h5>
  <p>The type of the value depends on the type of column. The physical default value also depends on the DBMS.<br/> A good example is data type Boolean, which is natively supported by PostgreSQL and thus the physical default value would be true or false. For MySQL it is stored as TinyInt with the default values 1 or 0.<br/> However the DBMS-independent (generic) default values would be true or false. The implementation must convert these values automatically.</p>
</div>

<h4><a name="article_xddl_color"></a>Element Color</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_color">ELEMENT color</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>no</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type &quot;color&quot; contain a hexadecimal color value with a preceding '#'-character. Example: #F0F0F0.</p>
  <h5>Implementation</h5>
  <p>These columns may be implemented as text with a length of 7 characters.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_color.png" alt="colorpicker"/></p>
  <p>The element should be displayed as input control. An additional input support element may be implemented to aid users.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;color&quot; {required=&quot;notnull&quot;} value=&quot;{default}&quot; name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_integer"></a>Element Integer</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_integer">ELEMENT integer</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       autoincrement   bool
       unsigned        bool
       fixed           bool
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>autoincrement</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>Auto-increment is a MySQL-feature, that may be emulated on other DBMS. It can however only be used on columns of type integer. You should note, that the user input takes precedence over the auto-increment feature, which defines a default value.</td>
      </tr>
      <tr>
        <td>unsigned</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An &quot;unsigned&quot; number must always be a positive value. This means, any value less 0 is invalid. An implementation must throw an error, if a negative value is given for an unsigned column. (Note that MySQL automatically and silently replaces an negative value by 0.)</td>
      </tr>
      <tr>
        <td>fixed</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>This sets the zerofill-flag for MySQL. For fixed length numbers, the value must be expanded to the defined maximum number of digits, by adding leading zeros. If the attribute length is not set, the attribute fixed must be ignored.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of digits.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>no</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Integer may contain any whole number, which can be displayed by the database and programming language.</p>
  <h5>Implementation</h5>
  <p>The upper and lower boundaries for integer values depend on the type of system. In general: on 32-bit systems the displayable numbers are in the range [-2^31, +2^31]. For 64-bit systems numbers may be bigger [-2^63, +2^63]. But only if all your software supports 64-bit integer values.</p>
  <p>Note! 64-bit and 32-bit applications may be incompatible. Especially when using a 64-bit database server with a 32-bit application or vice versa. Be warned that a number overflow or underflow may occur when converting a large 64-bit to a small 32-bit number. Note that this applies to dates and times as well!</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_string.png" alt="Input"/></p>
  <p>Strings and numbers are displayed as input fields when edited. If the column is editable, the content is displayed as text.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;number&quot; step=&quot;1&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_float"></a>Element Float</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_float">ELEMENT float</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       unsigned        bool
       length          integer
       precision       integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>unsigned</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An &quot;unsigned&quot; number must always be a positive value. This means, any value less 0 is invalid. An implementation must throw an error, if a negative value is given for an unsigned column. (Note that MySQL automatically and silently replaces an negative value by 0.)</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of digits.</td>
      </tr>
      <tr>
        <td>precision</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>Defines the length of the decimal fraction. When present, the attribute length must be set as well. The maximum number of full digits is: length - precision. Be aware, the precision may not be larger than the length of the number.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>no</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Float may contain any number, which can be displayed by the database and programming language. These may either be whole, or floating point, or fixed point numbers.</p>
  <h5>Implementation</h5>
  <p>These may either be whole, or floating point, or fixed point numbers. Note that, for floating point values, &quot;maximum&quot; means the maximum number of digits including fraction. Thus you will loose precision for very large and very small numbers. For fixed point numbers the maximum and minimum numbers are reduced by the number of digits reserved for displaying the fraction.</p>
  <p>Note! 64-bit and 32-bit applications may be incompatible. Especially when using a 64-bit database server with a 32-bit application or vice versa. Be warned that a number overflow or underflow may occur when converting a large 64-bit to a small 32-bit number. Note that this applies to dates and times as well!</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_string.png" alt="Input"/></p>
  <p>Strings and numbers are displayed as input fields when edited. If the column is editable, the content is displayed as text.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;number&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_range"></a>Element Range</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_range">ELEMENT range</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       min             float
       max             float
       step            float
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>min</td>
        <td>float</td>
        <td>yes</td>
        <td>-</td>
        <td>Smallest valid value.</td>
      </tr>
      <tr>
        <td>max</td>
        <td>float</td>
        <td>yes</td>
        <td>-</td>
        <td>Largest valid value.</td>
      </tr>
      <tr>
        <td>step</td>
        <td>float</td>
        <td>-</td>
        <td>1.0</td>
        <td>Minimal step width.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Range may contain any number, which can be displayed by the database and programming language. These may either be whole, or floating point, or fixed point numbers.</p>
  <h5>Implementation</h5>
  <p>This type must be treated in the same way as columns of type Float. The attributes &quot;min&quot; and &quot;max&quot; implicitly define one or several constraints. The column's value may not be less than &quot;min&quot; and may not be greater than &quot;max&quot;. The attribute &quot;max&quot; may not be less than &quot;min&quot;. The column must allow at least 2 valid values. This means: &quot;min&quot; + &quot;step&quot; must be less or equal &quot;max&quot;. The value &quot;max&quot; - &quot;min&quot; should be a multiple of the value &quot;step&quot;. The value &quot;step&quot; may not be negative.</p>
  <h5>Presentation</h5>
  <p>Numbers of this type should be displayed as horizontal slide control (&quot;imprecise number-input control&quot;). The client may choose the exact presentation itself.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;range&quot; {required=&quot;notnull&quot;} min=&quot;{min}&quot; max=&quot;{max}&quot; step=&quot;{step}&quot; name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_string"></a>Element String</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_string">ELEMENT string</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of characters.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type String contain a single line of text.</p>
  <h5>Implementation</h5>
  <p>Note that string values must not contain line breaks. These are the characters \f, \r and \n. For security reasons values must not contain the character \#0.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_string.png" alt="Input"/></p>
  <p>Strings and numbers are displayed as input fields when edited. If the column is editable, the content is displayed as text.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;text&quot; maxlength=&quot;{length}&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_mail"></a>Element Mail</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_mail">ELEMENT mail</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of characters.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Mail may contain any valid e-mail address.</p>
  <h5>Implementation</h5>
  <p>Mails are implemented as string values. The syntax of e-mail addresses is specified in<a href="http://www.ietf.org/rfc/rfc0822.txt">RFC 822</a>. For PHP implementations it is recommended to use the following code for validation: filter_var($email, FILTER_VALIDATE_EMAIL) === true. Other implementations may use the following regular expression: [\w\d-_\.]{1,}\@[\w\d-_\.]{2,}\.[\w\d-_\.]{2,}.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_mail2.png" alt="HTML-Code"/></p>
  <p>On edit the column is presented as input field. This is equal to the presentation of strings.</p>
  <p>Values of type &quot;mail&quot; should automatically be encoded when shown in a browser, to make data theft more difficult. This applies to all displayed e-mail addresses. The Yana Framework utilizes a filter within the presentation layer to solve this issue. A manual intervention is not necessary.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;email&quot; maxlength=&quot;{length}&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_url"></a>Element Url</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_url">ELEMENT url</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of characters.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type URL are equivalent to type String, except that  every input is checked to be a syntactically correct URL.</p>
  <h5>Implementation</h5>
  <p>URLs are implemented as string values. The syntax of URIs is specified in <a href="http://tools.ietf.org/html/rfc3986">RFC 3986</a>. For PHP implementations it is recommended to use the following code for validation: filter_var($url, FILTER_VALIDATE_URL) === true.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_url.png" alt="Input"/></p>
  <p>Strings and numbers are displayed as input fields when edited. If the column is editable, the content is displayed as text.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;url&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_password"></a>Element Password</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_password">ELEMENT password</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>A column of type Password is used to store encrypted password information.</p>
  <h5>Implementation</h5>
  <p>Passwords are hash strings. The values must be calculated from the input using a , like MD5. Passwords must not be stored as clear text.</p>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_password.png" alt="Password"/></p>
  <p>Passwords are not shown as text, but as an input element of type &quot;password&quot;.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;password&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_inet"></a>Element Inet</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_inet">ELEMENT inet</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Inet offer the possibility to automatically store the IP address of the visitor.</p>
  <h5>Implementation</h5>
  <p>Inet columns are implemented as string values. The datatype must support IPv4 and IPv6. The syntax of IPv6 is specified in <a href="http://tools.ietf.org/html/rfc2460">RFC 2460</a>.</p>
  <p>For PHP implementations it is recommended to use the following code for validation: filter_var($inet, FILTER_VALIDATE_IP) === true. Other implementations may use the following regular expressions:</p>
  <dl>
     <dt>IPv4:</dt><dd>\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}</dd>
     <dt>IPv6:</dt><dd>[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}</dd>
  </dl>
  <h5>Presentation</h5>
  <p> <img src="data/abb_type_inet.png" alt="Input"/></p>
  <p>As a rule, columns of this type should not be editable. If they are, they use an input box for editing.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;text&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_text"></a>Element Text</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_text">ELEMENT text</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of characters.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Text may contain multiple lines of text. They are unbounded in length.</p>
  <h5>Implementation</h5>
  <p>Note that the length may be limited for technical reasons. The physical data type depends on the chosen DBMS. Also the DBMS may disallow you to create an index on a text column, or might create a special full text index with specific properties.</p>
  <p>For security reasons values must not contain the character \#0.</p>
  <p>Any HTML special characters must be masked. Additionally the implementation may define input and output filters. E.g. these may be used to add emot-icons and/or prevent spam and flooding.</p>
  <p>For example, the Yana Framework implements several filters to prevent obvious vandalism.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_text.png" alt="Textarea"/></p>
  <p>Multi-line texts use textarea fields for editing. If the column is not editable, it's contents are shown as text. If a text is too long, scrollbars are shown (CSS: &quot;overflow: auto&quot;).</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;textarea maxlength=&quot;{length}&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_html"></a>Element Html</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_html">ELEMENT html</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       length          integer
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum number of characters.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type HTML may contain multiple lines of hypertext in XHTML format.</p>
  <h5>Implementation</h5>
  <p>You should keep in mind that hypertext may contain tags and entities. Determining the true length of such a text may be tricky.</p>
  <p>No files (like images) may be attached to or embedded in a HTML value of the column. But the column may contain a tag that refers to a file stored elsewhere.</p>
  <p>For security reasons values must not contain the character \#0.</p>
  <p>Additionally the implementation may define input and output filters. E.g. to prevent XSS-attacks and vandalism.</p>
  <h5>Presentation</h5>
  <p>To edit HTML columns, the implementation may present an inline HTML editor. The properties and behavior of this editor are not specified. For output, HTML columns must be shown as interpreted hypertext according to the XHTML 1.0 standard or a successor of this standard (e.g. HTML 5).</p>
</div>

<h4><a name="article_xddl_date"></a>Element Date</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_date">ELEMENT date</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Date are used to store a date without time or timezone.</p>
  <h5>Implementation</h5>
  <p>The physical data type depends on the chosen DBMS. For DBMS which do not support such a type, it may be simulated using an integer.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_date.png" alt="Select"/></p>
  <p>When editing select boxes may be shown to ease the input.</p>
  <p>Values are presented as text. The presentation may depend on the chosen language.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;date&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_time"></a>Element Time</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_time">ELEMENT time</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Time are used to store dates with time and timezone.</p>
  <h5>Implementation</h5>
  <p>The physical data type depends on the chosen DBMS. For DBMS which do not support such a type, it may be simulated using an integer.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_time.png" alt="Select"/></p>
  <p>When editing select boxes may be shown to ease the input.</p>
  <p>Values are presented as text. The presentation may depend on the chosen language and timezone.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;datetime&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_timestamp"></a>Element Timestamp</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_timestamp">ELEMENT timestamp</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Timestamp are used to store dates with time in <abbr title="Universal Time Coordinated">UTC</abbr>.</p>
  <p>This type is identical to Time, except for the technical implementation.</p>
  <h5>Implementation</h5>
  <p>The physical data type depends on the chosen DBMS. Usually it is stored and returned as an integer.</p>
  <p>Note that there may be issues with negative timestamps on some OS, like older Win32 systems.</p>
  <p>Be warned not to mix the value 0 (1.1.1970) with NULL (undefined).</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_time.png" alt="Select"/></p>
  <p>When editing select boxes may be shown to ease the input.</p>
  <p>Values are presented as text. The presentation may depend on the chosen language and timezone.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;input type=&quot;datetime-local&quot; {required=&quot;notnull&quot;} name=&quot;{name}&quot;/&gt;</pre>
</div>

<h4><a name="article_xddl_enum"></a>Element Enum</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_enum">ELEMENT enum</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*, <a href="#article_xddl_option">option</a>+)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>The data type Enum is an enumeration type. The list of valid values can be defined using option elements.</p>
  <p>Note that the default value (if provided) must be a valid enumeration option.</p>
  <h5>Implementation</h5>
  <p>Enumerations are stored as strings. The value is equivalent to the value of the chosen option.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_enum.png" alt="Select"/></p>
  <p>When editing such column, a select box is shown. Alternatively radio buttons may be used. The elements equal to the option elements of the tag.</p>
  <p>HTML5:</p>
  <pre class="codeexample">&lt;select name=&quot;{name}&quot;&gt;
&lt;option value=&quot;&quot;&gt;null&lt;/option&gt;
&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
...
&lt;option value=&quot;n&quot;&gt;n&lt;/option&gt;
&lt;/select&gt;</pre>
</div>

<h4><a name="article_xddl_option"></a>Element Option</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_option">ELEMENT option</a> (#PCDATA)
  ATTRIBUTE
       value        string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>value</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>Text or integer value of this option</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>An option represents one valid element of an enumeration. It has a textual description (pcdata) and a value. Only the value of the target column is stored in the database. The description (pcdata) is only shown in UI (instead of the value).</p>
  <p>The description represents the option as a human readable text. Note that this may also be a language token, which is to be translated to the selected language.</p>
  <p>If an invalid or undefined enumeration item is found in the database, the UI must show the stored value without conversion. The implementation may additionally throw an error message.</p>
</div>


<h4><a name="article_xddl_set"></a>Element Set</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_enum">ELEMENT set</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*, <a href="#article_xddl_option">option</a>+)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>The data type Set is equivalent to the type Enum, but permits the selection of multiple values.</p>
  <p>Note that the default value (if provided) must be a valid enumeration option.</p>
  <h5>Implementation</h5>
  <p>The physical data type depends on the chosen DBMS. Some DBMS have native support. Where available, the native type should be used. Otherwise the data may be stored as a comma-separated string. The values are equivalent to the values of the chosen options.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_set.png" alt="Checkbox"/></p>
  <p>When editing such column, a list of check boxes is presented. Alternatively a select box may be used, that allows the selection of multiple options. In both cases the values and labels equal the option elements of the tag.</p>

  <p>HTML5:</p>
  <pre class="codeexample">
&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;{name}[]&quot; value=&quot;1&quot;&gt; 1 &lt;/label&gt;
&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;{name}[]&quot; value=&quot;2&quot;&gt; 2 &lt;/label&gt;
...
&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;{name}[]&quot; value=&quot;n&quot;&gt; n &lt;/label&gt;</pre>
  <pre class="codeexample">&lt;select multiple=&quot;multiple&quot; name=&quot;{name}&quot;&gt;
&lt;option value=&quot;&quot;&gt;null&lt;/option&gt;
&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
...
&lt;option value=&quot;n&quot;&gt;n&lt;/option&gt;
&lt;/select&gt;</pre>
</div>

<h4><a name="article_xddl_list"></a>Element List</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_list">ELEMENT list</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>A column of type List is a numeric array of strings.</p>
  <h5>Implementation</h5>
  <p>PostgreSQL has native support for arrays. For other DBMS this feature must be simulated. It may be implemented by storing the values as a serialized or comma-seperated string. The string should be deserialized when loaded and returned as an array.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_list.png" alt="Select"/></p>
  <p>On edit lists are presented as lists of input fields. Additionally a control element is shown to remove or add new entries.</p>
  <p>If the element is not editable, then the elements are enumerated as a list.</p>
  <p>The displayed list items <b>may</b> be numerated.</p>
</div>

<h4><a name="article_xddl_array"></a>Element Array</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_array">ELEMENT array</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>A column of type Array is a (possibly multidimensional) array of strings.</p>
  <h5>Implementation</h5>
  <p>For most DBMS this feature must be simulated. It may be implemented by storing the values as a serialized or comma-separated string. The string should be deserialized when loaded and returned as an array. In that case it is recommended to encode the string using JSON.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_array.png" alt="Array"/></p>
  <p>On edit arrays are presented as key-value pairs. Additionally a control element is shown to remove or add new entries.</p>
  <p>If the element is not editable, then the elements are enumerated as a multidimensional list. Keys and values are optically separated from each other. The presentation <b>may</b> be implementation as a foldable tree menu.</p>
</div>

<h4><a name="article_xddl_file"></a>Element File</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_file">ELEMENT file</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       maxsize         integer
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>maxsize</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum size of the file in bytes.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>The data type &quot;file&quot; is used to save files  (&quot;binary large objects&quot;).</p>
  <h5>Implementation</h5>
  <p>The files should remain in the file system for better performance. In order to save disk space, a compression (like GZip) may be used. This compression also ensures that files stores on the server are not executable and a potential attacker can't misuse such upload fields to store malicious code on the server.</p>
  <p>For security reasons the file should be stored in a place, where it is not directly accessible for a client. When you download the file should be unpacked automatically, so the user no disadvantages from the experiences compression and decompression not installed. To provide a smaller download size, the file may automatically be send as compressed data stream, if the user's browser supports this feature. The browser unpacks the file independently. A manual intervention is not necessary.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_file.png" alt="Array"/></p>
  <p>On edit, an upload field is shown to upload a new file, and a button to download the current one. The implementation may offer a preview for files, whose Mime-type is known.</p>
</div>

<h4><a name="article_xddl_image"></a>Element Image</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_image">ELEMENT image</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)
  ATTRIBUTE
       name            string
       notnull         bool
       width           integer
       height          integer
       ratio           bool
       background      string
       maxsize         integer
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>width</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>Contains the image horizontal dimension in pixel</td>
      </tr>
      <tr>
        <td>height</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>Contains the image vertical dimension in pixel</td>
      </tr>
      <tr>
        <td>ratio</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>This applies only to the process of resizing images, when the attributes height and width are given. Otherwise the attribute must be ignored. If this attribute is set to &quot;yes&quot;, the image's aspect-ratio must be kept when resizing it. If set to &quot;no&quot;: image must be stretched to the given size.</td>
      </tr>
      <tr>
        <td>background</td>
        <td>hex-value</td>
        <td>-</td>
        <td>-</td>
        <td>This applies only to the process of resizing images, when the attribute ratio is set to &quot;yes&quot; and the attributes height and width are given. In this case you may specify the background color here. Otherwise the attribute must be ignored. It must be a hexadecimal color value. Example: #f0a080</td>
      </tr>
      <tr>
        <td>maxsize</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>The maximum size of the image in bytes.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Image are files (binary large objects). These must be graphics of a supported type and should be displayable on the user interface as an image.</p>
  <h5>Implementation</h5>
  <p>The graphics file must automatically be checked and converted during upload. If the given file is not a valid graphic, the implementation must throw an error message. When the image is resized, the implementation must respect the attributes &quot;width&quot;, &quot;height&quot;, &quot;ratio&quot; and &quot;background&quot;. The dimensions of the image are adapted to the given height and width. If the attribute &quot;ratio&quot; is set to &quot;no&quot; and width and height are given, the image dimensions are asymmetrically stretched to the exact given values. Otherwise the width and/or height is changed, but the aspect ratio of the image is kept intact. If these changes result in a part of the canvas being empty, then this part is to be filled with the given background color. The background color is given by the attribute &quot;background&quot;. If no background color is defined, the implementation may chose a color.</p>
  <p>Note: not all image files are suited to be shown in a browser. For example, many browsers (and other programs) may have problems viewing images that use a CMYK color palette.</p>
  <p>For reasons of performance, image files should be stored outside the database. Compressing bitmap graphics usually doesn't have any benefits and should be avoided.</p>
  <p>A list of valid image formats and/or rules for their interpretation are not specified in this document. The treatment of vector graphics is not specified in this document.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_image.png" alt="Upload field"/></p>
  <p>Columns of the data type Image are presented as a thumbnail image plus an upload field to insert or replace the stored graphic. When clicking the thumbnail the complete graphic should be shown. For the creation of the thumbnail, the implementation should also respect the attributes ratio and background.</p>
</div>

<h4><a name="article_xddl_reference"></a>Element Reference</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_reference">ELEMENT reference</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)
  ATTRIBUTE
       name            string
       table           string
       column          string
       label           string
       notnull         bool
       unique          bool
       readonly        bool
       title           string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>An unique name that identifies this column. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>table</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>Name of target table</td>
      </tr>
      <tr>
        <td>column</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>Name of value-column (must be unique). The values in this column are stored as the value of the reference.</td>
      </tr>
      <tr>
        <td>label</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>Name of label-column (should be unique). This column should contain human readable description, which are displayed to the user.</td>
      </tr>
      <tr>
        <td>notnull</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>A not-null column may not contain undefined (NULL-)values.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique constraint means, that the column must not contain duplicate values. An unique constraint means, that the column must not contain duplicate values. Note that a unique constraint technically implies an unique index on this column and vice versa.</td>
      </tr>
      <tr>
        <td>readonly</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>You may set the column to be read-only to prevent any changes to it. Note that rows may still be inserted or deleted, but the column may not be updated.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>A text that may be used in the UI as a label for the control element associated with the column. Note that this may also be a language token, which is to be translated to the selected language.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Columns of type Reference are used to represent foreign keys. The real type of the column depends on the type of the target column.</p>
  <h5>Implementation</h5>
  <p>A reference itself does not automatically imply a foreign key constraint.</p>
  <p>Only the value of the target column is stored in the database. The physical type and properties of the column are thus inherited from those of the target column. If the physical type of the target column changes, the physical type of the reference column must change too. If the target column has no suitable type, the implementation must throw an error.</p>
  <h5>Presentation</h5>
  <p><img src="data/abb_type_reference.png" alt="Select box"/></p>
  <p>When editing such column, a select box is shown. The options are filled with the entries of the referenced table. The labels are taken form the column &quot;label&quot; and the values are taken from the target &quot;column&quot; of the target table.</p>
</div>

<h4><a name="article_xddl_foreign"></a>Element Foreign</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_foreign">ELEMENT foreign</a> (<a href="#article_xddl_key">key</a>+)
  ATTRIBUTE
       name            string
       table           string
       match           string
       ondelete        string
       onupdate        string
       deferrable      bool
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>name</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>An unique name that identifies this foreign key constraint. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>table</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>Name of target table</td>
      </tr>
      <tr>
        <td>match</td>
        <td>string</td>
        <td>-</td>
        <td>simple</td>
        <td> full | partial | simple </td>
      </tr>
      <tr>
        <td>ondelete</td>
        <td>string</td>
        <td>-</td>
        <td>no-action</td>
        <td> no-action | restrict | cascade | set-null | set-default </td>
      </tr>
      <tr>
        <td>onupdate</td>
        <td>string</td>
        <td>-</td>
        <td>no-action</td>
        <td> no-action | restrict | cascade | set-null | set-default </td>
      </tr>
      <tr>
        <td>deferrable</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>Deferrable means, the DBS should wait till the end of a transaction before it checks inserted or updated foreign keys. <br/> This is meant for situations, where you push data in both: the parent and the child table within one transaction, or when you use circular references (if supported by your DBMS).</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Foreign-key constraints are meant to ensure referential integrity between tables. This feature is not supported by all DBMS. The implementation my emulate that feature.</p>
  <p>Each foreign-key consists at least of a source and a target. Note that the types of the source columns of a foreign-key depend on the types of the target columns. Columns containing a foreign-key should thus be defined as type &quot;reference&quot;. If so, the implementation must determine the correct type automatically.</p>
  <p>The attributes &quot;ondelete&quot; and &quot;onupdate&quot; define, how the DBMS should react when an reference is updated.</p>
  <dl>
    <dt> no-action </dt>
      <dd>The reference in the child table may not be set to a value, that has no corresponding row in the parent table.</dd>
    <dt> restrict </dt>
      <dd>The value of a key in the parent table may not be changed, if at least one reference to it still exists.</dd>
    <dt> cascade </dt>
      <dd>If the key in the parent table is deleted or updated, all references to it in the child table are also updated or deleted.</dd>
    <dt> set-null </dt>
      <dd>If the key in the parent table is updated, the value of the references will be set to NULL.</dd>
    <dt> set-default </dt>
      <dd>If the key in the parent table is updated, the value of the references will be reset to the default value.</dd>
  </dl>
  <p>The attribute &quot;match&quot; defines, how the DBMS should evaluate the given rules for referential integrity. This applies to compound foreign-keys including multiple columns only.</p>
  <dl>
    <dt> full </dt>
      <dd>All columns must match</dd>
    <dt> partial </dt>
      <dd>At least one column must match</dd>
    <dt> simple </dt>
      <dd>Any column that has a value must match (some columns may be null)</dd>
  </dl>
  <h5>Implementation</h5>
  <p>The attribute &quot;deferrable&quot; is not supported by some DBMS. Note that this feature may not be emulated. Various DBMS have different approaches to circumvent this problem. For example,  temporarily deactivating constraints. See your manual for details.</p>
  <p>The attribute &quot;match&quot; is not supported by some DBMS. This applies to compound foreign-keys including multiple columns only. This feature is rarely used and should be avoided for portable database applications for reasons of compatibility.</p>
  <p>Some values of the attributes &quot;onupdate&quot; and &quot;ondelete&quot; are not supported by some DBMS. These may be simulated using triggers.</p>
</div>

<h4><a name="article_xddl_key"></a>Element Key</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_key">ELEMENT key</a> EMPTY
  ATTRIBUTE
       name           string
       column         string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>Name of column in source table.</td>
      </tr>
      <tr>
        <td>column</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>Name of column in target table. It defaults to the primary key of the target table.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>A column reference including a source and target column. If a foreign-key constraint defines more then one column reference, it is a so-called &quot;compound&quot; foreign-key. Note that compound keys are more complicated to handle and are not supported by all DBMS. Compound keys should be avoided where possible.</p>
</div>

<h4><a name="article_xddl_index"></a>Element Index</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_index">ELEMENT index</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_column">column</a>*)
  ATTRIBUTE
       name           string
       unique         bool
       clustered      bool
       title          string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>An unique name that identifies this index. It should be lowercased and a valid XML and SQL identifier.</td>
      </tr>
      <tr>
        <td>unique</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>An unique index always implies an unique-constraint. An unique constraint means, that the column must not contain duplicate values.</td>
      </tr>
      <tr>
        <td>clustered</td>
        <td>bool</td>
        <td>-</td>
        <td>no</td>
        <td>Installs a setting, that all columns in the tablespace should be stored in the order of this index. This is a performance setting.</td>
      </tr>
      <tr>
        <td>title</td>
        <td>string</td>
        <td>-</td>
        <td>-</td>
        <td>The title is a label text that should be displayed in the UI when viewing this object.</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>Indexes are meant to improve the performance of select-statements. An index is a sorted list of column values. Scanning an index is usually faster than scanning a whole table. However: as creating and maintaining an index causes some overhead in calculation time, insert- and update-statements will thus be slower when using an index.</p>

  <h5>Implementation</h5>
  <p>Note: it is not required to explicitly  define an unique-constraint on a primary key. Primary keys implicitly have an unique-constraint.</p>
  <p>Important! Even if an unique index exists, the column is not reported to have an unique-constraint. It is recommended to avoid unique indexes, whenever it is possible to express the same using a constraint. Note that an unique constraint may not be defined using multiple columns. In that case you should use an unique index.</p>
  <p>Clustered indexes apply to MSSQL only. A clustered index means, that the DBS should try to store values, which are close to each other in the index, close to each other in the tablespace, so that they fit inside the same memory page, when retrieving data from a table.<br/> Typically a clustered index is created on the primary key (which is the default), or on another column which is used for sorting the table. Each table may only have one clustered index. If the attribute &quot;clustered&quot; of an index is to be set to &quot;yes&quot;, the implementation must check, if the table has another clustered index already. If this is the case, the attribute &quot;clustered&quot; of this index must be set to &quot;no&quot;. The implementation may throw an error message, if two clustered indexes are found within one table.</p>
</div>

<h4><a name="article_xddl_column"></a>Element Column</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_column">ELEMENT column</a> EMPTY
  ATTRIBUTE
       name           string
       sorting        string
       length         string
  </pre></div>

    <h5>Attributes</h5>
    <table class="syntax">
      <tr>
        <th>Attribute</th>
        <th>Type</th>
        <th>Mandatory</th>
        <th>Default</th>
        <th>Description</th>
      </tr>

      <tr>
        <td>name</td>
        <td>string</td>
        <td>yes</td>
        <td>-</td>
        <td>The name of the indexed column in the source table.</td>
      </tr>
      <tr>
        <td>sorting</td>
        <td>string</td>
        <td>-</td>
        <td>ascending</td>
        <td>In an index, each column may be sorted separately for performance reasons. This is especially used for indexes with multiple columns.<dl>
              <dt>ascending</dt>
              <dd>sort in ascending order</dd>
              <dt>descending</dt>
              <dd>sort in descending order</dd>
            </dl>
        </td>
      </tr>
      <tr>
        <td>length</td>
        <td>integer</td>
        <td>-</td>
        <td>-</td>
        <td>maximum length of index values</td>
      </tr>
    </table>

  <h5>Description</h5>
  <p>The column list of an index specifies which columns of a table are indexed and how these values are stored.</p>

  <h5>Implementation</h5>
  <p>The length attribute is used for performance optimization and is only supported by MySQL. Other DBMS don't support this argument. Note, that the attribute &quot;length&quot; may not be greater than the length of the source column.<br/> The implementation may automatically decide if a full-text index is to be created, if the DBMS supports that feature.</p>
</div>


<h3><a name="article_xddl_views"></a>Views</h3>
<div class="box">Basically &quot;views&quot; are stored select-statement. Thus they may span multiple tables, aggregate data or hide information. To the user they may act like real tables. Views are widely used for forms and user interfaces.<br/> However, you should note that there are some restrictions. If you want to change data in a view, the view has to be updatable. The support for this features depends on the chosen DBMS. Some vendors limit this to certain (very simple) scenarios. Basically spoken, an &quot;updatable view&quot; must know the primary key and source table for each and every column in the view. The where-clause of the statement specifies some sort of constraint and a view may demand, that every updated or inserted column is still part of the view and thus justifying this constraint.</div>

<h4><a name="article_xddl_view"></a>Element View</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_view">ELEMENT view</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_field">field</a>+, <a href="#article_xddl_select">select</a>*)&gt;
  ATTRIBUTE
       name        string
       readonly    bool
       tables      string
       where       string
       orderby     string
       sorting     string
       checkoption string
       title       string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>An unique name that identifies this view. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>readonly</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>You may set the view to be read-only to prevent any changes. A view that is &quot;read-only&quot; is not updatable.</td>
    </tr>

    <tr>
      <td>tables</td>
      <td>nmtokens</td>
      <td>-</td>
      <td>-</td>
      <td>A comma-separated list of tables used in the current view. If the list contains more than one table, the first is the base table and all other tables are joined to this.<br/> For don't forget to define a where-clause for all joined tables.</td>
    </tr>

    <tr>
      <td>where</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>This is a generic information. It sets the where-clause of the view.</td>
    </tr>

    <tr>
      <td>orderby</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>A comma-separated list of columns, after whose the output is sorted. By default the table-output is ordered by it's primary-key.</td>
    </tr>

    <tr>
      <td>sorting</td>
      <td>string</td>
      <td>-</td>
      <td>ascending</td>
      <td>
          <dl>
            <dt>ascending</dt>
            <dd>sort in ascending order</dd>
            <dt>descending</dt>
            <dd>sort in descending order</dd>
           </dl>
       </td>
    </tr>

    <tr>
      <td>checkoption</td>
      <td>string</td>
      <td>-</td>
      <td>none</td>
      <td>
          <dl>
            <dt>none</dt>
            <dd>no check option</dd>
            <dt>cascaded</dt>
            <dd>recursive check</dd>
            <dt>local</dt>
            <dd>local check only</dd>
          </dl>
      </td>
    </tr>

    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
        <td>The title is a label text that should be displayed in the UI when viewing this object.</td>
    </tr>

  </table>
  <h5>Description</h5>
  <p>The &quot;view&quot; element defines the name, documentation and generic properties of a database view. These are it's base tables, where-clause and other information, which should allow an application to map elements of the view to elements of real tables. This should enable an implementation to simulate simple and updatable view for such DBMS, that don't support this feature. An implementation may use the generic information for the simulation of views. The implementation may throw an error message, if it is not possible to simulate the view and the DBMS doesn't support the requested feature.</p>
  <h5>Implementation</h5>
  <p>The software must consider a view to be &quot;updatable&quot;, unless the attribute &quot;readonly&quot; is set to &quot;yes&quot;. It may however decide that the view is not updatable, if a required primary key is missing. Where applicable the implementation may automatically add a primary key column to the generic query, to make the view updatable.  For DBMS that don't support updatable views, the implementation may simulate these by generating insert or update statements based on the given generic information. The implementation may throw an error if the user tries to update a view for such DBMS and it is unable to simulate the desired behavior.</p>
  <p>The attribute &quot;where&quot; defined the where-clause of the view. This information must be taken into account when simulating the views. The implementation may define the required syntax of this element itself. Note! The following example is not recommended &quot;time &lt; now()&quot; since the function &quot;now()&quot; may not be compatible between various DBMS. However, you may define explicit SQL-statements for any target-DBMS of your choice. The syntax for generic where-clauses, as supported by the Yana Framework, is: {[column]=[value]{ AND [column]=[value]}*}.</p>
  <p>The attribute &quot;checkoption&quot; influences the evaluation of the where-clause. The difference between 'local' and 'cascaded' applies only to situations, where a view is built recursively upon another view and the parent view declares a check-option itself. If this is the case, the setting 'local' will prevent the DBS from recursively evaluating the check option(s) of the parent view(s). Note that this is not supported by all DBMS.<br/> For example,  MySQL and PostgreSQL both support this feature, while MSSQL does not.</p>
</div>

<h4><a name="article_xddl_select"></a>Element Select</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_select">ELEMENT select</a> (#PCDATA)
  ATTRIBUTE
       dbms     string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>dbms</td>
      <td>string</td>
      <td>-</td>
      <td>generic</td>
      <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>The &quot;select&quot; element is a DBMS-dependent SQL-statement. It must comply with the defined names of the base tables, fields and other properties of the view. For simple views the generic information may already be enough, so that no additional select elements need to be defined. Thus you should avoid the select element where possible.</p>
</div>

<h4><a name="article_xddl_field"></a>Element Field</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_field">ELEMENT field</a> EMPTY
  ATTRIBUTE
       table        string
       column       string
       alias        string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>table</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Name of base table</td>
    </tr>

    <tr>
      <td>column</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Name of base column</td>
    </tr>

    <tr>
      <td>alias</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>optional alias</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>A column reference, that identifies the name of a column in the view (see attribute &quot;alias&quot;) with the names of the physical table and column it is based on.</p>
</div>

<h3><a name="article_xddl_forms"></a>Forms</h3>
<div class="box">This section defines the syntax of elements required to declare the structure of forms, which are related to objects in the database. These forms may be used by a client application and refer to database elements, defined within the same document. Forms bind a presentation element (template) to a data source (table or view). The implementation may define the required syntax and interpretation of the templates. These aspects are unspecified in this document.</div>

<h4><a name="article_xddl_form"></a>Element Form</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_form">ELEMENT form</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_fieldset">fieldset</a>*, <a href="#article_xddl_event">event</a>*)
  ATTRIBUTE
       name        string
       table       string
       template    string
       title       string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>An unique name that identifies this form. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>table</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Name einer Quelltabelle oder eines Views. Note that the view should be updatable. Otherwise the form should not be editable</td>
    </tr>

    <tr>
      <td>template</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The attribute template may contain any text. The implementation used to generate the forms may provide a list of valid values for this attribute. The template should provide all required information, which the implementation needs, to create the form.</td>
    </tr>
    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
        <td>The title is a label text that should be displayed in the UI when viewing this object.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>Forms are named objects, that are used as input for a form- or GUI-generator. They must have at least a base table and a template. The base table may of course also be an (updatable) view.</p>
  <h5>Implementation</h5>
  <p>Forms are not a database feature. They need to be generated by software for all known DBMS. The contents of the form however are based on the database schema defined in the XDDL file. Based on this information, the implementation should generate select-, update-, insert- or delete-statements automatically.</p>
  <h5>Presentation</h5>
  <p>For HTML output, forms should be displayed as HTML form elements. The presentation of the form must be defined in the associated template.</p>
</div>

<h4><a name="article_xddl_fieldset"></a>Element Fieldset</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_fieldset">ELEMENT fieldset</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_input">input</a>+)
  ATTRIBUTE
       name     string
       title    string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>-</td>
      <td>default</td>
      <td>An unique name that identifies this fieldset. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>
    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The title is a label text that should be displayed in the UI when viewing this object.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>Fieldsets are meant to group fields. If a fieldset is unnamed, it's name defaults to &quot;default&quot;. Thus note, that there must be no more than 1 unnamed fieldset per form. Throughout the form, each fieldset's name must be unique.</p>
  <h5>Presentation</h5>
  <p>Fieldset elements should be presented in HTML using &quot;fieldset&quot; tags. The attribute title may be used as &quot;legend&quot; element for the tag.</p>
</div>

<h4><a name="article_xddl_input"></a>Element Input</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_input">ELEMENT input</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_action">action</a>*)
  ATTRIBUTE
       name        string
       label       string
       hidden      bool
       readonly    bool
       cssclass    string
       tabindex    integer
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>An unique name that identifies this input field. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>label</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The label is a description field, which provides more information about the content of the input field.</td>
    </tr>

    <tr>
      <td>hidden</td>
      <td>bool</td>
      <td>-</td>
        <td>no</td>
      <td>The input field must not be visible in the UI when the value of this attribute is set to &quot;yes&quot;. Otherwise the attribute is to be ignored.</td>
    </tr>

    <tr>
      <td>readonly</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>You may set the input field to be read-only to prevent any changes. An input field that is &quot;read-only&quot; is not updatable.</td>
    </tr>

    <tr>
      <td>cssclass</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>A HTML-based UI should provide id attributes and CSS classes for fields automatically. Additionally this attribute may be used to add a user-defined CSS class.</td>
    </tr>

    <tr>
      <td>tabindex</td>
      <td>integer</td>
      <td>-</td>
      <td>0</td>
      <td>A HTML-based UI should provide the tab-index for fields automatically. Alternatively this attribute may be used to set a user-defined value. The tab-index defines the order in which fields should get the edit focus, when the user hits the tab-key on a keyboard.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>The input element is a single field inside a fieldset.</p>
  <h5>Presentation</h5>
  <p>A HTML-based UI should display this as an &quot;input&quot; element, or something familiar, depending on the type of the underlying column. If the attribute &quot;readonly&quot; is set to &quot;yes&quot;, the element should not be editable. The implementation should create CSS class- and/or id-attributes for each input field. Additionally if the attribute &quot;cssclass&quot; is set, this value has to be added to the class attribute of the tag. If the attribute &quot;tabindex&quot; is provided, it is to be copied to the attribute list of the control element. If the &quot;input&quot; element is represented by more then one HTML field, the tabindex should be set to the first editable field.</p>
</div>

<h4><a name="article_xddl_action"></a>Element action</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_action">ELEMENT action</a> (#PCDATA)
  ATTRIBUTE
       name     string
       language string
       title    string
       label    string
       icon     image
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>An unique name that identifies this action. It should be lowercased and a valid function name. </td>
    </tr>

    <tr>
      <td>language</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The programming language of the action implementation. May be any string. If the option is not set, the implementation may decide itself how to handle the action. The Yana Framework will interpret the action as the name of a defined plug-in action.</td>
    </tr>

    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Title-attribute for clickable links.</td>
    </tr>

    <tr>
      <td>label</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Text label used for clickable links.</td>
    </tr>

    <tr>
      <td>icon</td>
      <td>image</td>
      <td>-</td>
      <td>-</td>
      <td>Image file used as icon for clickable links.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>The action element is meant to be triggered when the user clicks the form field.</p>
  <h5>Presentation</h5>
  <p>The presentation of the element depends on the attributes language and name.</p>
  <p>If the language is set to PHP, or if the attribute language is empty, it is recommended to be displayed as an A-tag next to the form field. The content of the tag is the attribute &quot;label&quot; and/or an img-tag, where the src-attribute is taken from the &quot;icon&quot; attribute of the element. The href-attribute of the tag should be a reference to PHP_SELF plus the name of the action as parameter, provided as &quot;action={name}&quot;. The value of the field should be provided as a second parameter &quot;target[{primary_key}]={value}&quot;</p>
  <p>Example:</p>
  <pre class="codeexample">
  &lt;action name=&quot;foo&quot; label=&quot;click me&quot;
      icon=&quot;common_files/icon.png&quot;/&gt;

  &lt;a href=&quot;?action=foo&amp;target[12]=bar&quot;&gt;
    click me
    &lt;img src=&quot;common_files/icon.png&quot;/&gt;
  &lt;/a&gt;</pre>
  <p>If the language is set to JavaScript, the name must be a valid JavaScript event and the pcdata section must be valid JavaScript code.</p>
  <p>Example:</p>
  <pre class="codeexample">
  &lt;action name=&quot;onchange&quot; language=&quot;javascript&quot;&gt;validate(this)&lt;/action&gt;

  &lt;input ... onchange=&quot;validate(this)&quot;/&gt;</pre>
  <p>If a label or icon is provided, the action should also be triggered when clicking the label and/or icon.</p>
  <p>Example:</p>
  <pre class="codeexample">
  &lt;action name=&quot;onchange&quot; label=&quot;validate&quot;
      icon=&quot;common_files/validate.png&quot;
      language=&quot;javascript&quot;&gt;validate('foo')&lt;/action&gt;

  &lt;input ... onchange=&quot;validate('foo')&quot; /&gt;
  &lt;a onclick=&quot;validate('foo')&quot;&gt;
      validate
      &lt;img src=&quot;common_files/validate.png&quot;/&gt;
  &lt;/a&gt;</pre>
</div>

<h4><a name="article_xddl_event"></a>Element Event</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_event">ELEMENT event</a> (#PCDATA)
  ATTRIBUTE
       name     string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name of event to be triggered (as defined by the chosen template)</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>The event is triggered when the user performs a certain action in the form, like submitting the form, clicking a download or something similar. The available types of events must be defined by the chosen template. The implementation may define how to execute the event. The attribute &quot;name&quot; defines the name of the event and the PCDATA section provides the name of the function to be called.</p>
  <p>Example: event &quot;submit&quot; with pcdata &quot;foo&quot; will send the form data (using the POST method) to the server application at the URL &quot;?action=foo&quot;, when the user submits the form. The implementation must define, what &quot;submit&quot; actually means for the given form template.</p>
</div>

<h3><a name="article_xddl_functions"></a>Functions</h3>
<div class="box">This section defines the syntax of all elements required to declare user defined functions, which are to be used within the context of the database. Functions consist of signature information and implementation. Note: While the function's signature should be portable among several DBMS, the implementation may be not.</div>

<h4><a name="article_xddl_function"></a>Element function</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_function">ELEMENT function</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_implementation">implementation</a>+)
  ATTRIBUTE
       name        string
       title       string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name of the function. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>
    <tr>
      <td>title</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The title is a label text that should be displayed in the documentation of this object.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>A user defined function with the given name. The function may have at most one implementation for each supported DBMS.</p>
</div>


<h4><a name="article_xddl_implemetation"></a>Element implemetation</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_implemetation">ELEMENT implementation</a> (<a href="#article_xddl_param">param</a>*, <a href="#article_xddl_return">return</a>?, <a href="#article_xddl_code">code</a>)
  ATTRIBUTE
       dbms        string
       language    string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>dbms</td>
      <td>string</td>
      <td>-</td>
      <td>generic</td>
      <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
    </tr>

    <tr>
      <td>language</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The target programming language. This applies only to DBMS, that support more then one language.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>The implementation defines the function signature and source code. The number of parameters must be the same for each DBMS (and implementation tag).</p>
  <h5>Implementation</h5>
  <p>If the attribute dbms is set to &quot;generic&quot;, the XDDL-implementation may decide if the generic function definition is compatible with a certain DBMS. If it decides that the definition is not compatible, it may try to simulate the function. In that case the implementation may define the required syntax for the values of it's child elements &quot;code&quot;, &quot;param&quot; and &quot;return&quot;. If the definition does not match the required syntax, the XDDL-implementation may throw an error.</p>
  <p>Note that the attribute &quot;language&quot; is DBMS-dependent. Most DBMS should at least support the value &quot;SQL&quot; as a language, while others may also include &quot;Java&quot;, &quot;C++&quot; or more.<br/> If no language is given, the default language is used. Note that this implementation may not check if the given language is really supported by the given DBMS.</p>
  <p>For simulated functions the language attribute must be blank.</p>
</div>

<h4><a name="article_xddl_param"></a>Element param</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_param">ELEMENT param</a> EMPTY
  ATTRIBUTE
       name     string
       type     string
       mode     string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>unique parameter name</td>
    </tr>

    <tr>
      <td>type</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>DBMS-dependent data type</td>
    </tr>

    <tr>
      <td>mode</td>
      <td>string</td>
      <td>-</td>
      <td>in</td>
      <td>The attribute &quot;mode&quot; identifies the element as <dl>
              <dt>in</dt>
              <dd>input-parameter (call by value)</dd>
              <dt>out</dt>
              <dd>output-parameter (call by reference)</dd>
              <dt>inout</dt>
              <dd>reference-parameter (call by reference)</dd>
          </dl>
      </td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>A parameter definition as part of the function signature. The attribute &quot;mode&quot; identifies the behavior of the parameter. The type of the parameter is DBMS-dependent.</p>
  <p>Example:</p>
  <pre class="codeexample">
  &lt;function name=&quot;foo&quot;&gt;
    &lt;implementation&gt;
      &lt;param name=&quot;p1&quot; type=&quot;string&quot; mode=&quot;in&quot;/&gt;
      &lt;param name=&quot;p2&quot; type=&quot;float&quot; mode=&quot;inout&quot;/&gt;
      &lt;param name=&quot;p3&quot; type=&quot;int&quot; mode=&quot;out&quot;/&gt;
      &lt;return&gt;int&lt;/return&gt;
      &lt;code&gt;...&lt;/code&gt;
    &lt;/implementation&gt;
  &lt;/function&gt;

  May be interpreted as:

  int foo ( string $p1,  float &amp;$p2,  int &amp;$p3 = null ) { ... }
  </pre>
  <p>Note that some DBMS only support input parameters (call by value). In that case the attribute &quot;mode&quot; must have the value &quot;in&quot;. The implementation may throw an error if an unsupported definition is found.</p>
</div>

<h4><a name="article_xddl_return"></a>Element return</h4>
<div class="box">
  <div class="codeexample"><pre>
  ELEMENT return (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>The data type returned by the function. This setting is DBMS-dependent.</p>
  <p>If no return element is defined, or if it is left empty, the return type defaults to &quot;void&quot;, which means, the function doesn't return a value. If the function needs to return more then one value, it should use output-parameters instead. Be aware that in MySQL functions without a return value are called &quot;methods&quot;.</p>
</div>


<h4><a name="article_xddl_code"></a>Element code</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_code">ELEMENT code</a> (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>The function body. The syntax of the content depends on the attributes for DBMS and programming language. If the DBMS is set to &quot;generic&quot;, then this code is executed by the server application. In that case the implementation may define the required syntax itself. It is recommended, to limit the code to being the name of a function, that the implementation may call.  All input parameters must be redirected to that function. Note that generic functions can't be used inside SQL-statements as these are not executed by the DBMS.</p>
</div>

<h3><a name="article_xddl_changelogs"></a>ChangeLog</h3>
<div class="box">This section defines the syntax of all elements required to keep track of any significant changes made to the database, which require an update of the physical structure of the database. This includes newly created, renamed, modified and dropped database objects. SQL-statements may be provided for any additional action, which is not covered by this definition. Implementations may provide functionality to generate valid SQL-statements to automatically update a given database to a later version of the XDDL document. he change-log should provide any information, that is necessary, to perform such an action.</div>

<h4><a name="article_xddl_changelog"></a>Element changelog</h4>
<div class="box">
  <div class="codeexample"><pre>
  ELEMENT changelog (<a href="#article_xddl_create">create</a>|<a href="#article_xddl_rename">rename</a>|<a href="#article_xddl_drop">drop</a>|<a href="#article_xddl_update">update</a>|<a href="#article_xddl_sql">sql</a>|<a href="#article_xddl_change">change</a>)*
  </pre></div>

  <h5>Description</h5>
  <p>The changelog element of a database definition is meant to document updates. Updates must be sorted by version number in descending order. This means, that the first element is always the most recent update.<br/> The updates contain the type of the modification, a version number and the subject of modification. A description of the changes may be added as PCDATA.</p>
  <h5>Implementation</h5>
  <p>The changelog may be used for automated database updates. The implementation may provide an application that scans the changelog and updates the database schema from a given version number to a later version. This implementation should try to execute all changes within a transaction. In case of a nonrecoverable error it should try to rollback all changes.</p>
</div>

<h4><a name="article_xddl_create"></a>Element create</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_create">ELEMENT create</a> (<a href="#article_xddl_description">description</a>?)
  ATTRIBUTE
       name        string
       subject     string
       version     string
       ignoreError bool
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name identifier of the changed object. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>subject</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>table | column | index | view | sequence | trigger | constraint</td>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>Documents the creation of a new database element. The type of element is stored as attribute &quot;subject&quot;. The element itself is identified via the attribute &quot;name&quot;. The name must specify a unique identifier for the element. Where necessary it must specify the namespaces, within which the element's name is unique. In that case the character '.' must be used as a delimiter. The implementation may throw an error if the element is not found or if it is ambiguous. The &quot;description&quot; element may be used for documentation purposes and may contain any text.</p>
</div>

<h4><a name="article_xddl_rename"></a>Element rename</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_rename">ELEMENT rename</a> (<a href="#article_xddl_description">description</a>?)
  ATTRIBUTE
       name        string
       subject     string
       version     string
       ignoreError bool
       oldname     string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name identifier of the changed object. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>subject</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>table | column | index | view | sequence | trigger | constraint</td>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

    <tr>
      <td>oldname</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Previous name of the renamed object. Note: For columns the name must include the table (&quot;table.column&quot;).</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>Documents renaming an existing database element. The type of element is stored as attribute &quot;subject&quot;. The element itself is identified via the attribute &quot;name&quot;. The previous name of the element is stored as the attribute &quot;oldname&quot;. The name must specify a unique identifier for the element. Where necessary it must specify the namespaces, within which the element's name is unique. In that case the character '.' must be used as a delimiter. The implementation may throw an error if the element is not found or if it is ambiguous. The &quot;description&quot; element may be used for documentation purposes and may contain any text.</p>
</div>

<h4><a name="article_xddl_drop"></a>Element drop</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_drop">ELEMENT drop</a> (<a href="#article_xddl_description">description</a>?)
  ATTRIBUTE
       name        string
       subject     string
       version     string
       ignoreError bool
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name identifier of the changed object. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>subject</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>table | column | index | view | sequence | trigger | constraint</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>


  </table>

  <h5>Description</h5>
  <p>Documents that an existing database element has been removed. The type of element is stored as attribute &quot;subject&quot;. The element itself is identified via the attribute &quot;name&quot;. The name must specify a unique identifier for the element. Where necessary it must specify the namespaces, within which the element's name is unique. In that case the character '.' must be used as a delimiter. The implementation may throw an error if the element is not found or if it is ambiguous. The &quot;description&quot; element may be used for documentation purposes and may contain any text.</p>
  <p>A typical situation where you might want to set the attribute &quot;ignoreError&quot; to &quot;yes&quot; is when dropping an element. Usually a database update should not fail, just because an element can't be drop because it doesn't exist (anymore).</p>
  <p>Note that some DBMS are unable to rollback dropped database elements. In case of an error this restriction may have influence on the behavior of an implementation that updates the database structure.</p>
</div>

<h4><a name="article_xddl_update"></a>Element update</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_update">ELEMENT update</a> (<a href="#article_xddl_description">description</a>?)
  ATTRIBUTE
       name        string
       subject     string
       version     string
       ignoreError bool
       property    string
       value       string
       oldvalue    string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>Name identifier of the changed object. It should be lowercased and a valid XML and SQL identifier.</td>
    </tr>

    <tr>
      <td>subject</td>
      <td>string</td>
      <td>yes</td>
      <td>-</td>
      <td>table | column | index | view | sequence | trigger | constraint</td>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

    <tr>
      <td>property</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Specifies which property of the object has been updated.</td>
    </tr>

    <tr>
      <td>value</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>New value of the updated property. The syntax of this attribute may be defined by the implementation. It may be a serialized string.</td>
    </tr>

    <tr>
      <td>oldvalue</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Old value of the property that has changed. The syntax of this attribute may be defined by the implementation. It may be a serialized string.</td>
    </tr>
  </table>

  <h5>Description</h5>
  <p>Documents the alteration of an existing database element. The type of element is stored as attribute &quot;subject&quot;. The element itself is identified via the attribute &quot;name&quot;. The name must specify a unique identifier for the element. Where necessary it must specify the namespaces, within which the element's name is unique. In that case the character '.' must be used as a delimiter. The implementation may throw an error if the element is not found or if it is ambiguous. The &quot;description&quot; element may be used for documentation purposes and may contain any text. Where available the modified &quot;property&quot; plus it's &quot;oldvalue&quot; and new &quot;value&quot; may be defined.</p>
</div>

<h4><a name="article_xddl_sql"></a>Element sql</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_sql">ELEMENT sql</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_sqlcode">code</a>)
  ATTRIBUTE
       version     string
       ignoreError bool
       dbms        string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>dbms</td>
      <td>string</td>
      <td>-</td>
      <td>generic</td>
      <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>Documents a custom SQL statement that is to be executed. It's execution may be limited to a certain DBMS. SQL-statements may be provided for any additional action, which is not covered by the other elements of this definition. For example,  to copy data to a newly created table. The &quot;description&quot; element may be used for documentation purposes and may contain any text. The &quot;code&quot; element must contain the SQL code.</p>
</div>


<h4><a name="article_xddl_sqlcode"></a>Element code</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_sqlcode">ELEMENT code</a> (#PCDATA)
  </pre></div>

  <h5>Description</h5>
  <p>Contains the SQL code which is to be executed. The syntax of the content depends on the parameter &quot;dbms&quot;.</p>
</div>

<h4><a name="article_xddl_change"></a>Element change</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_change">ELEMENT change</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_logparam">logparam</a>*)
  ATTRIBUTE
       version     string
       ignoreError bool
       type        string
       dbms        string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>version</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>The version this log-entry applies to.</td>
    </tr>

    <tr>
      <td>ignoreError</td>
      <td>bool</td>
      <td>-</td>
      <td>no</td>
      <td>Used to tell the handler function, which performs the update, how to react, if this step causes an error while updating the database structure. If the value is set to &quot;yes&quot;, the database update should continue, even if this step fails. If set to &quot;no&quot;, the update should stop and all previous changes should be rolled back. </td>
    </tr>

    <tr>
      <td>dbms</td>
      <td>string</td>
      <td>-</td>
      <td>generic</td>
      <td>The name of the target DBMS. The value &quot;generic&quot; means that the definition is suitable for any DBMS. Usually this is used as a fall-back option for DBMS you haven't thought of when creating the database structure or for those that simply doesn't have the feature in question.</td>
    </tr>

    <tr>
      <td>type</td>
      <td>string</td>
      <td>-</td>
      <td>default</td>
      <td>A text that unambiguously identifies the type of change to the database structure.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>This is a generic element to add user-defined types of database changes. An implementation to execute these changes must allow the definition of a function or method to handle the element for each available type. The function or method must be given the &quot;logparam&quot; elements as parameters in the order of their definition. It's execution may be limited to a certain DBMS. The &quot;description&quot; element may be used for documentation purposes and may contain any text.</p>
</div>


<h4><a name="article_xddl_logparam"></a>Element logparam</h4>
<div class="box">
  <div class="codeexample"><pre>
  <a href="#article_xddl_logparam">ELEMENT logparam</a> (#PCDATA)
  ATTRIBUTE
       name     string
  </pre></div>

  <h5>Attributes</h5>
  <table class="syntax">
    <tr>
      <th>Attribute</th>
      <th>Type</th>
      <th>Mandatory</th>
      <th>Default</th>
      <th>Description</th>
    </tr>

    <tr>
      <td>name</td>
      <td>string</td>
      <td>-</td>
      <td>-</td>
      <td>Name of this parameter.</td>
    </tr>

  </table>

  <h5>Description</h5>
  <p>A parameter which is passed to the called function. The PCDATA section contains the value of the parameter. Optionally a name may be given. There must not be two parameters with the same name.</p>
</div>
<h2><a name="article_sml"></a>The SML file format</h2>
<p>The name &quot;SML&quot; is an abbreviation of &quot;Simple Markup Language&quot;. The SML format was delevoped 2001 through 2003 with the aim to create an easy to read and syntactically clean presentation, which would be acceptable to the masses.</p>
<p>SML is equally a relative to &quot;JSON&quot; (&quot;JavaScript Object Notation&quot;) and &quot;XML&quot; (&quot;Extensible Markup Language&quot;). All constructs, which can be expressed in JSON may as well be expressed in SML format, and vice versa. It is nevertheless important to stress that SML was developed independent from JSON. Both dialects have no common historical intersections.</p>
<p>In simple words, the semantics used SML is comparable with that of JSON, while a the syntax is comparable to that of XML. It thus combines the widely accepted use of tags with intuitive semantics.</p>
<h3>Purpose of the SML format</h3>
<p>The task of the file format is to store non-recursive data fields in the form of a sequential file. These data fields can be either numeric or associative, and use any scalar values or other data fields, if they meet the same requirements. References are not allowed. Objects are - analogous to JSON - represented by their public object variables in the form of an associative array data. Included non-scalar values are treated recursively.</p>
<p>The purpose of this file format is to store parameters to initialize components of the framework. The purpose is not to store larger amounts of data in this format. In particular, the SML format is not designed as a replacement for XML.</p>
<p>Infinite recursions are not recognized.</p>
<h4>Discussion on detection of infinite recursion</h4>
<p>Note: The test, whether a structure contains infinite recursions or not, is not trivial.  The usual approach is a path tracking procedure. However, this produces an overhead of T = O(n) steps, where n is the length of the path. The proof for this lower bound is trivial. In order to avoid such an overhead it might be considered to run this test only every x steps, where an appropriate value is to be chosen for the positive integer x with x&gt; 1. Despite this potential optimization, quadratic running time can be expected, for the whole program, including the path checks. This is not acceptable for many applications. For reasons of performance it was decided to refrain from this type of check.</p>
<p>At this point I would like to note that the naive approach, to count the number of elements to check whether the number of iterations exceeds the number of elements, is not practical. In order to &quot;count&quot; all elements a complete traversion would be carried out. If, however, the structure did contain an infinite recursive path, the program would never terminate and the result would be undefined.</p>
<h3>XML to SML</h3>
<p>The task to provide files for initialization or configuration of a framework is not totally trivial. Since the framework may have multiple plug-ins, whose configuration options should be stored in the same files as the rest of the configuration. The numbers, structure, type and names of these files is however unknown at the time of development. Eventually the plug-ins, the framework will work with, do not even exist at this point. To be still able to provide a practical DTD or schema in advance, with respect to the these restrictions, the logical solution would be to retreat to the natural properties of the used variables. Stable properties, like the data type of a variable, may be used to create a structure, which is predictable, because it is dictated by syntactical properties of PHP.</p>
<p>Because PHP is not strictly typed  and references and objects may not be part of this configuration by definition, this relaxes the task to scalar variables and arrays (non-recursive and recursive data structures). This two kinds of nodes are defined. The Tag &quot;scalar&quot; is introduced to represent scalar values. It may only contain CDATA section ? this matches a scalar context ? but no other tags or elements. The Tag &quot;array&quot; is introduced to represent array values. It may not contain CDATA sections, but tags only. These tags represent the items of the array. Since XML explicitely expects a single root element the tag &quot;root&quot; is introduced. No further tags are required.</p>
<p>Take a look at the following example, which represents two data fields.</p>
<div class="box">
<pre><code><span style="font: 10pt Courier New;"><span class="xml1-processinginstruction">&lt;?xml version=&quot;1.0&quot; ?&gt;
</span><span class="xml1-doctypesection">&lt;!DOCTYPE example SYSTEM &quot;example.dtd&quot;&gt;
</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">b</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">c</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">1</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">c</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">b</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">q</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">r</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">s</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">t</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[value]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span></span></code></pre>
</div>
<p>By this example some characteristics are noticeable. First of all the element &quot;root&quot; is complete without semantic meaning. It exists only, because the syntax requires it.</p>
<p>The empty tags may also be considered to be somewhat atificial constructs. They are included, but it is not completely clear, how to interpret these tags regarding to the variables they represents. PHP expects no definition of variables prior to their first use. So an initialization of a non-existing variable with an &quot;undefined&quot; value, even with the constant &quot;null&quot;, doesn't make much sense. Particularly since in a configuration file a &quot;null&quot; value has no semantic value at all. Therefor it will be defined by convention, that empty tags should be avoided. Any access to empty or nonexistent tags will be converted to the boolean value &quot;false&quot;, as implied by common PHP conventions.</p>
<p>Furthermore, it is foreseeable that this representation could be confusing if used to store larger amounts of data. Ffor example, in the event that a data field contains50 or more items, which may also be nested and may contain large CDATA sections with a number of line breaks, it is likely that the readability would be affected. For reasons of readability it would be an advantage, if the viewer could tell by the end-tag, which item is closed.</p>
<p>The separate marking of CDATA sections could also affect readability, especially since the sense of this syntax may not be obvious to an inexperienced layman. In addition, the previously made definition explicitly demands nothing other than a CDATA section may be used at this anyway, which is why no real extra value is introduced by this syntax. There is a very exceptional case, namely that the CDATA section contains another closing &quot;scalar&quot; tag. However, this case may be easily avoided by the use of entities, which causes the whole syntax to be obsolete.</p>
<p>Next the focus is to be set on the tags themself. For example, the text &quot;&lt;array name=&quot;b&quot;&gt;&quot;. This text may seem to be unnecessarily complex to a layman. Since it is already obvious by it's structure this element has to be an array anyway. The tag &quot;scalar&quot; may not even be used at this point, since it may not contain other tags but just CDATA. It is of no extra value to stress that this is an (empty) array. The attribute &quot;name&quot; is common to all tags. This derives directly from syntaktik properties of PHP, since the attribute represents the identifier of a variable in PHP. So it would be more intuitiv to use this identifiers instead of the more generic names &quot;array&quot; and &quot;scalar&quot; to name the tags. The same argument could be used againts the tag &quot;scalar&quot;.</p>
<p>In respect to what has been discussed so far the presentation could be simplified.</p>
<div class="box">
<pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">q</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">q</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">s</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">s</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">t</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">value</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">t</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span></span></code></pre>
</div>
<p>Even without extensive explanation is apparent that both variants represent the same content. Similarly, it should probably not be necessary to discuss which of the two syntaxes are more intuitive to read.</p>
<p align="justify">But: because of it's syntactic properties, this variant is not a well-formed XML document. For example, there is no single root element and also &quot;0&quot; is not even a valid name for a tag in XML. It was therefore necessary to choose a different name. This name is &quot;SML&quot;  for &quot;simple markup language&quot;, in allusion to &quot;XML&quot; (&quot;eXtensible markup language&quot;).</p>
<h3>Syntactic properties</h3>
<p>SML demands some syntactic properties which differ from XML. First, it should be mentioned that encoding a file in UTF-8 or UTF-16, as common in XML, unfortunately still may cause problems with many languages when reading these files. Among these languages are at the present time, inter alia, Perl 5 and regrettably PHP 4.  While this might be seen as a failure of the developers and not a property of XML as such, it is still an unacceptable condition, when it comes to initialize an application. Therefore, it is useful for the purpose of the initialization of the framework not to use these encodings (at least for the current moment). Instead ISO Latin-1 is used as default charset. Characters, which are not included in this charset, should be encoded by using proper entities.</p>
<p>Unlike XML the SML syntax does not demand, that a document must contain exactly one single tag as root element. If a document contains a forest of multiple node trees, they are interpreted as child elements of a virtual anonymous root element.</p>
<p>Furthermore the SML format demands that all opened tags need to have a corresponding closing tag. The names of these tags are by definition not case-sensitive.  </p>
<p>There is a convention, that a line break has to be entered after each closing tag. Also by convention, only white-space characters are allowed prior to an opening tag. A tag may either contain character data (CDATA) or other tags, but not both. If the tag is a CDATA-section, both start and end tags need to be in one line. If the tag contains other tags, a line break must be inserted directly after the opening tag. Line breaks in CDATA-section may be inserted by using escape sequences like &quot;\n&quot;.</p>
<p>All CDATA-section outside a tag and all section which do not comply with this syntax are ignored and treated like comments. Unlike XML, no special handling for CDATA-sections or comments is demanded.</p>
<p>It is not allowed to use the XML-like syntax for empty tags &quot;&lt;br /&gt;&quot; (use &quot;&lt;br&gt;&lt;/br&gt;&quot; instead).</p>
<p>Finally, the SML format uses no attributes by definition.</p>
<p>The reason for these rather restrictive syntax will become clearer with the following example.</p>
<h4>Example</h4>
<p>The following examples will be described, how native data types in PHP scripts are represented by the SML format.</p>
<h5>scalar variables</h5>
<div class="box">
<pre><code>
<b>Presentation in PHP-code:</b>
&lt;?php
$a = 1;
$b = 'string';
$c = 12.5;
$d = true;
?&gt;
<b>equivalent presentation in SML:</b>
<span style="color: #000080">&lt;a&gt;</span>1<span style="color: #000080">&lt;/a&gt;</span>
<span style="color: #000080">&lt;b&gt;</span>string<span style="color: #000080">&lt;/b&gt;</span>
<span style="color: #000080">&lt;c&gt;</span>12.5<span style="color: #000080">&lt;/c&gt;</span>
<span style="color: #000080">&lt;d&gt;</span>true<span style="color: #000080">&lt;/d&gt;</span></code></pre>
</div>
<p>At this point, it is important to understand a syntactic constraint of PHP. A PHP function may have only one single return value. (The case that the function takes it's parameter by reference is not considered here.) A PHP function the reads the contents of a SML document, is thus forced to return the (multi-dimensional) content as an array. The contents of this array can be copied to variables within the context of the calling program fragment, so that the initial condition is restored.</p>
<p>To a second example: Documents in JSO-notation are subject to the same restrictions.</p>
<h5>numeric data fields</h5>
<div class="box">
<pre><code><b>Presentation in PHP-code:</b>
&lt;?php
$A = array();
$A[0] = 1;
$A[1] = 'string';
$A[2] = 12.5;
$A[1000] = true;
$B = array();
$B[0] = 2;
?&gt;
<b>equivalent presentation in SML:</b>
<span style="color: #000080">&lt;A&gt;
    &lt;0&gt;</span>1<span style="color: #000080">&lt;/0&gt;
    &lt;1&gt;</span>string<span style="color: #000080">&lt;/1&gt;
    &lt;2&gt;</span>12.5&lt;<span style="color: #000080">/2&gt;
    &lt;1000&gt;</span>true<span style="color: #000080">&lt;/1000&gt;
&lt;/A&gt;
&lt;B&gt;
    &lt;0&gt;</span>2<span style="color: #000080">&lt;/0&gt;
&lt;/B&gt;</span></code></pre>
</div>
<h5>associative data fields</h5>
<div class="box">
<pre><code><b>Presentation in PHP-code:</b>
&lt;?php
$SCREEN = array();
$SCREEN[&quot;width&quot;] = 1024;
$SCREEN[&quot;height&quot;] = 768;
$SCREEN[&quot;depth&quot;] = &quot;32-Bit&quot;;
?&gt;
<b>equivalent presentation in SML:</b>
<span style="color: #000080">&lt;SCREEN&gt;
    &lt;width&gt;</span>1024<span style="color: #000080">&lt;/width&gt;
    &lt;height&gt;</span>768<span style="color: #000080">&lt;/height&gt;
    &lt;depth&gt;</span>32-Bit<span style="color: #000080">&lt;/depth&gt;
&lt;/SCREEN&gt;</span></code></pre>
</div>
<h5>multi-dimensional and mixed data fields</h5>
<div class="box">
<pre><code><b>Presentation in PHP-Code:</b>
&lt;?php
$A = array();
$A[&quot;a&quot;] = 1;
$A[&quot;b&quot;] = 2;
$A[0] = &quot;three&quot;;
$B = array();
$B[0] = true;
$B[&quot;a&quot;] = 1000;
$B[&quot;b&quot;] = array();
$B[&quot;b&quot;][0] = 1;
$B[&quot;b&quot;][1] = 2;
$B[&quot;b&quot;][&quot;a&quot;] = 3;
?&gt;
<b>equivalent presentation in SML:</b>
<span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">three</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;
&lt;</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1000</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;
</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;</span></span></code></pre>
</div>
<p>As can be seen from the above examples, the format is well suited to store scalar variables and data fields, which are used as parameters for the initialization of the framework. The specification of a data type is not necessary, because PHP is not strictly typed. The type of a variable is chosen dynamically at runtime. The only essential distinction is between scalar values, and data fields. This distinction can be easily made based on the syntax.</p>
<h3>Alternatives to SML</h3>
<p>There are a number of popular alternatives to the SML format used in this framework. The following section describes some of these alternatives, compares and discusses the results.</p>
<p>Below several aspects will be discussed:</p>
<p>Since it can be predicted, that some users may want to edit configuration files by hand, the readability of their source code is crutial. The syntax should be intuitive. This is particularly important, since at the present time a graphical interface can only be provided for a subset of the configuration settings of the framework. Given the wealth of options, it seems unlikely that a full coverage can be achieved already in the near future. Also it is questionable, wether this is desirable. Finally, it should also be taken into account that in principle experienced users may decide deliberately and intentionally to ignore the functions of a &quot;cumbersome&quot; GUI, because they feel like it is slowing them down.</p>
<p>An interesting factor is the performance, because the task to initializate the framework may be time critical. As the files are read on each call of the framework, the process of reading must be efficient. While it does not always make sense to try to compare the &quot;speed&quot; of different implementations, it should not be avoided where it is possible.</p>
<p>Also it might be usefull to take a look at the limitations of a file format. If there are K.O. factors for a certain format under certain precondition, this should be mentioned.</p>
<h4>XML parser</h4>
<p>One of the powers of XML is it's portability to other programming languages. Parser for XML are integrated in nearly all modern dialects. However, this is no extra value when the data meant to initialize a framework, which is only available in a special programming language.</p>
<p>The current tool of choice for handling XML files, which is available in both versions 4 and 5 of PHP is the native XML parser. However, this XML parser has a weakness. It may only read, but not write, XML files. A standard component for writing XML files is available with PHP version 5.</p>
<p>Also it is to be mentioned that to get an array from a XML file using the XML parser wouldn't require less effort than it was to write the whole script to read SML files. It also comes with the risk that the implementation of the XML parser might be subject to change in a later version of the language (as any other third-party implementation) even if this is unlikely to happen. In addition there are no real advantages of this implementation, other than the fact, that XML is a popular dialect and widely accepted.</p>
<p>Let us shed some light on the performance. However, this is anything but straightforward and all results might as well be subject to discussions, as they are dependent on the tool used. There are many of the them for the XML format, even if you restrict your search to PHP.</p>
<p>In the following scenario, a simple XML document is to be loaded and put into a data field.</p>
<p>Here isthe source code used for the XML document.</p>
<div class="box">
<pre><code><span style="font: 10pt Courier New;"><span class="xml1-processinginstruction">&lt;?xml version=&quot;1.0&quot;?&gt;
</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">channel</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Test</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">language</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">de-de</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test item 1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[test item]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">1</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test item 2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:53 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[test item]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">2</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test item 3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[test item]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">3</span><span class="xml1-symbol">&quot;&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Linktest</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:36 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[test item]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">     </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span></span></code></pre>
</div>
<p>Now the same in SML format.</p>
<div class="box">
<pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">channel</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Test</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">language</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">de-de</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">language</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item 1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item 2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:53 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">2</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item 3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">2</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">3</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Linktest</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:36 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test item</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">                     </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">test author</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;
</span><span class="xml1-text">             </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">3</span><span class="xml1-symbol">&gt;
&lt;/</span><span class="xml1-elementname">channel</span><span class="xml1-symbol">&gt;</span> &lt;Se</span></code></pre>
</div>
<p>For comparison, PHP 4 with the standard XML parser will be used. Before and after each parser step the command &quot;microtime&quot; will be used to measure the time. The difference between these values will be given in milliseconds. It is not important to see how many milliseconds on implementation is faster than the other. Obviously you can't judge this by this kind of testing, since the procedure is far too rudimentary to produce representative results.</p>
<p>The configuration of the test system can be neglected in this case, since only the magnitude of the difference between the two techniques should be considered.</p>
<p>It's even more problematic, that hand-write PHP-Code is needed to have the XML parser handle the tags. Therefor it might be possible that less performant PHP code could have an impact on the results. To avoid this the XML parser will be measured two times: first with and second without the implementation.</p>
<p>This test does not aim to vote pro or contra the use of this XML parser. The aim of the tests is therefore not a vote for or against the use of the XML parser. Much more it should show whether there are clear differences between the two versions. In particular, whether the SML variant may not be suitable for the framework, because of poor perfomance.</p>
<p>For this modest task this simple test should provide sufficiently accurate results.</p>
<table summary="Comparison of the performance of XML parser and SML script (excerpt)" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0" width="766">
<colgroup><col style="width: 100px;"/><col style="width: 100px;"/><col style="width: 100px;"/><col style="width: 150px;"/><col style="width: 150px;"/></colgroup>
<thead> <tr valign="top">
<th> XML-Parser <a class="sdfootnoteanc" name="sdfootnote1anc" href="#sdfootnote1sym"> <sup>1</sup></a>
</th>
<th> XML-Parser <a class="sdfootnoteanc" name="sdfootnote2anc" href="#sdfootnote2sym"> <sup>2</sup></a>
</th>
<th>SML-Script</th>
<th>Difference <br/> SML to XML <a class="sdfootnoteanc" name="sdfootnote1anc0" href="#sdfootnote1sym"> <sup>1</sup></a> </th>
<th>Difference <br/> SML to XML <a class="sdfootnoteanc" name="sdfootnote2anc0" href="#sdfootnote2sym"> <sup>2</sup></a> </th>
</tr>
</thead> <tbody>
<tr valign="top">
<td> 0,003685s</td>
<td> 0,001813s</td>
<td> 0,001626s</td>
<td> -0,001153s (31%)</td>
<td> -0,000187s (10%)</td>
</tr>
<tr valign="top">
<td> 0,003410s</td>
<td> 0,001666s</td>
<td> 0,001255s</td>
<td> -0,002155s (63%)</td>
<td> -0,000411s (24%)</td>
</tr>
<tr valign="top">
<td> 0,003367s</td>
<td> 0,001629s</td>
<td> 0,001312s</td>
<td> -0,002055s (61%)</td>
<td> -0,000317s (19%)</td>
</tr>
<tr valign="top">
<td> 0,003394s</td>
<td> 0,001614s</td>
<td> 0,001240s</td>
<td> -0,002154s (63%)</td>
<td> -0,000374s (23%)</td>
</tr>
<tr valign="top">
<td> 0,003381s</td>
<td> 0,001618s</td>
<td> 0,001228s</td>
<td> -0,002153s (63%)</td>
<td> -0,000390s (24%)</td>
</tr>
<tr valign="top">
<td> 0,003386s</td>
<td> 0,001613s</td>
<td> 0,001400s</td>
<td> -0,001986s (59%)</td>
<td> -0,000213s (13%)</td>
</tr>
<tr valign="top">
<td> 0,003387s</td>
<td> 0,001620s</td>
<td> 0,001296s</td>
<td> -0,002091s (61%)</td>
<td> -0,000324s (20%)</td>
</tr>
<tr valign="top">
<td> 0,003658s</td>
<td> 0,001617s</td>
<td> 0,001247s</td>
<td> -0,002411s (65%)</td>
<td> -0,000370s (22%)</td>
</tr>
<tr valign="top">
<td> 0,003678s</td>
<td> 0,001633s</td>
<td> 0,001454s</td>
<td> -0,002224s (60%)</td>
<td> -0,000179s (10%)</td>
</tr>
<tr valign="top">
<td> 0,003725s</td>
<td> 0,001613s</td>
<td> 0,001573s</td>
<td> -0,002152s (58%)</td>
<td> -0,000040s (2%)</td>
</tr>
</tbody>
</table>
<p style="font-size: 12px; margin-left: 0cm; margin-right: 0cm; margin-top: 0.21cm; font-style: italic;" align="left">Comparison of the performance of XML parser and SML script (excerpt)</p>
<div id="sdfootnote1">
<p class="sdfootnote"> <a class="sdfootnotesym" name="sdfootnote1sym" href="#sdfootnote1anc">1</a>  XML parser when using a comparable implementation to the one of the SML script</p>
</div>
<div id="sdfootnote2">
<p class="sdfootnote"> <a class="sdfootnotesym" name="sdfootnote2sym" href="#sdfootnote2anc">2</a> XML parser running empty, without processing the input at all</p>
</div>
<p>Considering the above short excerpt of the results, it comes clear that the XML parser with the PHP-code included is clearly less performant than the SML script. As already mentioned, this might also be due to less efficient programming. But when considering column 2 ( &quot;XML parser 2&quot;) compared with column 3 ( &quot;SML script&quot;), you can see that even in this case the SML variant comes close to the values of the XML parser. This is particularly remarkable because the XML parser in this case ran empty and produced no results at all, since no implementation was given to handle the content.  Therefore, the argument that an unfavourable implementation might be slowing down the XML parser, can no longer be maintained.</p>
<p>This test provided no indication that the efficiency of the implementation might have a negative effect on the performance of the entire application.</p>
<h4>SimpleXML</h4>
<p>The use of SimpleXML only slightly differs from that of SML, as the following source code indicates.</p>
<pre class="box">&lt;?php
$sml = SML::getFile(&quot;test.config&quot;);
$xml = simplexml_load_file(&quot;test.xml&quot;);
?&gt;</pre>
<p> <br/>The only obvious difference is the type of the return value. While the SML variant returns an array as result, SimpleXML returns an object of type &quot;SimpleXMLElement&quot;. One might argue which solution is better.</p>
<p>One argument against SimpleXML is that it uses object properties in PHP to represent names of tags and attributes. This is problematic because these may contain different characters in PHP and XML. For example, this concerns the character '-', which may not be included in the name of a variable in PHP. Consequently, at the time of preparing this document, it was very difficult to acces a tag like &lt;foo-bar&gt; via SimpleXML.</p>
<h4>Initialization files</h4>
<p>Initialization files, often abbreviated with the file extension &quot;ini&quot;, are themselves a suitable alternative, unless mapping of complex structures is necessary. For example, the presentation of keys, especially in deeply nested structures, may be confusing. The format provides simple syntax. But the format is not as flexible and powerfull as XML. For example the typical tag-notation, which is currently very popular, is missing. Creating a DTD or a similar file, which describes the structure of the file format is not possible, for practical and theoretical reasons. Still this is no disadvantage. Considering that the primary task of this file format is to store any structured associative data fields taken from a script or programming language, it is clear that demanding a static structure doesn't make sense in this scenario (so does the DTD). A combination, which unites the advantages of both formats in itself, would be ideal.</p>
<p>The following code snippet shows an example of an initialization file.</p>
<div class="box">
<pre><code><b><span style="color: #000080">[STORE\0]</span></b>
type=book
author=Dr. E Xample
<b><span style="color: #000080">[STORE\0\TITLE]</span></b>
main=Proto matter
subtitle=Alpha et Omega
<b><span style="color: #000080">[STORE\1]</span></b>
type=cd
author=Barbara Singer
<b><span style="color: #000080">[STORE\1\TITLE]</span></b>
main=Best-Of</code></pre>
</div>
<h4>JSON</h4>
<p>Another alternative is to use JSON. The following is an example:</p>
<div class="box">
<pre><code><span style="font: 10pt Courier New;"><span class="jscript1-string">&quot;STORE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{
</span><span class="jscript1-space">    </span><span class="jscript1-string">&quot;0&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;type&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;book&quot;</span><span class="jscript1-symbol">,
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;author&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Dr. E Xample&quot;</span><span class="jscript1-symbol">,
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;TITLE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{
</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;main&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Proto matter&quot;</span><span class="jscript1-symbol">,
</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;subtitle&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Alpha et Omega&quot;
</span><span class="jscript1-space">        </span><span class="jscript1-symbol">}
</span><span class="jscript1-space">    </span><span class="jscript1-symbol">},
</span><span class="jscript1-space">    </span><span class="jscript1-string">&quot;1&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;type&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;cd&quot;</span><span class="jscript1-symbol">,
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;author&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Barbara Singer&quot;</span><span class="jscript1-symbol">,
</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;TITLE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{
</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;main&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Best-Of&quot;
</span><span class="jscript1-space">        </span><span class="jscript1-symbol">}
</span><span class="jscript1-space">    </span><span class="jscript1-symbol">}
}</span></span></code></pre>
</div>
<h4>Using &quot;serialize&quot; and &quot;unserialize&quot;</h4>
<p>PHP offers the possibility, like Java, to serialize and restore variables by using the commands &quot;serialize&quot; and &quot;unserialize&quot;.</p>
<p>The following code snippet shows an example.</p>
<div class="box">
<pre>a:1:{s:7:&quot;CHANNEL&quot;;a:7:{s:5:&quot;TITLE&quot;;s:4:&quot;Test&quot;;s:4:&quot;LINK&quot;;s:11:&quot;about
:blank&quot;;s:8:&quot;LANGUAGE&quot;;s:5:&quot;en-us&quot;;i:0;a:4:{s:5:&quot;TITLE&quot;;s:10:&quot;test i
tem 1&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Th, 9 Jun 2005 13:23:18 +0200&quot;;s:11:&quot;DESC
RIPTION&quot;;s:8:&quot;Test item&quot;;s:6:&quot;AUTHOR&quot;;s:11:&quot;Test author&quot;;}i:1;a:4:{s:
5:&quot;TITLE&quot;;s:11:&quot;Test item 2&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Th, 9 Jun 2005 13:
23:53 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:9:&quot;Test item&quot;;s:6:&quot;AUTHOR&quot;;s:11:&quot;
Test author&quot;;}i:2;a:4:{s:5:&quot;TITLE&quot;;s:11:&quot;Test item 3&quot;;s:7:&quot;PUBDATE&quot;;s
:29:&quot;Th, 9 Jun 2005 13:24:18 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:8:&quot;Test item
&quot;;s:6:&quot;AUTHOR&quot;;s:11:&quot;Test author&quot;;}i:3;a:5:{s:5:&quot;TITLE&quot;;s:8:&quot;Linktest
&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Th, 9 Jun 2005 13:24:36 +0200&quot;;s:11:&quot;DESCRIPTIO
N&quot;;s:9:&quot;Test item&quot;;s:4:&quot;LINK&quot;;s:11:&quot;about:blank&quot;;s:6:&quot;AUTHOR&quot;;s:11:
&quot;Test author&quot;;}}}</pre>
</div>
<p>This solution is, without doubt, very performant. The command &quot;unserialize&quot; works app. 2 times faster than SimpleXML. However, the readability of this data stream is problematic. Obviously it is not a good solution for editing the file by hand. As good readability is essential for the Framework, this solutions was not chosen.</p>
<h4>for further reading</h4>
<ol class="roman">
<li>Self-PHP, http://www.selfphp.info</li>
<li>Official PHP website, http://www.php.net</li>
</ol>
<h2>Spam und Flooding</h2>
<h3> Definition</h3>
<p>Unwanted advertising in e-mails, forums and guest books are a current topic. This section will explain what it is and tell some methods used by attackers. Subsequently, it will show what has been done to handle these threats.</p>
<p>There is a fine difference between &quot;Spam&quot; and &quot;Floods&quot;.</p>
<p>The word &quot;Spam&quot;, as it is used here, means the repeated and unrequested transmission of contents to a person or a group. For example, the sending of unsolicited e-mails with promotional content to third parties. Even massive, unsolicited phone calls are a form of &quot;spam&quot;. Sending &quot;spam messages&quot; is illegal in many countries (including Europe and the United States) and will be prosecuted.</p>
<p>The site &quot;spamhaus.org&quot; defined &quot;spam&quot; as follows.</p>
<div class="box">
<p> <cite> The word &quot; <dfn> Spam </dfn> &quot; as
applied to Email means Unsolicited Bulk Email (&quot;UBE&quot;). </cite> </p>
<ol>
<li> <cite> (Bulk) the recipient's personal identity and
context are irrelevant because the message is equally applicable to
many other potential recipient </cite></li>
<li> <cite> (Unsolicited) the recipient has not
verifiably granted deliberate, explicit, and still-revocable permission
for it to be sent </cite></li>
</ol>
<p> <cite> A message is Spam only if it is both
Unsolicited and Bulk. </cite> </p>
</div>
<p>The word &quot;<dfn> Flooding </dfn> &quot; means the deliberate, unsolicited &quot;flooding&quot; of a medium with content. Floods are meant to disturb the normal operation of a medium. For example massive publishing of senseless texts in a public forum. Also, a person, who disturbs a public meeting by permanent interruptions, does a form of flooding. Flooding may be illegal in some cases. For example if it causes economic damage.</p>
<p>In most cases &quot;Spam&quot; is produced to publish advertisements. While &quot;Floods&quot; are at most a form of vandalism.</p>
<h3>Spam in forums and guest books</h3>
<p>Spam in forums and guest books are an increasing problem. This also applies to web logs an wikis. Often, these records are quickly identified and then removed, but the removal of unwanted entries of this kind takes time and money. The following section describes what an attacker could do and ways to react to it.</p>
<p>The attacker might do as follows. First, the attacker might looks for a possibly vulnerable script like a guestbook or forum. He examines the forms that are used to create new entries, and notes the names of the required form fields. The attacker search for specific texts within the targeted application. Using these texts as search terms, the attacker identifies web sites where the script is installed.</p>
<p>The attacker creates a list of URLs for the pages and stores the list in a file. With the help of a short program, the messages are published to all forms on the list.</p>
<p>If the attacker is lucky enough, search engines like Google index these pages before the administrator removes the ad. This way the embedded hyperlinks also increase the PageRank of the so-advertised web sites.</p>
<p>There are multiple ways to react to such attacks.</p>
<h4>Reactive measures</h4>
<p>The easiest way is to simply change the URL. Usually, the scripts of most attackers work asynchronously. Therefore usually he will not recognize so soon that the targeted site is no longer available. You may expect that the attacker might either wait for the search engine to refresh the URL, which might easily take up 8 weeks, or even longer, until he re-visits the site and extracts the new link manually. In both cases, the victim should temporarily be safe.</p>
<p>For the Framework changing the URL is easy and can be done without any difficulties. It is so simple, because the Framework can handle multiple instances, each identified by a unique id, as &quot;configuration profiles&quot; . Which profiles are active and which are not, is set by the administrator.</p>
<p>Thus, to change the URL of an application you only have to rename the profile and correct the links. This is a question of just a few minutes. The positive side effect consists of the fact that the aggressor does not receive an error 404 (side not found) during synchronous transmission, or with examination of the URL over an automatic program from the server. Even by manual examination he does not notice that the profile is inactive. Depending on the configuration of the framework the attacker will continue to submit messages to the inactive forms and (unless the profile is write-protected) write entries.</p>
<p>By personal experience I can report that aggressor may be lead astray for months without noticing their error.</p>
<p>A further measure is to block IPs or IP-ranges. That is above all useful if the aggressor always uses the same proxies for the attacks. Unfortunately this is not often the case. Nonetheless, this possibility was considered and an included as an optional feature for the Framework. This function can also be used for applications that run within a local network, to prevent unauthorized access from the Internet.</p>
<h4>Preventive measures</h4>
<p>In order to prevent from the start that an aggressor can write entries using an automatic program, you may add CAPTCHAs to threatened forms. In order to be able to write an entry, the visitor must type in the shown code. While this is an easy task for a human, it is a lot more difficult for an automatic program.</p>
<p>There are problems that arise from this for the attacker. The program needs to retrieve the code from the server ? even if the code is successfully extracted it requires valueable time. An asynchronous communication is not longer possible: since the request has to be send and the code retrieved. There is also the risk that the attacker's program is slowed down by an intentionally modified server. Also it will cause high effort for the attacker.</p>
<p>It is to be assumed that an aggressor will avoid such protected web applications.</p>
<p>The Framework implements such a check. The standard library provides the actions &quot;security_get_image&quot; and &quot;security_check_image&quot;, that do produce the required graphics in PNG format using the PHP GD library and that do maintain a code table to check the user input. This table is hidden from the public via &quot;.htaccess&quot; and is refreshed automatically.</p>
<h3>Vanadalism and flooding in forums and guest books</h3>
<p>Flooding can be both, unintentional and intended.</p>
<p>This may happen unintentionally if the server temporarily experiences high traffic. In this case it might occur that a user has to wait a longer time for the server's response. Impatience may cause that he refreshes the page and resends the request, which will create a second identical entry. Even if the web site itself gets low traffic, this may still occur, if the web site is hosted on a &quot;shared server&quot;. This is when the web site where the framwork is installed is shared with other customers. It is not uncommon, that 1000 or even 10000 customers on one single server have to share the same resources.</p>
<p>Flooding by intention is often a kind of &quot;vandalism&quot;. Goal of the aggressor is it to disturb and/or to hinder the normal use of the targeted media.</p>
<p> Whether intended or accidental - flooding can be reduced by automated measures.</p>
<h4 class="western">Example Scenario</h4>
<p>Two methods are to be explained, which attackers could try to disturb the operation of the application. First: by entering extremly long character strings without line breaks, lining an excessive chain of line breaks, writing extremly long (senseless) texts in general, or extra large graphics, where all of these contents may break the layout of application. This may cause that parts of the graphical layout are no longer shown as intended by the author of the web site. In addition it could force other users to scroll the page, and the presentation of contributions by other authors may thereby be impaired.</p>
<p>The second method is mass-submission of irrelevant contributions. This will make it difficult for other users, to recognize the important messages and notice their contents. For this attack, the aggressor sends several identical or similar contributions to the server.</p>
<h4 class="western">Prevention of such scenarios</h4>
<p>For the second method, the Framework provides the following solution. When two successive contributions are send, it checks whether the contributions have the same content. If so, the second entry is rejected. This esp. prevents accidental flooding, but also makes attacks in general a little more difficult.</p>
<p>Additionally, there is an option, which allows to restrict the number of consecutive entries written by a user to a certain number. The user is identified by the IP. If the option is active and the user writes more entries than expected the user will be denied further contributions until another user writes an entry.</p>
<p>For the avoidance of the first method the framework provides a number of filters. These filters restrict the length of text, limit the proportions of graphics to maximum values, remove conspicuous repetitions and force line breaks, when a string is more than 80 long.</p>
<p>These methods make the disturbance of the normal operation more difficult, yet they can't offer 100% protection. This would not be desirable anyway. This is due to a well-known dilemma. If one narrows the effective region of the filters, then this reduces the number of the false alarms (&quot;false-positives&quot;). These are those submission which are recognized as flooding-attempts, but in fact are none. At the same time however also a higher number of real attacks will slip by the net of the filters. Conversely: if one expands the target area of the filters, the will prevent a larger number of attacks. However, this will also increase the number of &quot;false-positives&quot; accordingly. Ultimately, it is thus always a &quot;trade-off&quot; between adequate security and reasonable tolerance, to prevent false alarms.</p>
<h3>for further reading</h3>
<ol class="roman">
<li>spamhaus.org</li>
<li>PHP Manual. PHP Documentation Group, 03/23/2005, http://php.net/manual/en/</li>
</ol>
<h2>Encryption</h2>
<p>In order to increase the security of passwords it is reasonable to encrypt these. One-way encryption algorithms [ I ] are well suited for this. In this section two of the most important representatives are explained. In PHP they are implemented by the functions &quot;md5()&quot; and/or &quot;crypt()&quot;.</p>
<h3>DES-algorithm</h3>
<p>The DES-procedure [ II ] was for many years the standard encryption algorithm in the US. With the increasing power of available hardware on the market, the simple DES-algorithm is no longer safe. The multi-encryption variant &quot;Triple-DES&quot; may be considered a more safe modification. As follow-up algorithm for DES the US-american National Institute of Standards selected the so-called RIJNDAEL algorithm AES [ III ].</p>
<p>DES works on the binary representation of the input text. It produces an initial permutation of this binary notation. Subsequently, a block cipher is used for encryption. The DES-algorithm is a Feistel cipher. Feistel ciphers do apply an internal block cipher multiple times on parts of the message, to  create a number of round keys.</p>
<p>For the safety of Feistel ciphers, the safety of the used internal block cipher is of crucial importance. Currently DES may be considered safe enough for most of your everyday-applications and the algorithm is still used in many environments. For example DES is used on Unix systems for the authentication of users.</p>
<h3>MD5-algorithm</h3>
<p>The MD5-algorithm [IV] is a hashing algorithm. Important for the security of a hash process is the property of the collision freedom. A collision is when two different clear texts produce the same cipher text. If a collision is found, it is possible to calculate the plaintext with the help of appropriate procedures. It is known, that MD 5 is not free of collisions. However, it is unknown whether there any compression functions, which have no collisions. Therefore, it is acceptable in practice, if it is sufficiently difficult to find a collision. Such procedures are considered &quot;collision resistent&quot;. Equally important is the speed of the algorithm because the encryption itself should be - in order to be suitable for authentication - most efficient.</p>
<table summary="Comparing the performance of different authentication procedures" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0">
<colgroup><col width="85*"/><col width="85*"/><col width="85*"/></colgroup> <thead> <tr valign="top">
<th width="33%">Name of procedure</th>
<th width="33%">Block length in bits</th>
<th width="33%">Speed percent</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td width="33%"> MD4</td>
<td width="33%"> 128</td>
<td width="33%"> 100</td>
</tr>
<tr valign="top">
<td width="33%"> MD5</td>
<td width="33%"> 128</td>
<td width="33%"> 68</td>
</tr>
<tr valign="top">
<td width="33%"> RIPEMD-128</td>
<td width="33%"> 128</td>
<td width="33%"> 39</td>
</tr>
<tr valign="top">
<td width="33%"> RIPEMD-160</td>
<td width="33%"> 160</td>
<td width="33%"> 24</td>
</tr>
</tbody>
</table>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0.21cm; font-size: 14px; font-style: italic;" align="left">Comparing the performance of different authentication procedures</p>
<p>The security of MD5 is now, however, in doubt [V]. The Heise Verlag first reported in early 2005 that researchers apparently succeeded in creating a faster procedure for the calculation of MD5 hashes [VI] to find collisions. A short time later, the message appeared that it has been able to create different certificates with the same MD5 hash [VII]. Only slightly more than half a year [VIII] a company offered a paid service, to reverse MD5 and SHA1 hashes by using pre-calculated tables, as long as the fee is right. It is therefore only a matter of time before MD5 won't provide enough security for sensitive applications anymore.</p>
<p>Also the safer algorithm SHA-1 [IX], with a bit length of 160-bit as opposed to MD5 with 128-bit, is already broken. As reported by Schneier [X], a group of Chinese cryptologists (Xiaoyun Wang, Yiqun Lisa Yin, Hongbo Yu), from the Shandong University succeeded in finding a collision in SHA-0 and SHA-1. For SHA-0 within 2 <sup>39</sup> steps of operation, for SHA-1 it was 2 <sup>69</sup> steps. This is  much faster than the brute-force approach, with about  2 <sup>80</sup> required steps of operation.</p>
<p>The framework also uses MD5 to encrypt passwords. In addition, SHA-1 is used to generate unique session IDs. A change of password encryption from MD5 to SHA-1 will be considered in due time.</p>
<h4>for further reading</h4>
<ol class="roman">
<li>Prof. Dr. Buchmann, J.: Einführung in die Kryptographie, 2nd edition. Springer-Verlag, 2001, pages 167 ff., 200 ff.</li>
<li> FIPS PUB 197 - ADVANCED ENCRYPTION STANDARD. U.S.
DEPARTMENT OF COMMERCE; National Institute of Standards and Technology,
26.11.2001 <a href="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</a></li>
<li> FIPS PUB 46-3 - DATA ENCRYPTION STANDARD. U.S. DEPARTMENT
OF COMMERCE; National Institute of Standards and Technology, 25.10.1999
<a href="http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf">http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf</a></li>
<li> Rivest, R.: RFC 1321 - The MD5 Message-Digest Algorithm.
MIT Laboratory for Computer Science / RSA Data Security Inc.,1992 <a href="http://www.faqs.org/rfcs/rfc1321.html">http://www.faqs.org/rfcs/rfc1321.html</a></li>
<li> Kaminsky, D.: MD5 To Be Considered Harmful Someday. <a href="http://www.doxpara.com/md5_someday.pdf">http://www.doxpara.com/md5_someday.pdf</a></li>
<li> Forscher erzeugen unterschiedliche X.509-Zertifikate mit
gleichem MD5-Hash. Heise-Verlag, 03.03.2005 <a href="http://www.heise.de/newsticker/meldung/57038">http://www.heise.de/newsticker/meldung/57038</a></li>
<li> Verunsicherung um Sicherheit von Kryptoalgorithmen.
Heise-Verlag, 18.08.2004 <a href="http://www.heise.de/security/news/meldung/50148">http://www.heise.de/security/news/meldung/50148</a></li>
<li> Passwort-Cracker als Bezahldienst. Heise-Verlag,
11.11.2005 <a href="http://www.heise.de/security/news/meldung/66039">http://www.heise.de/security/news/meldung/66039</a></li>
<li> FIPS PUB 180-1 - SECURE HASH STANDARD. U.S. DEPARTMENT OF
COMMERCE; National Institute of Standards and Technology, 17.04.1995 <a href="http://www.itl.nist.gov/fipspubs/fip180-1.htm">http://www.itl.nist.gov/fipspubs/fip180-1.htm</a></li>
<li> Schneier, Bruce: SHA-1 Broken. Weblog, 15.02.2005 <a href="http://www.schneier.com/blog/archives/2005/02/sha1_broken.html">http://www.schneier.com/blog/archives/2005/02/sha1_broken.html</a></li>
</ol>
<!-- END OF BOOK -->
<!-- BEGIN navigation -->
<div class="navline"> <a href="%PREV_URL%" style="position: absolute; left: 75px;"> <img alt="&lt;&lt;" src="data/smr2.gif"/> %PREV_NAME%</a> <a href="index.html">Index</a> <a href="%NEXT_URL%" style="position: absolute; right: 75px;"> %NEXT_NAME% <img alt="&gt;&gt;" src="data/sml2.gif"/></a> </div>
<!-- END navigation -->
<!-- BEGIN document foot -->
<p class="footline"><img alt="Author: " src="data/home.gif" border="0"/>Thomas Meyer, <a title="Yana PHP-Framework home page" href="http://www.yanaframework.net">www.yanaframework.net</a></p>
<!-- END document foot -->
</body></html>