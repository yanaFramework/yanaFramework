<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--*******************************************************************************************{INDEX}********************************************************************************************--><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Yana Framework für PHP</title><link rel="stylesheet" type="text/css" href="data/readme.css" /></head><body><!-- BEGIN document head --><div class="headline"><!-- BEGIN search engine --><div id="search"> <img src="data/icon_search.gif" alt="&#8226;" border="0" /><a target="_blank" href="engine/index.html">Suche</a> </div><!-- END search engine --> <img src="data/sml.gif" alt=" &gt;&gt; " border="0" /><a href="index.html">Inhaltsverzeichnis</a><!-- Document Title --></div><!-- END document head --><!-- BEGIN navigation --><div class="navline"> <a href="%PREV_URL%" style="position: absolute; left: 75px;"> <img alt="&lt;&lt;" src="data/smr2.gif" /> %PREV_NAME%</a> <a href="index.html">Index</a> <a href="%NEXT_URL%" style="position: absolute; right: 75px;"> %NEXT_NAME% <img alt="&gt;&gt;" src="data/sml2.gif" /></a> </div><!-- END navigation --><!-- START OF BOOK --><h1>Allgemeines</h1><h2>Vorwort</h2><div class="box"><p style="font-weight: bold;"> Lieber Leser </p><p> Herzlich Willkommen und vielen Dank, dass Sie sich für Yana entschieden haben. </p><p> In diesem Programm stecken mehrere Jahre mühevollerEntwicklungsarbeit, sowie viele Stunden, welche unzählige helfendeHände investiert haben, um durch Tipps, Vorschläge und Programmtestsdieses Programm stetig zu verbessern. </p><p> Alle diese Stunden haben mir und allen, die an diesem Projektbeteiligt waren, sehr viel Freude bereitet. </p><p> Wir hoffen, dass Ihnen das Ergebnis unserer Arbeit gefällt.Bitte berichten Sie uns von Ihren Erfahrungen.Falls Sie Vorschläge haben stehe ich Ihnen gern via E-Mail zur Verfügung. </p><p style="font-style: italic;"> Thomas Meyer </p></div><h2>Beschreibung</h2><div class="box"><p>Yana ist ein unternehmenstaugliches Framework für PHP mit dem Ziel, Ihren gesamten Entwicklungsprozess zu unterstützten - statt nur MVC zu liefern.</p><p>Diese Software ist eine Entwicklungsplattform für Webanwendungen in PHP, AJAX und SQL.<br />Sie bietet Rapid-Prototyping für einen einfachen, schnellen Start. Entwickler können auf einem simulierten Datenbankserver arbeiten, der automatisch die Datenbank aktualisiert, während sie arbeiten. Um live zu gehen, ist ein Deployment der Datenbank auf einem echten DBS jederzeit möglich. Ihre Webformulare und PHP-Code passen sich automatisch an Datenbankänderungen an. Die Software unterstützt mehrere DBMS - nicht nur MySQL. Sie bietet eine erweiterte Smarty Template-Engine mit Unterstützung für Skins. Professionelle Übersetzter erhalten Unterstützung durch automatisch erzeugte Sprachdateien nach OASIS XLIFF Standard. Entwickler finden eine flexible Pluginarchitektur, um hochgradig variable Softwareprodukte mit vielen Produktvarianten zu erstellen. Die Wartung unterstützen wir durch eingebaute Selbstdiagnose und eine hohe Testabdeckung. Ein grafische Installer ist in Vorbereitung, um Sie in der Deploymentphase durch den Installationsprozess zu führen.</p><p>Yana ist leicht zu erlernen und gut dokumentiert. Videotutorials and ein umfassendes Handbuch mit zahlreichen Abbildungen und Screenshots unterstützen Sie auf Ihren ersten Schritten.</p><ul title="Features"><li>vorinstallierte Beispiele (Gästebuch, Suchmaschine, Blog, ...)</li><li>Login- und Rechteverwaltung für mehrere Benutzer</li><li>vorinstallierter Schutz vor Werbung und Flooding</li><li>Skins und Mehrsprachigkeit</li><li>unterstützte Datenbanksysteme: MySQL, PostgreSQL, IBMDB2, Oracle DB (Oci), MS SQL-Server, Textdateien</li><li>Codegenerator erstellt komplette Basisanwendungen aufKnopfdruck</li><li>zur Laufzeit rekonfigurierbare, frei kombinierbarePlugins</li><li>virtuelle Datenbank simuliert DB-Server bei Bedarf</li><li>umfangreiche Code- und Klassenbibliothek</li><li>AJAX-Unterstützung</li><li>vorbereitet für portablen Betrieb auf CD/DVD</li><li>umfangreiches Handbuch mit Schritt-für-SchrittInstallationsanleitung</li></ul></div><h2><a name="systemvoraussetzungen"></a>Systemvoraussetzungen</h2><div class="box"><p> Damit dieses Programm korrekt arbeitet, müssen folgendeMindestanforderungen erfüllt sein: </p><ul><li>Apache oder ein kompatibler Webserver</li><li>PHP 5.2 oder höher</li><li>mindestens 5 MB freier Speicherplatz</li><li>mindestens 32MB RAM <a href="http://php.net/ini.core#ini.sect.resource-limits" class="verweis">(siehe auch &quot;php.ini-Direktiven: memory_limit&quot;)</a></li></ul><ul><li>Um Datenbankfeatures nutzen zu können, muss zusätzlich PEAR MDB2 installiert sein.</li></ul></div><div class="box"><p> Folgende Konfiguration wird empfohlen: </p><ul><li>aktuelle Xampp-Version (enthält Apache, MySQL, Mailserverund PHP)</li><li>Apache 2.0</li><li>PHP 5 mit PEAR-DB, GD-Library und XML-Parser</li><li>MySQL 5</li></ul></div><h2><a name="compatibility"></a> Kompatibilitätshinweise </h2><p>In diesem Abschnitt finden Sie Hinweise auf Eigenheiten bestimmter Systemkonfigurationen,sowie Informationen zu typischen Konfigurationsfehlern und Ratschläge, die Ihnen helfen können,falls während der Installation Probleme auftreten.</p><div class="box"><ul><li> <span style="font-weight: bold;">MSSQL-Treiberkonfiguration: </span> Nutzer von MSSQL sollten die Treibereinstellungen in &quot;php.ini&quot; prüfen, bevor Sie ein Systemin den Produktivmodus setzen. Achten Sie auf die Einstellung &quot;mssql.textlimit&quot;.Per Default wird dieser Wert auf 4&nbsp;kbyte begrenzt. Prüfen Sie vorab ob dies für Ihren Fall ausreichend ist.Sollten Sie Texte oder Dateien größer als 4&nbsp;kbyte in der Datenbank speichern wollen,passen Sie diese Einstellungen vorab an Ihre Bedürfnisse an.</li><li> <span style="font-weight: bold;">MSSQL-Verbindungsprobleme: </span>Sollten Sie Schwierigkeiten haben sich mitder Datenbank zu verbinden achten Sie außerdem darauf, dass Sie die korrekte Version der Datei&quot;ntwdblib.dll&quot; installiert haben. Die Version welche mit PHP ausgeliefert wird muss nichtpassend für Ihre Version des SQL-Servers sein. Kopieren Sie ggf. die korrekte Datei in Ihr PHP-Verzeichnis.Nähere Informationen finden Sie im PHP-Handbuch unter dem Stichwort MSSQL.</li><li> <span style="font-weight: bold;">PostgreSQL-Verbindungsprobleme: </span> Nutzer von PostgreSQL sollten bei Verbindungsproblemen die Einstellungen der Datei&quot;pg_hba.conf&quot; im Verzeichnis &quot;data&quot; Ihrer Postgres-Instanz prüfen.Diese schränkt den Zugriff auf den Server für externe Nutzer ein und verhindert gegebenenfalls eine Verbindung mit der Datenbank.</li><li> <span style="font-weight: bold;">Safe-Mode: </span> Das Yana Framework ist voll kompatibel zum Safe-Mode von PHP.</li></ul></div><h2>mitgelieferte Dateien</h2><div class="box">Falls Sie Skins, Plugins oder Übersetzungen erstellt haben und diese mit anderen teilen wollen, melden Sie sich.Gern stellen wir interessante Lösungen kostenlos zur Verfügung. </div><img src="data/abb_files.png" alt="mitgelieferte Dateien (siehe Legende)"/><div style="max-width: 750px; float: right;"><table border="0" cellpadding="5" cellspacing="0" summary="Legende" style="width: 100%"><caption>Dateien</caption><tr><td style="background-color: #D6FFC2; width: 20px;"> 1</td><td style="font-family: monospace; width: 200px;">index.php</td><td> Startseite</td></tr><tr><td style="background-color: #C2EBFF"> 2</td><td style="font-family: monospace;">library.php</td><td> lädt Systembibliotheken</td></tr><tr><td style="background-color: #FFEBD6"> 3</td><td style="font-family: monospace;">cli.php</td><td> Kommandozeilenprogramm für Cron-Jobs</td></tr></table><table border="0" cellpadding="5" cellspacing="0" summary="Legende" style="width: 100%"><caption>allgemeine Verzeichnisse</caption><tr><td style="background-color: #ddd; width: 20px;"> 4</td><td style="font-family: monospace; width: 200px;">cache/</td><td> Verzeichnis für temporäre Dateienund Log-Files</td></tr><tr><td style="background-color: #D6FFAD"> 5</td><td style="font-family: monospace;">common_files/smilies/</td><td> hier können neue Emoticonseingefügt werden</td></tr><tr><td style="background-color: #FFFFC2"> 6</td><td style="font-family: monospace;">config/</td><td> Konfigurationsdateien</td></tr><tr><td style="background-color: #f88"> 7</td><td style="font-family: monospace;">includes/</td><td> Yana Kernsystem</td></tr><tr><td style="background-color: #C2EBFF; width: 20px;"> 8</td><td style="font-family: monospace;">languages/</td><td> Übersetzer können hier neueSprachdateien hinzufügen</td></tr><tr><td style="background-color: #ddd"> 9</td><td style="font-family: monospace;">libs/</td><td> weitere Bibliotheken</td></tr><tr><td style="background-color: #FFC2FF"> 10</td><td style="font-family: monospace;">plugins/</td><td> PHP-Programmierer können hiereigene Erweiterungen der Anwendung speichern</td></tr><tr><td style="background-color: #C2FFC2"> 11</td><td style="font-family: monospace;">skins/</td><td> Webdesigner können hierzusätzliche Skins und Layouts für die Anwendung speichern</td></tr></table><table border="0" cellpadding="5" cellspacing="0" summary="Legende" style="width: 100%"><caption>Konfigurationsdateien</caption><tr><td style="background-color: #FFFFC2; width: 20px;"> 12</td><td style="font-family: monospace; width: 200px;">config/db/</td><td> Datenbanken und Konfigurationsdateien</td></tr><tr><td style="background-color: #FFFFC2;"> 13</td><td style="font-family: monospace;">config/profiles/</td><td> Einstellungen des Administrationsmenüs</td></tr><tr><td style="background-color: #FFFFC2"> 14</td><td style="font-family: monospace;">config/dbconfig.php</td><td> Parameter der Datenbankverbindung</td></tr><tr><td style="background-color: #FFFFC2"> 16</td><td style="font-family: monospace;">config/system.config.xml</td><td> Systemkonfiguration</td></tr><tr><td style="background-color: #FFFFC2"> 16</td><td style="font-family: monospace;">config/system.drive.xml</td><td> Pfadangaben zu Systemdateien</td></tr></table></div><div style="clear: both">&nbsp;</div><h1>Copyright und Rechtliches</h1><h2>Lizenzen</h2><div class="box" title="Hinweis zu Lizenzen"><p> <b>Hinweis zu Lizenzen:</b> <br />Das Installationspaket enthält Komponenten unterschiedlicherHersteller.</p><p> <b>"Yana Framework für PHP"</b> von Thomas Meyer<br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="General Public License">GPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="gpl.txt">gpl.txt</a>) einsehen. </p><p> <b>"Handbuch zum Yana Framework"</b> von Thomas Meyer<br />Dieses Handbuch steht unter der Creative Commons Attribution-Licence 3.0.Deren Lizenzbedingungen können Sie hier (<a href="http://creativecommons.org/licenses/by/3.0/de/">creativecommons.org/licenses/by/3.0</a>) einsehen. </p><p> <b>"Smarty Template-Engine"</b> von New DigitalGroup<br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="Lesser General Public License">LGPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="lgpl.txt">lgpl.txt</a>) einsehen. </p><p> <b>"PhpConcept Library - Zip Module"</b> vonVincent Blavet<br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="Lesser General Public License">LGPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="lgpl.txt">lgpl.txt</a>) einsehen. </p><p> <b>"The DHTML Calendar"</b> von Mihai Bazon<br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="Lesser General Public License">LGPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="lgpl.txt">lgpl.txt</a>) einsehen. </p><p> <b>"Tiny MCE"</b><br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="Lesser General Public License">LGPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="lgpl.txt">lgpl.txt</a>) einsehen. </p><p> <b>"SQL-Parser"</b> vonBrent Cook<br />Diese Software steht unter der <abbr title="GNU is Not Unix (rekursives Akkronym)">GNU</abbr><abbr title="Lesser General Public License">LGPL</abbr>.Deren Lizenzbedingungen können Sie hier ( <a href="lgpl.txt">lgpl.txt</a>) einsehen. </p><p> <b>"JQuery"</b> von John Resig<br />Diese Software steht unter der <abbr title="Massachusetts Institute of Technology">MIT</abbr>-Lizenz.Deren Lizenzbedingungen können Sie hier ( <a href="mit.txt">mit.txt</a>) einsehen. </p><p> <b>"Interactive Photo Desk"</b> von Mary Lou<br />Diese Software steht unter der <abbr title="Massachusetts Institute of Technology">MIT</abbr>-Lizenz.Deren Lizenzbedingungen können Sie hier ( <a href="mit.txt">mit.txt</a>) einsehen. </p></div><h2>Zusammenfassung</h2><div class="box" title="Links zum Lizenztext"><a target="_blank" href="http://www.gnu.de/documents/gpl.de.html">Eine deutscheÜbersetzung der GNU GPL v3</a>(rechtlich verbindlich ist nur die englische Originalfassung)</div><div class="box" title="Zusammenfassung"><ul id="license_summary"><li id="author"> Pflicht zur Nennung des Autors<br />Vorhandene Hinweise auf den Autor, Haftungsausschluss, oder die Lizenz dürfen nicht aus der Software entfernt werden.  </li><li id="share"> Recht zur kostenlosen Weitergabe<br />Sie haben das Recht die Software vollständig und kostenlos zu verteilen - auch in P2P-Netzwerken.Jede Kopie muss mindestens eine Kopie des Lizenztextes und den vollständigen, unverschlüsselten und ungekürzten Quellcode enthalten. </li><li id="edit"> Recht zur Änderung und Ergänzung<br />Sie haben das Recht Änderungen und Ergänzungen der Software vorzunehmen.Sie haben die Pflicht, alle von Ihnen vorgenommenen Änderungen eindeutig zu kennzeichnen.Jede von Ihnen vorgenommene Bearbeitung oder Ergänzung unterliegt automatisch den Bestimmungen der GNU GPL und wird dadurch ebenfalls Open-Source Software. </li><li id="sell"> Recht zur kommerziellen Nutzung<br />Sie haben das Recht, die Software auch für kommerzielle Zwecke zu nutzen.Sie können für sich selbst oder andere Personen Erweiterungen oder Anpassungen vornehmen und sich für diese Arbeit bezahlen lassen.Zwar unterliegen Ihre Änderungen am Framework automatisch der GNU GPL und sind damit Open-Source.Für Ihre eigenen Plugins können Sie jedoch die Lizenz frei wählen.  </li></ul></div><div class="box" title="Gerichtsstand und Haftung"><p> Als Gerichtsstand gilt der Wohnort des Autors. </p><p> Sie benutzen diese Software und die beiliegende Dokumentationauf eigene Gefahr. Für jegliche Schäden, welche in Folge der Benutzungdieser Software entstehen könnten übernimmt der Autor keinerleiHaftung. </p></div><h2>An diesem Projekt teilnehmen</h2><div class="box" title="An diesem Projekt teilnehmen"><p> Sie sind herzlich eingeladen, Übersetzungen, Skins oder Quellcode beizutragen.Schreiben Sie einfach eine Mail.Für Fragen steht Ihnen das Forum jederzeit offen. </p><p> Sollten Sie nicht die Möglichkeit haben sich direkt zu beteiligen, sind Spenden stets gern gesehen. </p><table summary="Kontakt"><tr><th>Ansprechpartner:</th><td>Thomas Meyer</td></tr><tr><th>Projektwebsite:</th><td><a href="http://www.yanaframework.net" target="_blank">www.yanaframework.net</a></td></tr><tr><th>Mail für Fragen:</th><td><img alt="" src="data/adress.gif" style="position: relative; top: 3px;" height="13" width="166" /></td></tr></table></div><!-- NEXT CHAPTER --><h1>Installationsanleitung</h1><h2><a name="install1">Variante 1: Installationsassistenten benutzen</a></h2><div class="box"> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis an PHP-Neulinge:</span> Dieses Skript muss auf einem Server mit PHP-Unterstützung installiert werden.Falls noch nicht über solche Software verfügen, finden Sie diese im Internet.</div><div class="box"><p style="font-weight: bold;">Beachten Sie bitte die<a href="#systemvoraussetzungen">Systemvoraussetzungen</a> und<a href="#compatibility">Kompatibilitätshinweise</a>. </p><div style="font-weight: bold;"> Schritt-für-SchrittAnleitung </div><ol><li> Stellen Sie mit Ihrem FTP-Programm eine Verbindung zuIhrem Anbieter her.</li><li> Kopieren Sie die Dateien "install.php", "install.pak" und"yana.zip" in ein Verzeichnis auf Ihren Server</li><li> Setzen Sie die Zugriffsrechte für dieses Verzeichnis überIhr FTP-Programm so, dass es dem Skript später möglich ist, Dateien zulesen oder zu speichern. Unter Unix mit dem Befehl CHMOD&nbsp;777. <span class="verweis"> <a href="#fig5">(siehe&nbsp;Abbildung)</a></span></li><li>Schließen Sie die FTP-Verbindung.</li><li>Öffnen Sie die Datei "install.php" über Ihren Webbrowser</li></ol><p> Sobald Sie das Installationsprogramm gestartet haben solltenSie folgende Seite sehen: </p><img alt="" src="data/screen18.png" border="1" /><p> Zum Fortfahren klicken Sie auf die Schaltfläche "weiter". </p><img alt="" src="data/screen19.png" border="1" /><p> Um mit der Installation fortzufahren, müssen Sie die Lizenzbedingungen akzeptieren.Andernfalls, können Sie die Installation mit der unteren Schaltfläche abbrechen. </p><img alt="" src="data/screen20.png" border="1" /><p> Klicken Sie auf die Schaltfläche "Installation jetzt starten". Klicken Sie anschließend auf "weiter". </p><img alt="" src="data/screen21.png" border="1" /><p> Mit diesem Passwort können Sie das Administrationsmenü der Anwendung aufrufen.Verwenden Sie dazu den Login "Administrator". Das Passwort geben Siebitte erst in das linke Feld ein und wiederholen das im rechten Feld.Klicken Sie anschließend auf "OK". </p><p> Es wird angezeigt, ob die Operation erfolgreich war oder nicht.Klicken Sie anschließend auf "weiter. </p><img alt="" src="data/screen22.png" border="1" /><p> Um sicher zu gehen, dass die Installation erfolgreich war,können Sie eine Selbstdiagnose des Programms durchführen lassen.Klicken Sie dazu auf die Schaltfläche "OK". </p><p> Wenn Sie mit der Installation zufrieden sind, klicken Sie auf "weiter". </p><img alt="" src="data/screen23.png" border="1" /><p> Nach Beendigung der Installation löscht das Programmselbstständig alle erzeugten temporären Dateien. Wenn Sie die Option"Anwendung jetzt starten" markieren, wird anschließend automatisch dasYANA Framework aufgerufen. </p><p> Um die Installation zu beenden klicken Sie auf"Fertigstellen". </p></div><h2><a name="adv_installation"></a>Variante 2: von Hand installieren</h2><div class="box"><p>Beachten Sie bitte die<a href="#systemvoraussetzungen">Systemvoraussetzungen</a> und<a href="#compatibility">Kompatibilitätshinweise</a>. </p><div style="font-weight: bold;"> Schritt-für-SchrittAnleitung </div><ol><li> die Programmdateien finden Sie im Archiv "yana.zip".Entpacken Sie diese Datei mit einem ZIP-Programm Ihrer Wahl.</li><li> Stellen Sie mit Ihrem FTP-Programm eine Verbindung zuIhrem Anbieter her.</li><li> Laden Sie alle Dateien und Verzeichnisse, die zum Programmgehören, in einen Ordner auf Ihrer Homepage und verlinken Sie dieStartseite "index.php" von einer beliebigen Seite Ihrer Homepage aus. </li><li> Setzen Sie die Zugriffsrechte für die Verzeichnisse"config/", "cache/" und die darin enthaltenen Dateien INKLUSIVE derUnterverzeichnisse über Ihr FTP-Programm so, dass es dem Skript spätermöglich ist, Dateien zu lesen oder zu speichern. Unter Unix mit demBefehl CHMOD&nbsp;777. <span class="verweis"> <a href="#fig5">(siehe&nbsp;Abbildung)</a> </span></li><li>Schließen Sie die FTP-Verbindung.</li></ol></div><p class="header">Beispiel: Festlegen der Zugriffsrechte</p><div class="box"><a name="fig5"></a> <img alt="Screenshot" src="data/screen07.png" border="0" /><div class="kommentar"> Abbildung: WS_FTP LE, Win 2000</div><img alt="Screenshot" src="data/screen46.png" border="0" style="margin-top: 2em;"/><div class="kommentar"> Abbildung: Firefox mit Add-on "FireFTP"</div><p style="margin-top: 2em;"> Wenn Sie ein anderes FTP-Programm verwenden, setzen Sie dieRechte über den FTP-Befehl <code> CHMOD 777 </code>.Oder versuchen Sie es über die Onlinehilfe Ihres Programms unter dem Stichwort "CHMOD". </p></div><h2><a name="install2"></a>Variante 3: manuelle Installation auf einem eigenen Server</h2><div class="box"> <img src="data/icon1.gif" alt="" style="margin-right: 5px; float: left;" /> <span style="font-weight: bold;"> Hinweis: </span> DieseAnleitung richtet sich an fortgeschrittene Anwender. <br />Sollten Sie Probleme haben, lesen Sie bitte zuerst den Abschnitt für <a href="#install1">Einsteiger</a>. </div><div class="box"><p> Die Installation erfolgt in mehreren Schritten: </p><ol><li> Dekomprimierung der bereitgestellten Archivdatei. Zubeachten ist, dass Groß- und Kleinschreibung berücksichtigt wird unddie gespeicherten Dateipfade ebenfalls wiederhergestellt werden.</li><li> Übertragung der dekomprimierten Daten unterBerücksichtigung der Pfadstruktur in das HTDOCS-Verzeichnis des ApacheWebservers. Verwenden Sie dazu eine geeignete Software Ihrer Wahl.Sollten Sie direkt am Server arbeiten können, ist dies in der Regelentweder Kommandozeile oder ein Dateimanager. Andernfalls in der Regelein FTP-Client. Die erforderlichen Einstellungen für die FTP-Verbindungerfragen Sie bitte bei Bedarf bei Ihrem zuständigen Administrator.</li><li> Beachten Sie unter Unix- beziehungsweise unterLinux-Betriebssystemen, dass die Zugriffsrechte für die Softwarekorrekt konfiguriert sind. Diese Software benötigt Leserechte für allemitgelieferten Dateien und Verzeichnisse. Alle Dateien mit der Endung"php" müssen ausführbar sein. Darüber hinaus benötigt die SoftwareSchreibrechte für die Verzeichnisse "config/", "cache/" und alle darinenthaltenen Dateien und Unterverzeichnisse.</li><li> <a name="install_database"></a> <i>Diefolgenden Schritte sind nur erforderlich, falls ein Datenbankpluginverwendet werden soll.</i><ol><li> Einrichten einer neuen Datenbank, sofern keine bereitsexistierende Datenbank verwendet werden soll. Dies kann zum Beispielüber eine geeignete grafische Oberfläche wie PHP MyAdmin erfolgen.Falls dies nicht zur Verfügung steht ist die Bereitstellung über dieKommandozeile von MySQL möglich verwenden Sie dazu folgende Zeile:"CREATE DATABASE guestbook". Die Datenbank kann eine andere Bezeichnungals die hier verwendete erhalten. Beachten Sie jedoch bitte Groß- undKleinschreibung. Für weitere Details zur MySQL Syntax empfehle ich dieLektüre des kostenlos verfügbaren MySQL-Handbuchs. <span class="verweis"> <a href="#literatur">(sieheLiteraturempfehlungen)</a> </span></li><li> Sofern kein geeigneter Nutzer für die betreffendeDatenbank zur Verfügung steht, legen Sie bitte zu diesem Zweck einenneuen Nutzer an. Dieser Nutzer benötigt Zugriff auf die eben erstellteDatenbank sowie folgende Rechte: SELECT, INSERT, UPDATE, DELETE,CREATE, ALTER. Verwenden Sie dazu die nachstehende SQL-Anweisung:"GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER ON'&lt;Datenbankname&gt;' . * TO"&lt;Nutzername&gt;"@"&lt;Host&gt;" IDENTIFIED BY'&lt;Passwort&gt;';". Passen Sie diese Anweisung an, sofernnotwendig. Ersetzen Sie insbesondere den Namen der Datenbank denNutzernamen, das Passwort und die Adresse des Datenbankservers ("Host")falls erforderlich entsprechend Ihrer aktuellen Konfiguration. NotierenSie sich diese Daten für den späteren Gebrauch. Anmerkung: Sie können,falls dies gewünscht ist, dem Nutzer die Rechte "CREATE" und "ALTER"nach erfolgreicher Installation der Datenbank wieder entziehen.</li></ol></li></ol></div><div class="box"><p> Die wichtigsten Schritte zur Konfiguration der Anwendung: </p><ol><li> Rufen Sie die Startseite "index.php?action=index" mithilfejavascriptfähigen Webbrowser auf.</li><li> Anmelden am System. Klicken Sie den Knopf mit derAufschrift "Login" und melden Sie sich unter der Verwendung desNutzernamen "Administrator" an. Lassen Sie das Feld "Passwort" bittefrei. (Zu Anfang ist noch kein Passwort festgelegt)</li><li> Das Hauptmenü kennt zwei Einstellungen: Anfänger- undExpertenmodus. Sie sollten nun in den Expertenmodus wechseln. NutzenSie dazu den Schalter am Kopf der Tabelle.</li><li> Oberhalb des Hauptmenüs finden Sie eine Menüleiste für dieProfilverwaltung. Diese erlaubt das Anlegen von neuen Profilen, sowiedas Auswählen von bestehenden Profilen. Außerdem finden Sie hier denSchalter zum Leeren des Template-Caches. Dieser bewirkt, dass alle imVerzeichnis "cache/" gespeicherten Dateien gelöscht werden. DieserSchalter kann gelegentlich nützlich sein, falls das Programm sich nacheiner Änderung der Einstellungen nicht wie erwartet verhält. DasHauptmenü selbst untergliedert sich in 2 Spalten. In der rechten Spaltefinden Sie eine Liste aller installierten Komponenten. Diese sind nach3 Kategorien geordnet: Plugins, Skins und Sprachdateien. In der linkenSpalte finden Sie alle Konfigurationseinstellungen der installiertenPlugins. Der Inhalt dieser Spalte ändert sich dynamisch je nachdemwelche Plugins bzw. Anwendungskomponenten installiert worden sind.</li><li> <i>Die folgenden Schritte sind nur erforderlich,falls ein Datenbankplugin verwendet werden soll.</i><ol><li> Wählen Sie aus der Profilleiste die"Basiseinstellungen" und klicken Sie anschließend in der linken Spalteauf den Schalter "Datenbank Setup".</li><li> Geben Sie die erforderlichen Daten für die Verbindungzu Ihrem&nbsp;Datenbankserver ein. Diese Daten erhalten Sie beiBedarf bei Ihrem Administrator. Beachten Sie die Hinweise derOnline-Hilfe. (Dies ist der grau gedruckte Text oberhalb desEingabeformulars.) Speichern Sie anschließend die vorgenommenenÄnderungen. Eine detaillierte Anleitung mit Hinweisen zum Vorgehen imFehlerfall finden Sie im Kapitel<a href="#dbadmin">"Plugin: DB-Administration"</a>.</li><li> Die erforderlichen Tabellen werden automatisch erzeugt undmit den Tabellen im Dateisystem synchronisiert.Falls Sie den Vorgang von Hand durchführen wollen,benutzen Sie bitte <a href="#SQLsource">diese passenden SQL-Quelldateien</a>für Ihr DBMS.</li></ol></li><li> Abschließend empfiehlt es sich für das Nutzerkonto"Administrator" ein Passwort zu vergeben. Wählen Sie zu diesem Zweckaus dem Menü "Optionen" den Eintrag "Passwort ändern". Geben Sie einneues Passwort ein und speichern Sie die Änderungen. Anschließendmüssen Sie sich mit dem neuen Passwort erneut am System anmelden.</li><li> Optional empfiehlt es sich, individuelle Einstellungen fürdas Layout der Software vorzunehmen. Diese beeinflussen Aussehen undVerhalten der GUI. Die Optionen zum Editieren dieser Einstellungenfinden Sie in der linken Spalte des Administrationsmenüs. Achten Sieauf die bereitgestellte Online-Hilfe der Software.</li><li> Sollten Sie mit Ihren Einstellungen zufrieden sein,sollten Sie sich aus Sicherheitsgründen durch Klicken auf den Knopf"Logout" vom System abmelden. Dadurch wird Ihre aktive Sessionterminiert. Dies verhindert potentielle Angriffe durch Dritte unterVerwendung Ihrer Session-ID. ("Session&nbsp;Riding")</li></ol></div><div class="downloadbox"><p><a name="SQLsource"></a>SQL-Quelldateienfür manuelle Installation: </p><img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left" /><ul><li> <a href="files/mysql.zip">MySQL</a></li><li> <a href="files/postgres.zip">PostgreSQL</a></li><li> <a href="files/mssql.zip">MS-SQL Server</a></li><li> <a href="files/oracle.zip">Oracle DatabaseServer</a></li><li> <a href="files/db2.zip">IBM DB2</a></li></ul></div><p class="header"><a name="literatur">weiterführende Literatur</a></p><ol class="roman"><li>MySQL Online Dokumentation, http://dev.mysql.com/doc/</li><li>Offizielle PHP Webseite, http://www.php.net</li><li>PHP Security - Manualhttp://www.php.net/manual/en/security.php</li></ol><!-- NEXT CHAPTER --><h1>Erster Login</h1><h2>Administrationsmenü öffnen</h2><div class="box"><p> Öffnen Sie in Ihrem Browser die Datei"index.php?action=index" im Verzeichnis des Programms. <br />Sie werden aufgefordert, sich am System anzumelden und einen Login,sowie das dazu gehörige Passwort einzugeben. <span class="verweis"><a href="#fig6">(siehe&nbsp;Abbildung)</a> </span></p><p class="kommentar"><a name="fig6"></a><img style="border: 0px none" alt="Login: Administrator Passwort:" src="data/screen01.png" /><br />Geben Sie als "Login" den Text "Administrator" ein. </p><p>Falls Sie während der Installation bereits ein Passwort festgelegt haben, müssen Sie dieses nun eingeben.<br />Sollten Sie das Passwort vergessen haben, lesen Sie bitte im Abschnitt "<a href="#password">häufig gestellte Fragen</a>"weiter.</p><p> Bestätigen Sie Ihre Eingabe mit Klick auf "OK".Achten Sie bitte darauf, dass JavaScript in Ihrem Browser aktiviert sein sollte, damit diefolgende Seite korrekt dargestellt werden kann. </p></div><h2>Passwort ändern</h2><div class="box"><p class="kommentar"><a name="fig7"></a><img style="border: 0px none" alt="altes Passwort: neues Passwort: ********" src="data/screen02.png" /></p><p class="kommentar" title="Tipp"> <img src="data/icon3.gif" alt="&#8226;" style="margin: 5px; float: left;" /> <span style="font-weight: bold;"> Tipp: </span> Um zuverhindern, dass jemand Ihr Passwort erraten kann, sollte es mindestenseine Länge von 8 Zeichen haben und mindestens 2 Sonderzeichenenthalten. Leicht zu erraten sind zum Beispiel Geburtstage, Namen vonPersonen oder Tieren und Begriffe, welche in handelsüblichenWörterbüchern zu finden sind. </p><div style="font-weight: bold;"> Schritt-für-SchrittAnleitung </div><ol><li> Scrollen Sie mit der Maus zum Abschnitt "Passwort ändern".</li><li> Falls Sie während der Installation noch kein Passwort festgelegt haben,können Sie das Feld "altes Passwort" frei lassen. <br />Ansonsten geben Sie Ihr altes Passwort hier ein.</li><li> In das Feld "neues Passwort" schreiben Sie bitte einenbeliebigen Text, welchen Sie als Passwort verwenden möchten. <span class="verweis"> <a href="#fig7">(siehe&nbsp;Abbildung)</a></span></li><li>In das Feld "Passwort bestätigen" geben Sie den gleichenText noch einmal ein, um sicher zu gehen, dass Sie sich nicht vertippthaben.</li><li>Klicken Sie auf den Schalter "Änderungen speichern".</li><li>Abschließend werden Sie aufgefordert, sich mit Ihrem neuenPasswort erneut am System anzumelden.</li></ol><p> Notieren Sie sich Ihr neues Passwort und heben Sie es gutauf. </p><p class="kommentar" title="Hinweis"> <img src="data/icon3.gif" alt="&#8226;" style="margin: 5px; float: left;" /> <span style="font-weight: bold;"> Fehlermeldung? </span>Wenn dieZugriffsrechte nicht gesetzt wurden, wie bei der "Installation"beschrieben, wird an dieser Stelle eine Fehlermeldung angezeigt. LesenSie in diesem Fall noch einmal nach, was Sie tun müssen und folgen Sie der Anleitung.</p></div><div class="box"> <span style="font-weight: bold;">Weitere Tipps: </span><ol><li> Klicken Sie im Administrationsmenü auf den Schalter "zuExpertenmodus wechseln" um erweiterte Optionen zu erhalten</li><li> Klicken Sie auf das kleine Symbol mit dem rot/weißen "i"um zusätzliche Informationen zu einem Menü ein-/ oder auszublenden</li><li> Damit Menüs geöffnet oder geschlossen werden können, mussJavaScript aktiviert sein</li><li> Um die Sicherheit zu erhöhen denken Sie bitte daran imHauptmenü auf den Schalter "Logout" zu klicken, wenn Sie IhreEinstellungen beendet haben</li><li> Klicken Sie im Hauptmenü auf den Namen eines Plugins,einer Sprachversion oder eines Skins, um eine Beschreibung zu erhalten</li></ol></div><h2>Das Administrationsmenü verwenden</h2><div class="box"><p>Das Administrationsmenü bietet einen Anfänger- und einen Expertenmodus.Einige Optionen sind nur im Expertenmodus sichtbar.Um vom Anfänger- in den Expertenmodus zu wechseln, klicken Sie auf den Link"zu Expertenmodus wechseln".</p><p class="kommentar"><img style="border: 0px none" alt="Link: zu Expertenmodus wechseln" src="data/screen51.png" /><br />Abbildung: Position des Links zum Umschalten des Betriebsmodus</p></div><h3>Einstellungen im Anfängermodus</h3><div class="box"><p class="kommentar"><img style="border: 0px none" alt="Administrationsmenü im Anfängermodus" src="data/screen52.png" /><br />Abbildung: Optionen des Administrationsmenüs im Anfängermodus</p><p>Hinweis: Installierte Plugins können nur im Expertenmodus aktiviert oderdeaktiviert werden.</p></div><h3>Einstellungen im Expertenmodus</h3><div class="box"><p class="kommentar"><img style="border: 0px none" alt="Administrationsmenü im Expertenmodus" src="data/screen53.png" /><br />Abbildung: Optionen des Administrationsmenüs im Expertenmodus</p></div><h2>Arbeiten mit mehreren Anwendungsprofilen</h2><div class="box"><p> Das Programm verfügt über eine Profilverwaltung, welche esgestattet, mehrere Sätze von Einstellungen (<dfn>Profile</dfn>) gleichzeitig zu betreiben.Verwenden Sie dies, um mehrere Layouts/Webseiten/Abteilungen/Fillialen mit der gleichenInstallation und verschiedenen Einstellungen zu betreiben. </p><p>Beispiel: Dieses Programm kann beliebig vielen Nutzern gleichzeitigjeweils eigene Instanzen der Anwendung zur Verfügung stellen.Bspw. um jedem Nutzer ein eigenes Gästebuch zuzuordnen.Damit diese unterschieden werden können, hat jede Instanz eine <dfn>ID</dfn>welche sie eindeutig identifiziert. Diese Id finden Sie auch in der URL des Browsers, alsoptionalen Parameter "id".</p><p> Über die Option "<dfn>neues Profil anlegen</dfn>" können Sieneue Profile erzeugen. Um neue Profile erzeugen zu können, müssen Sieüber Administratorrechte verfügen. </p><p>Falls ein Profil aufgerufen wird, dass noch nicht existiert, werden wahlweise Defaultwerte verwendet, oder ein Fehler gemeldet.Dies ist abhängig von der Einstellung "<dfn>Community-Freigabe</dfn>" welche Sie im Menü "<dfn>Programmsetup</dfn>" finden.Die Defaultwerte sind im Profil mit dem Namen "<dfn>Basiseinstellungen</dfn>" gespeichert.</p><p>Um das Profil "<dfn>Basiseinstellung</dfn>" (oder ein anderes) zu öffnen, klicken Sie auf "<dfn>Profil wechseln</dfn>". <a href="#fig13">(siehe Abbildung)</a></p><p> <a name="fig13"></a> <img alt="Basiseinstellungen" src="data/screen10.png" /></p><p> Die Basiseinstellungen gelten automatisch für alle aufgerufenenProfile, sofern keine anderen Einstellungen festgelegt sind. Außerdemgelten Sie für alle neu angelegten Profile. Achtung: einige Pluginskönnen Optionen besitzen, die entweder NUR, oder aber überall AUSSER in denBasiseinstellungen abgerufen werden können. </p></div><!-- NEXT CHAPTER --><h1>Häufig gestellte Fragen</h1><h2>Ich habe Probleme mit der automatischen Installation.Kann ich das Programm manuell installieren?</h2><div class="box">Beachten Sie die<a href="#systemvoraussetzungen">Systemvoraussetzungen</a> und lesen Sie denAbschnitt <a href="#adv_installation">&quot;manuelle Installation&quot;</a>.</div><h2>Was kann ich tun, wenn bei der Konfiguration der Datenbankverbindungein Fehler auftritt?</h2><div class="box"><p>Bitte prüfen Sie zunächst, ob Ihre Verbindungsparameterkorrekt sind und der Datenbankserver erreichbar ist. Beachten Sie auch die<a href="#compatibility">Kompatibilitätshinweise</a>, da sich darunterInformationen und Lösungshinweise zu typischen Schwierigkeiten mit einigen DBMSbefinden.</p><p>Sollten die Verbindungsparameter korrekt sein und auch kein Problem mit demDatenbanktreiber oder ein Versionskonflikt vorliegen, können Sie das Problemdurch eine manuelle Installation umgehen. Lesen Sie dazu die<a href="#databaseerrorchecklist">Anleitung für den Fehlerfall</a>.</p><p>Beachten Sie, dass PEAR, PEAR MDB2 und der passende MDB2-Datenbanktreiber,sowie der Datenbanktreiber für PHP installiert sein müssen, um eine Verbindungherstellen zu können.</p></div><h2>Wenn ich die Datei "index.php" aufrufe wird nur der Quellcodeangezeigt. Warum?</h2><div class="box"> Dieses Skript benötigt PHP. Wenn der Quellcode im Browserangezeigt wird dann kann es sein, dass PHP von ihrem Anbieter nichtunterstützt wird. Fragen Sie im Zweifel ihren Anbieter. </div><h2> <a name="password">vergessene Passwörter</a></h2><div class="box"> Wenn Sie als normaler Nutzer Ihr Passwort vergessen haben,schreiben Sie eine Mail an Ihren Administrator. Dieser kann ein neuesPasswort für Sie festlegen. </div><div class="box"><p>Administratoren gehen wie folgt vor um ein neues Passwort festzulegen:</p><ol><li>Öffnen Sie das Administrationsmenü.</li><li>Im Menü &quot;Nutzerverwaltung&quot; / &quot;Nutzerübersicht&quot; finden Sieeine Liste aller Nutzer.<p class="kommentar" align="justify"> <img alt="Nutzerübersicht: hier klicken" src="data/screen47.png" /> <br />Abbildung: Menü &quot;Nutzerübersicht&quot; </p></li><li>Anschließend wird Ihnen eine Liste aller Nutzer angezeigt.Suchen Sie den Namen des Nutzers, welchen Sie bearbeiten wollen und klickenSie auf das Symbol in der Spalte &quot;Nutzername&quot;.<p class="kommentar" align="justify"> <img alt="Nutzer editieren: klicken Sie hier um Details für diesen Nutzer anzuzeigen" src="data/screen48.png" /> <br />Abbildung: Liste aller Nutzer </p></li><li>Unterhalb der Einstellungen finden Sie den Link "Passwort vergessen".Klicken Sie auf diesen Link um ein neues Passwort generieren zu lassen.Das neue Passwort wird dem Nutzer via Mail zugesandt.Achten Sie daher darauf, dass die Mailadresse korrekt ist.<p class="kommentar" align="justify"> <img alt="Nutzer editieren: neues Passwort generieren" src="data/screen14.png" /> <br />Abbildung: neues Passwort generieren </p></li></ol></div><div class="box"><p align="justify">Falls Sie Ihr eigenes Passwortvergessen haben, wenden Sie sich aneinen anderen Administrator. Falls Sie selbst der Administrator sind,dann kann kein neues Passwort generiert werden. Sie haben aber dieMöglichkeit das alte Passwort von Hand zu löschen. </p><p align="justify"> <b>Falls die Installation mitTextdateien arbeitet,</b>verbinden Sie sich bitte via FTP mit Ihrem Konto und laden Sie dieDatei "config/db/user/user.sml" herunter. Editieren Sie diese Datei undersetzen Sie das Passwort durch den Text "UNINITIALIZED". Laden Sie dieDatei dann wieder hoch und setzen Sie die Zugriffsrechte mitCHMOD&nbsp;777. </p><p align="justify"> <b>Falls die Installation miteiner Datenbank arbeitet,</b>verbinden Sie sich mit Hilfe eines geeigneten Programms (zum BeispielPHPmyAdmin für MySQL) mit der Datenbank und editieren Sie die Tabelle"user" und setzen Sie für den Nutzer "ADMINISTRATOR" das Passwort auf"UNINITIALIZED".<br />Alternativ können Sie auch einfach folgende SQL-Anweisung ausführen.<br /><code>UPDATE `user` SET user_pwd = 'UNINITIALIZED' WHERE user_id= 'ADMINISTRATOR';</code><br />(Quotes bitte für das von Ihnen verwendete DBMS anpassen) </p><p align="justify"> Denken Sie bitte daran, anschließendein neues Passwort festzulegen. </p></div><div class="box"><p class="kommentar" align="justify"> <b> <img style="width: 30px; height: 30px; float: left;" src="data/icon1.gif" alt="Beispiel" hspace="10" vspace="10" /> Hinweis:</b>Das echte Passwort wird von diesem Skript niemals als reiner Textgespeichert. Nach der Eingabe wird es stattdessen verschlüsselt. DieseVerschlüsselung funktioniert nur in eine Richtung und ist nichtumkehrbar. Aus diesem Grund ist es nicht möglich, einem Nutzer das vonihm vergessene Passwort zu nennen, sondern es muss stets ein neueserstellt werden. </p></div><h2> <a name="icons">eigene Smilies und Iconseinfügen</a></h2><div class="box"><p align="justify">Suchen Sie die Smilies aus, welche Sieeinfügen möchten. Achten Siebitte darauf, dass diese Grafiken im GIF-Format gespeichert sind. </p><p align="justify"> Kopieren Sie anschließend dieseDateien in das Verzeichnis " <code> common_files/smilies </code>" des Frameworks. </p></div><div class="box"><p align="justify"> Wenn Sie die Smilies von einem anderenVerzeichnis als dem vorgegebenen laden wollen, gehen Sie wie folgt vor.</p><ol><li> Öffnen Sie das Administrationsmenü.</li><li>Wechseln Sie in den Expertenmodus.</li><li> Klicken Sie in der linken Spalte des Hauptmenüs "Optionen"auf "Pogrammsetup".</li><li> Suche Sie den Eintrag "Emoticons laden von". <span class="verweis"> <a href="#fig1"> (sieheAbbildung)</a> </span></li><li> Geben Sie dort das gewünschte Verzeichnis ein.</li><li> Klicken Sie abschließend auf "Änderungen übernehmen".</li></ol><p align="justify"> Sollten Sie mehrere Profile verwenden,müssen Sie evtl. die Einstellungen für alle weiteren Profile ebenfallseditieren. </p><p class="kommentar"><a name="fig1"></a><img alt="" src="data/screen06.png" /> <br />Abbildung: Icons von einem anderen Verzeichnis laden </p></div><h2> <a name="install">Probleme mit der Installation</a></h2><div class="box"><p align="justify"> Lesen Sie den Abschnitt " <a href="#install1">Installation für Anfänger</a> ". DasProgramm verfügt ab Version 2.2 über einen Selbstdiagnosemodus. FallsSie die Installation wie in der Anleitung beschrieben durchgeführthaben, können Sie damit prüfen, ob alle Dateien korrekt installiertsind. </p><p align="justify">Um den Selbstdiagnosemodus zu starten,rufen Sie in Ihrem Browser dasProgramm mit der URL "index.php?action=test" auf. Das Programm wirddann damit beginnen, ein Diagnoseprotokoll zu erstellen. DerSelbstdiagnosemodus testet dabei Verzeichnisse und wichtige Dateien undmeldet Fehler. Diese werden als rot markierte Zeilen im Protokolldargestellt. Falls ein Fehler gefunden wird, lesen Sie dieFehlermeldung und befolgen Sie die Anweisungen. </p><p align="justify"> DerSelbstdiagnosemodus findet einige der typischen Installationsfehler,kann aber selbstverständlich nicht alle möglichen Fehler finden. FallsSie das Programm nach Anleitung installiert haben und trotzdem Problemehaben es in Betrieb zu nehmen, senden Sie mir am besten eine Mail an <img alt="" src="data/adress.gif" style="position: relative; top: 3px;" height="13" width="166" />. Vergessen Sie nicht die URL anzugeben undeine Beschreibung Ihres Problems. Dieses Angebot ist für registrierteNutzer kostenlos. </p></div><h2> <a name="prefix">Verwendung des Datenbankpräfixes</a></h2><div class="box"><p align="justify"> Das Datenbank-Setup bietet eine Option"Präfix der Datenbank" <a href="#fig2">(siehe Abbildung)</a>.Diese Option IST EXPERIMENTELL und dient ausschließlich dem Zweck,zwei Installationen des YANA Framework auf dem gleichen Server und dergleichen Datenbank arbeiten zu lassen, ohne dass diese sich gegenseitigbeeinflussen. In allen Situationen, wo sie nicht benötigt wird, wirdwegen ihres experimentellen Status dringend empfohlen, diese OptionNICHT zu verwenden. </p><p class="kommentar"><a name="fig2"></a><img alt="" src="data/screen27.png" /> <br />Abbildung: experimentelle Option zum Setzen eines Präfixes für dieDatenbankverbindung </p><p align="justify">Eine typische Anwendung für dieseOption wäre, dass Sie von einerälteren auf eine neue Version umsteigen möchten und deshalbvorübergehend zu Testzwecken zwei Installationen betreiben möchten, umdie neue Version im realen Umfeld zu testen, bevor Sie umsteigen. </p><p align="justify"> Falls Sie einPräfix angeben, bedeutet dies auch, dass Sie dieSQL-Installationsdateien im Verzeichnis "config/db/.install" von Handso korrigieren müssen, dass die Tabellen entsprechend des von Ihnengewählten Präfixes benannt sind. Erst danach können Sie die Datenbank wiegewohnt installieren. Für diese Änderung steht zur Zeit noch keineautomatische Behandlung zur Verfügung. Den PHP-Quellcode müssen Siejedoch nicht ändern. </p><p align="justify"> Falls Sie von Ihnenselbst geschriebene Plugins mit handgeschriebenen SQL-Anweisungenverwenden, müssen Sie selbstverständlich auch dort den Quellcode soanpassen, dass die veränderte Benennung der Tabellen berücksichtigtwird. Sollten Sie jedoch die Datenbank-API des Frameworks verwenden undsich Ihre SQL-Anweisungen automatisch erzeugen lassen, dann ist dasEditieren der Dateien nicht notwendig. Das Framework passt Ihr SQL zurLaufzeit automatisch an. </p><p align="justify"> Für die Umstellung derSQL-Installationsdateien sollten Sie 5 bis 15 Minuten einplanen. </p><p align="justify">Falls Sie diese Option versehentlichverwendet und Probleme mit demZugriff auf Ihre Daten haben sollten, dann können Sie die Einstellungvon Hand zurücksetzen. Editieren Sie dazu bitte die Datei"config/dbconfig.php" und ändern Sie den Eintrag in Zeile 9 zu: <code>define('YANA_DATABASE_PREFIX',""); </code> </p><p align="justify"> Anmerkung: in einigen Versionen derAnwendung ist dieses Feature absichtlich deaktiviert. </p></div><h2> <a name="sitemap">Sitemap abschalten</a></h2><div class="box"><p align="justify">Falls Sie nicht die Sitemap alsStartseite der Anwendung verwendenmöchten, ist es möglich diese durch eine andere Seite zu ersetzen -beispielsweise die Startseite eines Plugins Ihrer Wahl. </p><p align="justify"> Öffnen Sie dazu dieDatei "config/system.config.xml" in einem Texteditor Ihrer Wahl und ändernSie den Eintrag "DEFAULT.HOMEPAGE" entsprechend Ihren Wünschen ab<a href="#fig3">(siehe Abbildung)</a>. </p><p class="kommentar"><a name="fig3"></a><img alt="" src="data/screen39.png" /> <br />Abbildung: Ändern der Startseite (Default-Homepage) </p></div><h2> <a name="embtag">Formatierung von Texten ohne HTML</a></h2><div class="box"><p>Falls Sie keine HTML-Eingabe erlauben wollen, haben Sie die Möglichkeit aufEmbTags zur Formatierung von Einträgen zurückzugreifen.</p><table class="syntax"><caption>Welche Möglichkeiten gibt es?</caption><thead> <tr><th> Icon </th><th> Tags </th><th> Beschreibung </th><th> Beispiel </th><th> Ausgabe </th></tr></thead> <tbody><tr><td> <img alt="[b]" src="data/bold.gif" /></td><td> [b]</td><td> Text fett formatieren</td><td> [b]fetter Text[/b]</td><td> <span style="font-weight: bold;"> fetterText </span></td></tr><tr><td> <img alt="[i]" src="data/italic.gif" /></td><td> [i]</td><td> Text kursiv formatieren</td><td> [i]kursiver Text[/i]</td><td> <span style="font-style: italic;">kursiver Text </span></td></tr><tr><td> <img alt="[u]" src="data/underline.gif" /></td><td> [u]</td><td> Text unterstreichen</td><td> [u]unterstrichener Text[/u]</td><td> <span style="text-decoration: underline;">unterstrichener Text </span></td></tr><tr><td> <img alt="[code]" src="data/code.gif" /></td><td> [code]</td><td> Quellcodes einfügen<br />(Code wird nicht ausgeführt, sondern als Text formatiert)</td><td> [code]Text[/code]</td><td> <code style="white-space: pre;">Text</code></td></tr><tr><td> <img alt="[php]" src="data/emb_php.gif" /></td><td> [php]</td><td> PHP-Quellcodes einfügen<br />(Code wird nicht ausgeführt, sondern als Text formatiert)</td><td> [php]print 'Hallo Welt';[/php]</td><td><pre class="box">&lt;?phpprint 'Hallo Welt';?&gt;</pre></td></tr><tr><td> <img alt="[color]" src="data/color.gif" /></td><td> [color]</td><td> legt die Textfarbe fest</td><td> [color=red]Text[/color]</td><td> <span style="color: rgb(255, 0, 0);">Text </span></td></tr><tr><td> <img alt="[mark]" src="data/mark.gif" /></td><td> [mark]</td><td> legt die Hintergrundfarbe fest (Textmarker)</td><td> [mark=yellow]Text[/mark]</td><td> <span style="background-color: rgb(255, 255, 0);">Text </span></td></tr><tr><td> <img alt="[url]" src="data/url.gif" /></td><td> [url]</td><td> Hyperlink einfügen</td><td> [url]www.yanaframework.net[/url]</td><td> <a href="http://www.yanaframework.net" target="_blank">www.yanaframework.net</a></td></tr><tr><td> <img alt="[mail]" src="data/mailto.gif" /></td><td> [mail]</td><td> Mailadressen einfügen</td><td> [mail]mail@domain.tld[/mail]</td><td> <a href="mailto:mail@domain.tld">mail@domain.tld</a></td></tr><tr><td> <img alt="[img]" src="data/image.gif" /></td><td> [img]</td><td> Grafiken einfügen <a href="#sub_1">*</a></td><td> [img]domain.tld/img/image.gif[/img]</td><td> <img alt="[img]" src="data/image.gif" /></td></tr><tr><td> <img alt="[emp]" src="data/emphasize.gif" /></td><td> [emp]</td><td> Text hervorheben</td><td> [emp]Text[/emp]</td><td> <span class="EMPHASIZE"> Text </span></td></tr><tr><td> <img alt="[header]" src="data/header.gif" /></td><td> [h]</td><td> Überschrift einfügen</td><td> [h]Überschrift[/h]</td><td><div class="HIGHLIGHT"> Überschrift </div></td></tr><tr><td> <img alt="[small]" src="data/emb_small.gif" /></td><td> [small]</td><td> reduziert die Schriftgröße</td><td> [small]kleiner Text[/small]</td><td> <span style="font-size: small;"> kleinerText </span></td></tr><tr><td> <img alt="[big]" src="data/emb_big.gif" /></td><td> [big]</td><td> erhöht die Schriftgröße</td><td> [big]großer Text[/big]</td><td> <span style="font-size: large;"> großerText </span></td></tr><tr><td> <img alt="[c]" src="data/emb_c.gif" /></td><td> [c]</td><td> fügt einen Kommentar ein <br />(zum Beispiel zum Schreiben von Signaturen)</td><td> [c]Kommentar[/c]</td><td><div class="kommentar"> Kommentar </div></td></tr><tr><td> <img alt="[hide]" src="data/emb_hide.gif" /></td><td> [hide]</td><td> verbirgt einen Text, bis der Nutzer mit der Mausdarüber fährt</td><td> [hide]das ist ein Geheimnis[/hide]</td><td><div style="border: 1px solid rgb(85, 85, 85); padding: 5px; background-color: rgb(204, 204, 204); color: rgb(204, 204, 204);" onmouseover="this.style.backgroundColor='#F0F0F0'; this.style.color='#333333'" onmouseout="this.style.backgroundColor='#CCCCCC'; this.style.color='#CCCCCC'">dasist ein Geheimnis </div></td></tr><tr><td> <img alt="[wbr]" src="data/emb_wbr.gif" /></td><td> [wbr]</td><td> erlaubt Zeilenumbruch innerhalb eines Wortes</td><td> Schiff[wbr]fahrts[wbr]angestellte</td><td> Schifffahrts <br />angestellte</td></tr><tr><td> <img alt="[br]" src="data/emb_br.gif" /></td><td> [br]</td><td> erzwingt Zeilenumbruch</td><td> Schiff[br]fahrts[br]angestellte</td><td> Schiff <br />fahrts <br />angestellte</td></tr></tbody></table><p class="header">Codebeispiele</p><pre class="codeexample">Um eine Symbolleiste einzublenden:{%embeddedTags%}<img src="data/abb_gui_1.png" alt=""/>Um Embedded-Tags in HTML zu konvertieren:{%$text|embeddedTags%}</pre><p> <a name="sub_1">*</a>YANA unterbindet Angriffe auf Ihre Website durch Cross-Site-Scripting(XSS), weil es nur das Einbinden von Grafiken gestattet, die auf demlokalen Server im Verzeichnis des Frameworks liegen. Die Datei mussaußerdem eine der Dateiendungen "jpeg","jpg","png", oder "gif"besitzen. Sonderzeichen sind nicht gestattet; dadurch wird verhindert,dass ein Angreifer die wahre URL einer Datei durch den geschicktenEinsatz von Escapesequenzen verschleiern kann, um sich so am Schutz desFrameworks vorbei zu schmuggeln. <br /><br />Der Tag [img] ist sinnvoll für Community-Websites, die Ihren Nutzernden Upload eigener Grafikdateien auf den Server gestatten. </p></div><h2>Eigene Embedded-Tags definieren</h2><div class="box"><p class="kommentar" align="justify"> <b> <img style="float: left;" src="data/icon2.gif" alt="Beispiel" hspace="10" vspace="10" /> Warnung:</b>Fehlerhafte Einstellungen können unter Umständen dazu führen, dass dasProgramm nicht mehr korrekt ausgeführt werden kann. Führen Siederartige Änderungen daher niemals direkt an einem Produktivsystemdurch, sondern prüfen Sie Ihre Einstellungen unbedingt zuvor in einerTestumgebung. </p></div><div class="box"><p> Es ist möglich, für jedes Website-Profil individuelle Tagsfestzulegen. Dazu gehen Sie wie folgt vor. </p><ol><li> Öffnen Sie das Verzeichnis "config/profiles" </li><li>Wählen Sie das Profil, welche Sie editieren wollen (zumBeispiel"default.config") und öffnen Sie diese Datei in einem Texteditor IhrerWahl </li><li> Ergänzen Sie den Container "PROFILE" wie folgt.<div style="margin-top: 10px;">Erläuterung der Syntax:<pre class="box"><span style="font-family: Courier New; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br /> ...<br /> &lt;</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br /> &lt;tagname&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;Wert des Attributes "title"&lt;/</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;Benennung&lt;/</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;Bild der Schaltfläche, welche den Tag einfügt&lt;/</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<i>optionaler</i> regulärer Ausdruck zum Umwandeln in HTML&lt;/</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<br /> (Defaultwert = /\[$tagname\](.*)(?:\[\/$tagname\]|$)/Us)<br /> &lt;</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;<i>optionaler</i> Ersatzstring zum Umwandeln in HTML&lt;/2&gt;<br /> (Default = &amp;lt;span class="embtag_tag_{tagname}"&amp;gt;$1&amp;lt;/span&amp;gt;)<br /> &lt;/tagname&gt;<br /> &lt;/</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br />&lt;/</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br /></span></span></pre></div><div style="margin-top: 10px;"> Zum Vergleichfolgendes Beispiel für den Tag "bold":<pre class="box"><span style="font-family: Courier New; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br /> ...<br /> &lt;</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br /> &lt;bold&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;Einfügen von fett formatiertem Text&lt;/</span><span class="mygeneral1-keywords1">TITLE</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;fetter Text&lt;/</span><span class="mygeneral1-keywords1">TEXT</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-string">%SKINDIR%</span><span class="mygeneral1-symbol">/default/styles/tags/b.gif&lt;/</span><span class="mygeneral1-keywords1">IMAGE</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;/\[bold\](.*)\[\/bold\]/Us&lt;/</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&gt;<br /> &lt;</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;&amp;lt;b&amp;gt;$</span><span class="mygeneral1-number">1</span><span class="mygeneral1-symbol">&amp;lt;/b&amp;gt;&lt;/</span><span class="mygeneral1-number">2</span><span class="mygeneral1-symbol">&gt;<br /> &lt;/bold&gt;<br /> &lt;/</span><span class="mygeneral1-keywords3">EMBTAG</span><span class="mygeneral1-symbol">&gt;<br />&lt;/</span><span class="mygeneral1-keywords1">PROFILE</span><span class="mygeneral1-symbol">&gt;<br /></span></span></pre></div></li><li> Speichern Sie Ihre Änderungen. </li><li> Testen Sie die Verwendung Ihres neuen Tags an einemeigenen Formular </li></ol></div><div class="box"><p class="kommentar" align="justify"> <b> <img style="float: left;" src="data/icon1.gif" alt="Beispiel" hspace="10" vspace="10" /> Hinweis:</b> WennSie einen Tag entfernen, so wird der Tag nicht mehr als HTMLdargestellt. Dies betrifft auch solche Daten, welche diesen Tag bereitsfrüher enthalten haben. Beachten Sie auch, dass Sie die Originaltagsnicht entfernen oder ersetzen können. </p></div><h2>Meine Frage war nicht dabei - was kann ich tun?</h2><p> Melden Sie sich mit Ihrer Frage im Internetforum unter<a target="_blank" href="http://yanaframework.net/forum/">yanaframework.net/forum</a>.</p><!-- NEXT CHAPTER --><h1>Erweiterungen</h1><h2>Skins installieren</h2><p> Ein &quot;Skin&quot; ist ein Paket von angepassten Musterseiten und Grafiken.Dieses Paket ändert die Eingabeoberfläche - also das "Look &amp; Feel" Ihrer Anwendung. </p><ol><li> Entpacken Sie das Archiv, welches den Skin enthält in dasSkinverzeichnis der Anwendung. (Standard: "skins/")</li><li>Öffnen Sie Ihr Administrationsmenü. Stellen Sie sicher,dass Sie alsAdministrator angemeldet sind und den Expertenmodus aktiviert haben.</li><li> Im Abschnitt "installierte Skins" sollten Sie den Namen des neu installierten Pakets lesen können.</li><li>Wählen Sie das gewünschte Paket durch Anklicken des Radiobutton(runder Knopf) aus, der neben dem Namen angezeigt wird.&nbsp; <span class="verweis"> <a href="#fig9">(siehe&nbsp;Abbildung)</a></span></li><li> Wenn Sie fertig sind, klicken Sie auf "Änderungen speichern".</li></ol><p class="kommentar"> <a name="fig9"></a><img style="border: 0px solid rgb(255, 255, 255);" alt="Skin wählen" src="data/screen05.png" /></p><p>Die Änderungen werden beim nächsten Aufruf des Programmsaktiv. Sollteder Skin unerwartet nicht aktualisiert werden, leeren Sie imAdministrationsmenü den Server-Cache und versuchen Sie es erneut. </p><p class="header">Tipps zur Fehlerbehebung</p><ol><li> Falls Sie kein Menü "installierte Skins" sehen können,haben Sie vermutlich den Expertenmodus nicht aktiviert</li><li> Falls Sie das Menü, aberkeinen Radiobutton sehen können, haben Sie keine ausreichenden Rechtefür die Installation. Bitten Sie daher einen Administrator darum dieInstallation für Sie durchzuführen.</li><li>Falls Sie die Änderungen nicht speichern können, ist eventuell eineDatei im Verzeichnis "config/" schreibgeschützt.Korrigieren Sie die Zugriffsrechte und versuchen Sie es erneut.</li></ol><h2>Plugins installieren</h2><p> Plugins erweitern Ihre Anwendung um neue Funktionen.</p><ol><li> Entpacken Sie das Archiv, welches das Plugin enthält indas Verzeichnis "plugins/" der Anwendung. Achten Sie darauf keineDateien zu überschreiben, es sei denn, Sie sind gerade dabei ein Pluginauf eine neuere Version zu aktualisieren.</li><li> Öffnen Sie Ihr Administrationsmenü. Stellen Sie sicher,dass Sie als Administrator angemeldet sind und den Expertenmodusaktiviert haben.</li><li>Klicken Sie auf die Schaltfläche "Liste neu laden". <span class="verweis"> <a href="#fig10">(siehe&nbsp;Abbildung)</a></span></li><li> Das neue Plugin wird nun in der Liste erscheinen.Aktivieren Sie es, indem Sie die Checkbox links neben dem Namenanklicken.</li><li> Wenn Sie fertig sind, klicken Sie auf "Änderungenspeichern".</li><li> Manche Plugins haben zusätzliche Optionen. Diese Optionenerscheinen nach der Aktivierung automatisch.</li></ol><p> Um das Plugin später wieder zu deaktivieren, wiederholen Siedie Prozedur und entfernen den Haken von der Checkbox links neben demNamen des Plugins. </p><p class="kommentar"> <a name="fig10"></a><img style="border: 0px solid rgb(255, 255, 255);" alt="Liste der verfügbaren Plugins" src="data/screen08.png" /></p><p class="header">Tipps zur Fehlerbehebung</p><ol><li> Falls Sie kein Menü "Plugins" sehen können, haben Sievermutlich den Expertenmodus nicht aktiviert</li><li> Falls Sie das Menü, aber keinen Checkboxes sehen können,haben Sie keine ausreichenden Rechte für die Installation. Bitten Siedaher einen Administrator darum die Installation für Sie durchzuführen.</li><li>Falls Sie die Änderungen nicht speichern können, ist eventuell eineDatei im Verzeichnis "config/" schreibgeschützt.Korrigieren Sie die Zugriffsrechte und versuchen Sie es erneut.</li></ol><h2>Sprachpakete installieren</h2><p>Sprachpakete enthalten Übersetzungen der Textmeldungen derAnwendung in verschiedene Sprachen. Beispielsweise Deutsch oder Englisch. </p><ol><li>Entpacken Sie das Archiv, welches das Sprachpaket enthältin dasVerzeichnis "languages/" der Anwendung. Achten Sie darauf keine Dateienzu überschreiben, es sei denn, Sie sind gerade dabei ein Paket auf eineneuere Version zu aktualisieren.</li><li> Eine Liste der installierten Sprachpakete finden Sie im Administrationsmenü<span class="verweis"><a href="#fig11">(siehe Abbildung)</a></span>.</li></ol><p class="kommentar"> <a name="fig11"></a><img style="border: 0px none" alt="Sprachpaket auswählen" src="data/screen09.png" /></p><p> Die Änderungen werden beim nächsten Aufruf des Programmsaktiv. </p><h2>Plugin: Gästebuch</h2><h3>Allgemeines</h3><div class="box"><p>Dieses Plugin bietet Ihnen die Möglichkeit ein Gästebuch in Ihre Webseite einzubauen.Über diese Software können Ihnen Ihre Besucher Nachrichten hinterlassen.Diese Nachrichten sind für alle Besucher sichtbar. Sie haben die Möglichkeit, sich beineuen Einträgen per Mail informieren zu lassen. Außerdem sind die neuesten Nachrichten als RSS-Feed abrufbar.</p></div><h3> <a name="plugin_install">Plugin installieren</a></h3><div class="box"><ol><li> Öffnen Sie das Administrationsmenü als Nutzer "Administrator" im Expertenmodus.</li><li> Klicken Sie auf die Schaltfläche "Liste neu laden" um dieListe der installierten Plugins neu zu laden. <span class="verweis"><a href="#fig12"> (siehe Abbildung)</a> </span></li><li> Aktivieren Sie (falls vorhanden) die Plugins"DB-Administration", "Gästebuch" und "Gästebuch Setup".Speichern Sie anschließend Ihre Änderungen.</li><li> Nach erfolgreicher Installation erscheint automatisch derEintrag "Gästebuch" in der Sitemap der Anwendung.</li></ol><p class="kommentar"> <a name="fig12"></a><img alt="" src="data/screen08.png" /></p></div><h3>E.-Mailbenachrichtigungen</h3><div class="box"><p> Klicken Sie in Administrationsmenü auf "Gästebuch Setup". Im Abschnitt"E.-Mailbenachrichtigungen" können Sie festlegen, ob Sie bei neuenEinträgen automatisch per E.-Mail informiert werden wollen. Diese Optionist standardmäßig deaktiviert. Um diese zu aktivieren, klicken Sie aufden Schalter mit dem Text "aktivieren" und geben Ihre E.-Mailadresse indas Feld "Mail senden an" ein. <span class="verweis"> <a href="#fig8">(siehe&nbsp;Abbildung)</a> </span></p><p> Um Ihre Änderungen zu speichern klicken Sie auf den Schalter"Änderungen speichern", oder klicken Sie auf "Abrechen", um zumAdministrationsmenü zurückzukehren, ohne die Änderungen zu übernehmen. </p><p class="kommentar"> <a name="fig8"></a><img style="border: 0px none" alt="Menü zur Einstellung von E.-Mailbenachrichtigungen" src="data/screen04.png" /> <br />Abbildung: Basiseinstellungen editieren </p></div><h3>mehrere Gästebücher</h3><div class="box"><p align="justify"> Das Programm legt normalerweise neueGästebücher bei Bedarf automatisch an. Dabei werden Basiseinstellungenverwendet, welche für alle Gästebücher gleichermaßen gelten (sieheoben). Falls Sie möchten, dass ein Gästebuch ein ganz spezielles Profilvon Einstellungen verwendet, welche von den Basiseinstellungen alleranderen Gästebücher abweichen, gehen Sie wie folgt vor: </p><ol><li> Öffnen Sie in Ihrem Browser das Administrationsmenü.</li><li> Wählen Sie in der Profilverwaltung "neues Profil anlegen".Suchen Sie sich einen passenden Namen für Ihr Gästebuchprofil aus, denSie in das Feld eingeben und speichern Sie das neue Profil. Das Profilwird anschließend automatisch ausgewählt.</li><li> Um die Einstellungen des soeben erstellen Profils zueditieren, wählen Sie den Menüpunkt "Gästebuch Setup".</li></ol><p align="justify"> Ihr neues Gästebuch verlinken Sie so: </p><p align="justify"> <code>index.php?id=foo&amp;action=guestbook_read</code></p><p align="justify"> Wobei Sie statt "foo" den Namen Ihres Gästebuches einsetzen. </p></div><h3>mehrere Layouts für das gleiche Gästebuch</h3><div class="box"><ol><li>Öffnen Sie in Ihrem Browser&nbsp;dasAdministrationsmenü. Achten Sie darauf, dass Sie als Administratorangemeldet sind und dass der Expertenmodus aktiviert ist.</li><li>Wählen Sie das Profil aus, welchen Sie anpassen wollen (verwenden Sie nicht die Basiseinstellungen).</li><li>Öffnen Sie die Option "Programmsetup".</li><li>Im Abschnitt "Datenquelle" gibt es den Eintrag "Datenverwenden von". Dort geben Sie bitte den Namen des Profils an, aufwelches sich das Layout bezieht. Zum Beispiel: wenn Sie das Layout fürdas Gästebuch mit der Id "default" verwenden möchten, dann schreibenSie: " <code> default </code> ".&nbsp; <span class="verweis"> <a href="#fig14"> (sieheAbbildung)</a> </span></li></ol><p class="kommentar" align="justify"><a name="fig14"></a> <img alt="Daten von anderem Profil verwenden" src="data/screen11.png" /><br />Abbildung: Daten von anderem Profil verwenden </p><p align="justify"> Genau so gehen Sie vor mit allenweiteren Layouts, die Sie erzeugen wollen. </p><p align="justify"> Jedes neue Layout verlinken Sie genauso, wie ein echtes Gästebuch: </p><p align="justify"> <code>index.php?id=foo&amp;action=guestbook_read</code></p><p align="justify"> Wobei Sie statt "foo" den Namen desgewünschten Layouts einsetzen. </p></div><h3>Schutz vor unerwünschter Werbung</h3><div class="box"><p> Um Ihr Gästebuch vor unerwünschter Werbung zu schützen stehenIhnen verschiedene Sicherheitsoptionen zur Verfügung. Über das Menü"Gästebuch Setup" können Sie die maximale Anzahl der Einträge proPerson begrenzen. </p><p class="kommentar"> <img alt="Spamschutz" src="data/screen12.png" /> <br />Abbildung: Spamschutz </p><ol><li>Öffnen Sie in Ihrem Browser&nbsp;dasAdministrationsmenü. Achten Sie darauf, dass Sie als Administratorangemeldet sind und dass der Expertenmodus aktiviert ist.</li><li>Öffnen Sie die Option "Gästebuch Setup".</li><li>Scrollen Sie nun zum Abschnitt "Spamschutz". Hier könnenSie mit Hilfe der Auswahlbox die Anzahl der Einträge, welche einePerson nacheinander schreiben darf begrenzen.</li></ol><p> Zusätzliche Sicherheitseinstellungen bietet Ihnen dieVerwendung des Plugins "Anti-Spam". Diese können Sie konfigurieren überdas Menü "Anti-Spam Setup".</p></div><h3> <a name="token_gb">Liste der wichtigstenDatenfelder für Entwickler</a></h3><div class="box"><p> Um die volle Liste zu sehen oder neue Felder einzufügen bzw.alte Felder zu löschen, öffnen Sie die passende Strukturdatei"config/db/guestbook.db.xml". </p><table class="syntax"><thead> <tr><th> Feldname </th><th> Typ </th><th> Pflichtfeld </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> GUESTBOOK_ID</td><td> integer</td><td> ja</td><td> &lt;auto increment&gt;</td><td> Primärschlüssel</td></tr><tr><td> PROFILE_ID</td><td> string</td><td> nein</td><td> default</td><td> Schlüssel des passenden Profils.</td></tr><tr><td> GUESTBOOK_IP</td><td> string</td><td> nein</td><td> &lt;remote address&gt;</td><td> IP des Autors eines Beitrages.</td></tr><tr><td> GUESTBOOK_NAME</td><td> string</td><td> ja</td><td> -</td><td> Name des Autors</td></tr><tr><td> GUESTBOOK_MESSAGE</td><td> string</td><td> ja</td><td> -</td><td> Text des Beitrages</td></tr><tr><td> GUESTBOOK_MAIL</td><td> string</td><td> nein</td><td> null</td><td> Mailadresse des Autors eines Beitrages.</td></tr><tr><td> GUESTBOOK_DATE</td><td> integer</td><td> ja</td><td> &lt;current timestamp&gt;</td><td> Erstellungsdatum eines Beitrages.</td></tr><tr><td> GUESTBOOK_COMMENT</td><td> string</td><td> nein</td><td> null</td><td> Kommentar des Webmasters.</td></tr></tbody></table></div><h2>Plugin: Anti-Spam</h2><h3>Allgemeines</h3><div class="box"><p>Dieses Plugin bietet Schutz vor unerwünschter Werbung. DieserSchutz wirkt sich automatisch auf alle installierten Plugins aus. DieKonfiguration erfolgt über ein zusätzliches "Setup"-Plugin. Dieses fügtdem Administrationsmenü den Menüpunkt "Anti-Spam Setup" hinzu. Überdieses Menü ist es möglich Einstellungen vorzunehmen.<br /></p></div><h3>Einstellungen</h3><div class="box"><br /><p>Um Einstellungen vorzunehmen, gehen Sie wie folgt vor.</p><ol><li>Öffnen Sie in Ihrem Browser&nbsp;dasAdministrationsmenü.</li><li>Öffnen Sie die Option "Anti-Spam&nbsp;Setup".</li><li>Hier können Sie unter Anderem ein sogenanntes "CAPTCHA"aktivieren. Dadurch wird eine Grafik mit einem Text eingeblendet,welchen ein Nutzer abtippen muss, bevor er einen Beitrag abschickendarf.&nbsp; <span class="verweis"> <a href="#fig15">(siehe Abbildung)</a> </span> Um das "CAPTCHA" verwendenzu können, muss die PHP GD-Bibliothek installiert und der PNG-Supportaktiviert sein. Dies ist bei einer Standardinstallation von PHPüblicherweise der Fall. Sollte dies aus irgendwelchen Gründen bei Ihnennicht der Fall sein, bitten Sie Ihren Administrator die fehlendeBibliothek nachträglich zu installieren. Erfahrungsgemäß ist dies beiden meisten Anbietern problemlos möglich.<br /><p class="kommentar"> <img alt="Anti-Spam Setup" src="data/screen42.png" /><br />Abbildung: Anti-Spam Setup </p></li><li>Wählen Sie mindestens die Sicherheitsstufe "mittel", falls Sie das CAPTCHA verwenden möchten.<br />Die <a href="#fig15">folgende Abbildung</a> zeigtein CAPTCHA am Beispiel des Gästebuch-Plugins.</li><li>Sie können die Stufe "benutzerdefiniert" verwenden, um die Einstellungen selbst festzulegen.</li></ol><p class="kommentar"><a name="fig15"></a><img alt="Darstellung des CAPTCHA im Programm" src="data/screen13.png" /><br />Darstellung eines CAPTCHA im Programm. Hier:&nbsp;dasGästebuch-Plugin </p><ol class="roman"><li> CAPTCHA ist eine eng. Abk. für (frei übersetzt) "eineMethode, um zwischen Computern und menschlichen Nutzern zuunterscheiden"</li></ol></div><h2>Plugin: DB-Administration</h2><h3><a name="dbadmin"></a>Allgemeines</h3><div class="box"><p>Dieses Plugin erlaubt es Ihnen, die Verbindungseinstellungen zu IhrerDatenbank zu editieren. Weiterhin können Sie Tabellen installieren,erforderliche Daten übertragen und Backups erstellen.</p></div><h3>Verbindung zur Datenbank herstellen</h3><div class="box"><p class="kommentar"><a name="fig54"></a><img alt="Formular" src="data/screen54.png" /><br />Abbildung: Einstellungen der Verbindung zur Datenbank</p><p>Wählen Sie für die Option "Datenbank benutzen" den Wert "ja", um die eineDatenbankverbindung mit den angegebenen Verbindungsdaten zu verwenden.Die Installation der Datenbank läuft automatisch ab. Sie müssen somit nurim Fehlerfall von Hand eingreifen.</p><div>Beim Aktivieren der Datenbank werdenautomatisch folgende Aktionen durchgeführt:</div><ol><li>Test der Verbindungsparameter</li><li>Verbindung zur Datenbank öffnen</li><li>alle erforderlichen Tabellen installieren</li><li>alle Daten aus dem Dateisystem zur Datenbank übertragen</li></ol><p>Sollte an einem dieser Punkte ein Fehler auftreten, so wird die VerbindungNICHT aktiviert und es wird eine Fehlermeldung angezeigt. Eine genaue Erläuterungdes Fehlers finden Sie im Fehlerprotokoll. Beachten Sie bitte, dass dazu dieProtokollierung aktiviert sein muss (siehe Kapitel<a href="#logging">"Logging und Fehlermeldungen"</a>).</p></div><h3><a name="databaseerrorchecklist"></a>Anleitung für den Fehlerfall</h3><div class="box"><p>Sie können im Fehlerfall die einzelnen Schritte, welche beim Aktivieren derDatenbankverbindung normalerweise automatisch durchgeführt werden, auch manuelldurchführen. Gehen Sie dazu wie folgt vor.</p><ol><li>Prüfen Sie Ihre Verbindungseinstellungen auf Fehler. Falls diese korrektsind, fahren Sie fort.</li><li>Geben Sie die Verbindungsparameter zur Datenbank ein und speichern SieIhre Änderungen. Lassen Sie dabei aber den Wert der Option "Datenbank benutzen"unverändert auf "nein".</li><li>Wählen Sie die Option "Datenbanken installieren". Versuchen Sie diese Aktionauszuführen, indem Sie auf "Abschicken" klicken <a href="#fig55">(sieheAbbildung)</a>. Falls dies erfolgreich ist, fahren Sie mit demnächsten Schritt fort.<br />Sollte ein Fehler auftreten, prüfen Sie bitte mit einem anderen Programm, ob dieTabellen bereits existieren. Falls dies der Fall ist, löschen Sie die Tabellenund versuchen Sie es erneut.<br />Falls die Tabellen nicht existieren, versuchen Sie die Tabellen mit einemanderen Programm zu installieren. Die Quellen dazu finden Sie in der<a href="#SQLsource">"Installationsanleitung"</a>.Falls dies erfolgreich ist, prüfen Sie bitte erneut IhreVerbindungseinstellungen.</li><li>Wählen Sie die Option "Datenbanken synchronisieren". Versuchen Sie zunächstnur die Datenbank "user" zu synchronisieren. Deaktivieren Sie dazu alle anderenOptionen. Versuchen Sie danach die übrigen Datenbanken zu synchronisieren<a href="#fig56">(siehe Abbildung)</a>. Sollte sich dabei ein Fehler ergeben,könnte die Ursache ein Datenfehler sein. Sie können sich dann entscheiden, obsie auf die betroffenen Daten verzichten können. Sollte dies nicht möglich sein,so haben Sie die Möglichkeit die Daten entweder manuell in die Zieldatenbankzu kopieren, oder in der Quelldatenbank zu korrigieren.<br />Sie finden die Quelldaten in Textdateien im Verzeichnis "config/db/name",wobei "name" für den Namen der Datenbank steht. Diese Maßnahme wird nurerfahrenen Nutzern empfohlen.</li><li>Sollten die oben aufgeführten Schritte erfolgreich gewesen sein, so wählenSie die Option "Verbindung zur Datenbank herstellen". Achten Sie darauf,dass Sie im Administrationsmenü den Expertenmodus aktiviert haben. Wählen fürdie Option "Datenbank benutzen" den Wert "ja". Deaktivieren Sie die Optionen"Tabellen automatisch anlegen" und "Datensätze kopieren". Diese Optionen sindnur im Expertenmodus sichtbar. Klicken Sie dann auf "Abschicken"<a href="#fig54">(siehe Abbildung)</a>.</li></ol><p>Bitte beachten Sie auch die<a href="#compatibility">Kompatibilitätshinweise</a>!</p></div><h3>Datenbanken installieren</h3><div class="box"><p class="kommentar" title="Hinweis"><img src="data/icon3.gif" alt="&#8226;" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis: </span> Dieser Schritt wirdnormalerweise automatisch ausgeführt, wenn eine Datenbankverbindung aktiviertwird. Das hier dargestellte Formular dient der manuellen Behandlung imFehlerfall.</p><p class="kommentar"><a name="fig55"></a><img alt="Formular" src="data/screen55.png" /><br />Abbildung: Formular zum installieren der Tabellen</p><p>Es wird versucht, die zu den ausgewählten Datenbanken gehörenden Tabellen aufdem Datenbankserver zu erzeugen. Zu diesem Zweck werden gespeicherteSQL Dateien importiert, passend zum Typ der Datenbank. Voraussetzung ist,dass die Verbindung zur Datenbank vorher korrekt konfiguriert worden ist.Sie sollten die Datenbankverbindung jedoch nicht aktivieren bevor sie dieerforderlichen Tabellen erzeugt haben.</p><p>In seltenen Fällen kann dieser Prozess fehlschlagen. Z.Bsp. wenn: keineVerbindung zum Datenbankserver möglich ist, für das gewählte DBMS kein SQLerzeugt werden kann, das erzeugte SQL fehlerhaft ist, eine andere Tabelle mitder gleichen Bezeichnung bereits existiert, oder der Nutzer nicht ausreichendeRechte zum Erzeugen der Tabellen besitzt. In diesen Fällen muss die Installationvon Hand durchgeführt werden.</p><p>Die erforderlichen SQL-Dateien für das manuelle Erzeugen der Tabellen findenSie im Kapitel <a href="#SQLsource">"Anleitung für Fortgeschrittene" /"Konfiguration"</a>.</p></div><h3>Datenbanken synchronisieren</h3><div class="box"><p class="kommentar" title="Hinweis"><img src="data/icon3.gif" alt="&#8226;" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis: </span> Dieser Schritt wirdnormalerweise automatisch ausgeführt, wenn eine Datenbankverbindung aktiviertwird. Das hier dargestellte Formular dient der manuellen Behandlung imFehlerfall.</p><p class="kommentar"><a name="fig56"></a><img alt="Formular" src="data/screen56.png" /><br />Abbildung: Formular zum Kopieren der Inhalte der Tabellen zur Datenbank</p><p>Die Einträge in den Textdateien und der Datenbank werdenmiteinander abgeglichen. Bei diesem Vorgang werden KEINE Einträge gelöscht odergeändert, sondern lediglich neue hinzugefügt.Bei sehr großen Datenmengen kann es zu einem Timeout kommen.In diesem Fall wiederholen Sie die Prozedur mehrfach, bis alle Daten übertragensind.</p></div><h3>Backup erstellen</h3><div class="box"><p class="kommentar" title="Hinweis"><img src="data/icon3.gif" alt="&#8226;" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis: </span> Diese Option funktioniert nurwenn eine Datenbankverbindung aktiv ist. </p><p class="kommentar"><img alt="Formular" src="data/screen57.png" /><br />Abbildung: Formular um ein Backup der Datenbank zu erstellen</p><p>Benutzen Sie diese Option um eine Sicherungskopie Ihrer Datenbank zuerstellen.</p><dl><dt>SQL-Syntax</dt><dd>der SQL-Dialekt, in welchem die Ausgabe gespeichertwerden soll</dd><dt>Struktur exportieren</dt><dd>gibt an, ob die Tabellenstrukturen gespeichertwerden sollen ("create table ...")</dd><dt>Daten exportieren</dt><dd>gibt an, ob die in den Tabellen enthaltenenDatensätze gespeichert werden sollen</dd><dt>als GZip komprimieren</dt><dd>da Backups sehr groß sein können, haben Siedie Möglichkeit mit dieser Option die Datei vor dem Herunterladen im GZip-Formatzu komprimieren. Dadurch wird die Datei kleiner.</dd></dl></div><h2>Plugin: Suchmaschine</h2><h3>Allgemeines</h3><div class="box"><p> Mit diesem Skript können Sie Ihre Besucher den Inhalt IhrerHomepage durchsuchen lassen. Um es verwenden zu können sind keineProgrammierkenntnisse erforderlich. </p><p> Für die Installation dieses Pakets benötigen Sie die Java VMvon Sun. Dabei handelt es sich um ein kostenloses Produkt, dass Sieunter <a href="http://java.sun.com/" target="_blank">http://java.sun.com</a>herunterladen können. </p></div><h3>Features</h3><div class="box"><ul class="beschreibung"><li>automatische Indexierung über mitgeliefertes Java-Programm </li><li>läuft via Java Virtual-Machine auf allen gängigenBetriebssystemen (Mac, Linux, Windows, ...) </li><li>das Layout kann den eigenen Wünschen angepasst werden </li><li>intelligente Suche, findet bei Suchbegriffen wie "neu" auchTitel wie "Neues" oder "Neuigkeiten" </li><li>mehrseitige Trefferlisten</li><li>integrierte Online-Hilfe und Installationsanleitung </li><li>Auto-Caching für 30 Einträge </li><li>Statistik der 100 häufigsten gesuchten Begriffe </li></ul></div><h3><a name="suchindex"></a>Suchindex erstellen</h3><div class="box"><p>Um eine bessere Geschwindigkeit der Suche zu gewährleisten,erstellt die Suchmaschine ein Verzeichnis der durchsuchbaren Dokumente.Dieses Verzeichnis nennt sich "<dfn>Suchindex</dfn>".Sie haben die Wahl, diesen entweder: 1) offline auf Ihrem eigenen Rechner, oder2) online in Yana erstellen lassen wollen.</p></div><h4>Suchindex offline erstellen</h4><p> Sie müssen die Seiten Ihrer Homepage nicht von Handeintragen. Dem Paket liegt ein kleines Java-Tool bei, dass Ihnen dieseArbeit abnehmen kann. </p><div class="kommentar" align="center"> <img style="border: 0px none" alt="" src="data/abb_search.png" /> <br />Abbildung: graf. Oberfläche zum Erstellen eines Suchindex </div><h5>Installation von Java</h5><div class="box"><p> Um unter Windows herauszufinden, ob Java auf Ihrem System bereitsinstalliert ist, genügt es meist nach der Datei "java.exe" zu suchen.Unter Windows, indem Sie im Startmenü auf "Suchen" &gt; "Dateienund Ordner" gehen. Ist die Datei nicht vorhanden, müssen Sie Javanoch installieren.</p><p> Diese Datei muss nach der Installation außerdem im Systempfad verknüpft sein.Dies können Sie prüfen, indem Sie in der Eingabeaufforderung "java" eingeben.Ihnen sollte nun eine Liste mit Optionen angezeigt werden.Falls nicht müssen Sie die Datei in den Systempfad eintragen.</p><p> Unter Windows-XP erledigen Sie dies in der Systemsteuerungunter "System" &gt; "Erweitert" &gt; "Umgebungsvariablen"&gt; "Systemvariablen". Starten Sie den Rechner anschließend neuund versuchen Sie noch einmal "java" in der Eingabeaufforderungeinzugeben. Sollte auch dies nicht von Erfolg gekrönt sein, bleibtIhnen nichts anderes übrig, als Java neu zu installieren. </p><p> Bei älteren Versionen von Windows editieren Sie bitte die Datei"autoexec.bat". Fügen Sie den folgenden Eintrag hinzu (vorher bitte Kopie anlegen):<br /><code>SET PATH="JAVA-Verzeichnis\bin\java.exe;%PATH%"</code></p><p> Sie können erfahren welche Java-Version Sie installiert haben,indem Sie "java -version" in der Eingabeaufforderung eingeben. </p></div><h5>Indexer starten</h5><p> Starten Sie die Datei start.bat mit Doppelklick. Das Programm hat eine grafischeOberfläche mit vielen bunten Icons und ist weitestgehendselbsterklärend. Es fragt die notwendigen Eingaben von Ihnen ab understellt anschließend per Klick einen Suchindex. </p><h5>Alternativ: Verwendung der Kommandozeile</h5><div class="box"><p style="text-align: left;" class="kommentar"> <img style="margin: 5px; float: left;" alt="" src="data/icon2.gif" /> <span style="font-weight: bold;">Tipp:</span> Sie müssen die Kommandozeile <b>NICHT</b>benutzen. Es existiert eine grafische Nutzeroberfläche, welche Sie mitder Datei "start.bat" ausführen können. Sollte diese jedoch nichtfunktionieren oder es Ihnen lieber ist, können Sie das Programm auchvon der Kommandozeile aus starten. </p></div><p> Sie können die Indexierung über die DOS-Eingabeaufforderung,oder wahlweise mit Hilfe der Datei "suchIndexErstellen.bat" ausführen. </p><p> Diese Datei ist anfangs so eingestellt, dass das aktuelleVerzeichnis inklusive seiner Unterverzeichnisse durchsucht wird.Möchten Sie das ändern, müssen Sie diese Datei editieren oder dasProgramm von Hand über die Eingabeaufforderung starten. Ansonstengenügt es die Datei einfach per Doppelklick auszuführen. </p><div class="box"><p class="kommentar"> <b> In derEingabeaufforderung:</b> </p><p class="kommentar"> java -classpath index.jarsuchindexErstellen VERZEICHNIS VERFOLGEN METATAGS </p><p class="kommentar"> VERZEICHNIS: ist das Verzeichnis,das durchsucht werden soll. Das aktuelle Verzeichnis ist zum Beispiel <b>.\</b>das übergeordnete Verzeichnis <b>..\</b> heißt dasVerzeichnis Homepage, geben Sie <b>homepage\</b> an usw. <br />Bitte verwenden Sie lediglich relative Pfadangaben (also nicht C:\\...)sonst werden die Dateien mit Ihrer Festplatte verknüpft. <br />VERFOLGEN: gibt an, ob die in diesem Verzeichnis enthaltenenUnterverzeichnisse ebenfalls durchsucht werden sollen oder nicht. GebenSie <b>true</b> an falls das geschehen soll oder <b>false</b>falls nicht. <br />METATAGS: gibt an, ob die in den Meta-Tags enthaltenen Keywordsebenfalls gespeichert werden sollen oder nicht. Geben Sie <b>true</b>an, falls Sie dies möchten, oder <b>false</b> falls nicht.</p><p class="kommentar"> &nbsp; <b>Beispiele:</b></p><p class="kommentar"> 1) Wenn sich Ihre Homepage in"C:\Homepage" befindet und die Suchmaschine liegt in"C:\Homepage\suchmaschine" müssen die Java-Dateien in"C:\Homepage\suchmaschine" kopiert werden. Von hier muss auch derAufruf erfolgen (auf der Kommandozeile): </p><p class="kommentar"> <code> java -classpathindex.jar suchindexErstellen ..\ true true </code> </p><p class="kommentar"> 2) Angenommen Ihre Homepage befindetsich in "C:\Homepage", Ihre Suchmaschine befindet sich wieder imVerzeichnis "C:\Homepage\suchmaschine" und Sie möchten aber nur dasVerzeichnis "C:\Homepage\test" ohne seine Unterverzeichnissedurchsuchen. Dann geben Sie folgendes ein: </p><p class="kommentar"> <code> java -classpathindex.jar suchindexErstellen ..\test\ false true </code> </p><p class="kommentar"> 3) Ihre Homepage befindet sich(wieder) in "C:\Homepage", Ihre Suchmaschine befindet sich dieses Malim gleichen Verzeichnis und Sie möchten nur das Verzeichnis"C:\Homepage\test" und seine Unterverzeichnisse - so lautet die Eingabewie folgt: </p><p class="kommentar"> <code> java -classpathindex.jar suchindexErstellen .\test\ true true </code> </p><p class="kommentar"> <b>Startdatei:</b> </p><p class="kommentar"> Öffnen Sie zunächst die Datei <code>suchIndexErstellen.bat </code> mit einem normalen Texteditor(zum Beispiel Notepad). Hier finden Sie genau den gleichen Dateiaufrufwie oben inklusive der Beschreibung. Ändern Sie die Einstellungen IhrenWünschen entsprechend, speichern und starten Sie die Datei. </p></div><h5>Verwendung des Administrationsmenüs zum Upload des Suchindex</h5><ol><li>Öffnen Sie das "Administrationsmenü".</li><li>Stellen Sie sicher, dass das Setup-Plugin der Suchmaschineund die Suchmaschine selbst aktiviert sind.</li><li>Rufen Sie im Optionsmenü das Menü "Suchmaschine Setup" auf.</li><li>Klicken Sie im Menü "offline erstellten Suchindex aufServer kopieren" auf die Schaltfläche "Durchsuchen" um die lokal aufIhrem Rechner gespeicherten Suchdateien auszuwählen</li><li>Klicken Sie auf "OK" um den Upload durchzuführen</li></ol><div class="kommentar" align="center"> <img alt="" src="data/screen44.png" /> <br />Abbildung: Formular im Administrationsmenü zum Upload des Suchindex </div><h4>Suchindex online erstellen</h4><ol><li>Öffnen Sie das "Administrationsmenü".</li><li>Stellen Sie sicher, dass das Setup-Plugin der Suchmaschineund die Suchmaschine selbst aktiviert sind.</li><li>Rufen Sie im Optionsmenü das Menü "Suchmaschine Setup" auf.</li><li>Scrollen Sie zum Abschnitt "Suchindex online erstellen".</li><li>Falls noch nicht geschehen, geben Sie den Namen des Quellverzeichnisses ein, welches Sie durchsuchen wollen.</li><li>Klicken Sie auf "OK" um den Aufbau des Index zu starten.</li></ol><div class="kommentar" align="center"> <img alt="" src="data/screen43.png" /> <br />Abbildung: Administrationsmenü zum Erstellen eines Suchindex </div><h3>Häufig gestellte Fragen</h3><h4>Welche Informationen werden gespeichert?</h4><p> Die Datenbank enthält alle in einem Dokument gefundenenBegriffe, "Keywords" und den Titel der Seite. <br />Die Suche beschränkt sich auf HTML-Dokumente (*.htm, *.html, *.xml,*.shtml). Gespeichert werden neben den gefundenen Suchbegriffen die URLder Seite und die ersten 80 Zeichen als Beschreibung. </p><p> Nicht durchsucht werden außerdem alle Verzeichnisse, derenName mit einem Unterstrich: "_" beginnt. Der Grund ist, dass einigeHomepageprogramme (wie z.Bsp. Frontpage) diese Schreibweise nutzen umSystemverzeichnisse zu markieren, die natürlich nicht durchsucht werdensollen. </p><h4> Einige Dokumente haben sich geändert. Was muss ich tun damit die neuen Dateien gefunden werden?</h4><p> Mit der Datei " <code> suchIndexErstellen.bat </code>" oder " <code> start.bat </code> " einen neuen Suchindexder Homepage erstellen und ins Netz laden. Dabei müssen die altenDateien " <code> keywords.dat </code> " und " <code>documents.dat </code> " ersetzt werden. Falls vorhanden solltenSie den Cache der Suchmaschine leeren indem Sie im Verzeichnis " <code>cache/ </code> " die Datei(en) " <code> *.cache </code>" löschen. </p><h4> Ich habe einen neuen Suchindex erstellt aber es werden immernoch die alten Ergebnisse angezeigt.</h4><p> Das kann passieren, wenn sich noch alte Daten im Cache derSuchmaschine befinden. Löschen Sie dazu im Verzeichnis " <code>cache/ </code> " alle Dateien mit der Endung " <code>*.cache </code> " und versuchen Sie es erneut. </p><h4>Es wird nichts, bzw. 0 Treffer angezeigt.</h4><p> Das Anzeigen der Trefferliste erledigt ein JavaScript. Dasmacht die Suchmaschine extrem schnell und entlastet den Server, weilbeim Blättern durch die Suchergebnisse keine Daten vom Servernachgeladen werden müssen. Allerdings: muss dazu JavaScript in ihremBrowser aktiviert sein. Wenn die Seite leer bleibt prüfen Sie bitte obJavaScript deaktiviert ist oder durch eine Firewall blockiert wird. </p><h4> Was ist der Unterschied zwischen "start.bat", "suchIndexErstellen.bat" und "searchIndex.bat"?</h4><p>Im Verzeichnis "tools" liegen 3 Dateien "start.bat", "suchIndexErstellen.bat" und "searchIndex.bat".Alle tun exakt das gleiche. Nur, dass die Datei "start.bat"eine grafische Oberfläche aufruft, die alle Daten über ein Menü abfragt.Die anderen beiden starten das Programm direkt von der Kommandozeile aus.Dort müssen Sie die Parameter von Hand direkt in der Datei ändern.Dabei zeigt "searchIndex.bat" die Beschreibung der Parameter in Englisch und"suchIndexErstellen.bat" die gleiche Beschreibung in deutscher Sprache an.Wählen Sie die Lösung, die Ihnen am besten gefällt.</p><h4>Ich erhalte eine Fehlermeldung: "Fehler 500 Suchindex nichtgefunden".</h4><p> Vermutlich haben Sie den Suchindex noch nicht erstellt oderdie Dateien im falschen Verzeichnis abgelegt. Wie Sie einen Suchindexerstellen können Sie im Abschnitt <a href="#suchindex">"Suchindexerstellen"</a> lesen. </p><h4>Ich erhalte beim Suchen eine Fehlermeldung: "Fehler 404 Seitenicht gefunden".</h4><p> Vermutlich haben Sie vergessen einige wichtige Dateien, insInternet zu übertragen. Bitte prüfen Sie ob diese Dateien vorhandensind. </p><h4>Ich erhalte beim Suchen eine Fehlermeldung: "Fehler 403Zugriff verweigert".</h4><p> Das kann passieren wenn nicht ausreichende Zugriffsrechtegesetzt sind. Prüfen Sie bitte mit ihrem FTP-Programm ob für die Ordner" <code> cache/ </code> " und " <code> config/ </code>", sowie alle Unterverzeichnisse und Dateien ausreichendeZugriffsrechte (lesen UND schreiben) gesetzt sind. Sie erreichen diesunter UNIX zum Beispiel mit dem Befehl CHMOD 777. Eine detaillierteErläuterung der Zugriffsrechte finden Sie in der Installationsanleitungim Abschnitt für Anfänger. </p><h4> Ich habe versucht die Datei "start.bat" auszuführen, aber eshat nicht funktioniert.</h4><p> Bitte prüfen Sie, ob Sie mindestens Version 1.4.2 der JavaVirtual Machine installiert haben. Geben Sie dazu in derEingabeaufforderung ein "java -version". Sollte Sie eine ältere Versionhaben, laden Sie sich aus dem Netz unter java.sun.com kostenlos eineaktuellere Version der Java Virtual Machine herunter. Oder versuchenSie die Datei "suchIndexErstellen.bat" um das Programm von derKommandozeile aus zu steuern. Das ist zwar nicht so bequem, dafürreicht dann allerdings schon Version 1.3 der Java Virtual Machine aus. </p><h2>Plugin: RSS-to-HTML Factory</h2><h3>Allgemeines</h3><div class="box"><p>Dieses Plugin lädt eine RSS Datei IhrerWahl und erzeugt eine HTML-Seite, die Sie nach Ihren Wünschen anpassenkönnen. Dazu können Sie das Template im Verzeichnis"skins/default/rss/template.html" editieren.</p><p>Das Plugin ist ideal geeignet für Leute,die bereits einen RSS-Feed für ihre Homepage haben oder erstellenmöchten und gleichzeitig (für Leute ohne RSS- Reader) eine Newsseiteanbieten wollen. Mit diesem Plugin spart man sich die doppelte Führungvon Newsseite und RSS-Feed. Anstatt neue Meldungen in HTML und XMLseparat zu schreiben, braucht man nur noch den Feed zu aktualisieren.Die HTML-Seite wird automatisch erzeugt.</p></div><h3>Konfiguration</h3><div class="box"><p> Sie können sich nun eine Testseite ansehen, indem sieindex.php?action=get_news aufrufen</p><p> Wenn Sie einen eigenen RSS-Feed einbinden möchten, dannwählen Sie im Administrationsmenü aus der Spalte "Optionen" den Eintrag"RSS-to-HTML Setup".</p></div><h2>Plugin: Software Development Kit (SDK)</h2><h3>Allgemeines</h3><div class="box"><p>Das SDK unterstützt den Entwickler durcheine grafische Oberfläche. Die grafische Oberfläche führt dabei durchvier Schritte, in denen Aussehen, Verhalten und allgemeineInformationen zur Anwendung und zum Urheber bereitgestellt werdenkönnen.</p></div><h3><a name="plugin_sdk_install"></a>Installation</h3><div class="box"><p> Es wird dringendempfohlen, das SDK nur auf Webservern zu installieren, welche für denöffentlichen Zugriff gesperrt sind. Beispielsweise auf einer lokalenArbeitsstation, welche nicht über Netzwerk erreichbar ist.</p><p>Stellen Sie sicher, dass das Programm Schreibrechte für dieVerzeichnisse "plugins" und "config" besitzt.</p></div><p>Falls Sie eine Einführung in die Benutzung des SDK wünschen, finden Siediese im Kapitel <a href="#developer_plugin">"Plugins und Anwendungenerstellen"</a>. Ein praktisches Anwendungsbeispiel finden Sie im<a href="#mein_erstes_Plugin">Einführungstutorial</a>, in Kapitel 3<a href="#tutorial_new_plugin">"Erstellen eines neuen Plugins"</a>.</p><!-- NEXT CHAPTER --><h1>Anleitung für Entwickler</h1><h2><a name="editor"></a>Bevor Sie beginnen...</h2><div class="box"><ol><li><span style="font-weight: bold;">Bitte schaltenSie immer zuerst den Debug-Modus ein.</span><ol><li>Öffnen Sie die Datei "index.php".</li><li>Ändern Sie diesen Text:&nbsp;<pre>error_reporting(0);</pre>in folgenden Text:&nbsp;<pre>error_reporting(E_ALL);<br />ErrorUtility::setErrorReporting(YANA_ERROR_ON);</pre></li><li>Speichern und schliessen Sie die Datei.</li><li>Bitte deaktivieren Sie den Debug-Modus, bevor Sie die Software auf einen öffentlichen Server laden.</li></ol></li><li><span style="font-weight: bold;">Stellen Sie sicher, dass Sie das <a href="#developer_plugin">Plugin "SDK"</a> installiert und aktiviert haben.</span></li><li><span style="font-weight: bold;">Bitte lesen Sie das </span><a style="font-weight: bold;" href="#mein_erstes_Plugin">Tutorial</a><span style="font-weight: bold;">.</span>&nbsp;</li><li><span style="font-weight: bold;">Beachten Sie die<a href="#API-Dokumentation">API-Dokumentation</a>.</span>&nbsp;</li><li><span style="font-weight: bold;">Code-Beispiele finden Sie im </span><a style="font-weight: bold;" href="#Kochbuch">Kochbuch für Entwickler</a><span style="font-weight: bold;">.</span>&nbsp;</li></ol></div><h2>Editoren für das Yana Framework</h2><h3>Allgemeines</h3><p> Viele Editoren können die Arbeit mit dem Yana Frameworkerleichtern. Um Sie beim Übersetzen, Entwickeln neuer Plugins, oderSchreiben von Skins zu unterstützen, stehen Syntax-Highlighter undCode-Templates für verschiedene Editoren zur Verfügung. </p><p> Der folgende Abschnitt soll Ihnen Beispiele zeigen unddemonstrieren, wie diese Werkzeuge Ihre Arbeit erleichtern können. </p><h3><a name="context"></a>Einbindung in ConTEXT</h3><h4>Installation</h4><div class="box"><p> Für das Editieren der Konfigurationsdateien, Templates undPlugins des Yana Framework stehen Syntax-Highlighter und Code-Templatesfür "ConTEXT" zur Verfügung. ConTEXT ist ein Editor für Programmierer.Sie finden ihn im Internet unter der Adresse <a target="_blank" href="http://context.cx">http://context.cx</a>. DasProgramm ist kostenlos und bietet Unterstützung für weit mehr als 50Programmiersprachen und Dateiformate. Darunter das komplette YanaFramework. </p></div><div class="box"><p> Zur Installation der Highlighter und Templates für das YanaFramework installieren Sie zuerst ConTEXT. Öffnen Sie anschließend dasInstallationsverzeichnis des Editors und kopieren Sie die "ConTEXTHighlighter Files" (*.chl) in das Verzeichnis "Highlighters" und die"ConTEXT Template Files" (*.ctpl) in das Verzeichnis "Template" (sieheAbbildung). Falls Sie ConTEXT noch geöffnet haben, starten Sie denEditor bitte neu. </p><p class="kommentar"> <img alt="" src="data/screen29.png" /> <br />Abbildung: ConTEXT Installationsverzeichnis </p></div><div class="box"><p> ConTEXT bietet die Möglichkeit, die Hilfe des Yana Frameworkaus dem Editor heraus zu nutzen. Um diese Einzubinden gehen Sie wiefolgt vor: </p><p> 1. Öffnen Sie das Menü "Einstellungen" &gt;"Umgebungseinstellungen" </p><p class="kommentar"> <img alt="" src="data/screen33_1.png" /><br />Abbildung: Umgebungseinstellungen öffnen </p><p> 2. Wechseln Sie in das Menü "Verschiedenes" und wählen Sieaus der Liste den Eintrag "Yana Framework" beziehungsweise "YanaFramework Templates" aus. </p><p> 3. Klicken Sie auf die Schaltfläche "bearbeiten". </p><p class="kommentar"> <img alt="" src="data/screen33_2.png" /><br />Abbildung: Hilfedateien zuordnen </p><p> 4. Wählen Sie den Dateityp "all files (*.*)" aus, durchsuchenSie Ihre Festplatte nach der Datei "index.html" dieses Handbuchs undwählen Sie mit der Maus diese Datei aus. </p><p> 5. Klicken Sie auf die Schaltfläche "Öffnen" </p><p class="kommentar"> <img alt="" src="data/screen33_3.png" /><br />Abbildung: Datei "index.html" als Startseite auswählen </p><p> 5. Speichern Sie die Änderung durch Klick auf "OK". </p></div><div class="box"><p> Die erforderlichen Dateien finden Sie auf den folgendenWebseiten: </p><img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left" /><ul><li> <a target="_blank" href="http://www.context.cx">ConTEXT Webseite</a></li><li> <a href="context/yana_config.chl">Highlighter File für Konfigurationsdateien</a></li><li> <a href="context/yana_template.chl">Highlighter File für Templates</a></li><li> <a href="context/Yana%20Framework.ctpl">Vorlagen für Konfigurationsdateien</a></li><li> <a href="context/Yana%20Framework%20Templates.ctpl">Vorlagen für Templates</a></li><li> <a href="context/php.ctpl"> Vorlagen fürPHP-Codes</a></li></ul></div><h4>Verwendung</h4><div class="box"><h5>1. Beispiel: ein Datenbankschema editieren</h5><p> Öffnen Sie eine Konfigurationsdatei (zum Beispiel einDatenbankschema aus dem Verzeichnis yana/config/db/) mit ConTEXT undwählen Sie aus der Liste der Highlighter den Eintrag "Yana Framework". </p><p class="kommentar"> <img alt="" src="data/screen31.png" /> <br />Abbildung: Bearbeiten eines Datenbankschemas mit ConTEXT </p></div><div class="box"><h5>2. Beispiel: ein Template editieren</h5><p> Öffnen Sie ein Template mit ConTEXT und wählen Sie aus derListe der Highlighter den Eintrag "Yana Framework Templates". </p><p class="kommentar"> <img alt="" src="data/screen30.png" /><br />Abbildung: Bearbeiten einer Templatedatei mit ConTEXT </p></div><div class="box"><h5>3. Beispiel: Textbausteine verwenden</h5><p> Zum Einfügen von Code-Templates verwenden Sie dieTastenkombination &lt;CTRL&gt; + &lt;j&gt;, oder wählenSie aus dem Menü "Format" den Eintrag "Textbaustein einfügen". EinAuswahlmenü wird angezeigt. Dieses besteht aus zwei Teilen: Links sehenSie ein Tastenkürzel und rechts eine Beschreibung. Wählen Sie mit derMaus oder den Pfeiltasten einen Baustein aus und drücken Sie&lt;ENTER&gt; zum Einfügen. </p><p> Sie können die Auswahl einzuschränken, indem Sie dieAnfangsbuchstaben eines Bausteins eingeben. Wenn nur 1 passenderBaustein zur Verfügung steht, wird dieser automatisch eingefügt und dasAuswahlmenü wird nicht angezeigt. </p><p> Zum Beispiel: schnelles Erstellen eines Datenbankschemas. </p><ol><li>Öffnen Sie in ConTEXT eine neue Datei</li><li>Wählen Sie den Highlighter "Yana Framework" aus</li><li> Geben Sie ein "db" und drücken Sie &lt;CTRL&gt; +&lt;j&gt; um den Dateirumpf zu erzeugen</li><li> Geben Sie ein "tbl" und drücken Sie &lt;CTRL&gt; +&lt;j&gt; um eine neue Tabelle zu erstellen</li><li> Geben Sie als den Namen der Tabelle ein (beim schließendenTag wiederholen)</li><li> Im Abschnitt "Primary_Key" geben Sie "id" als Namen desPrimärschlüssels an</li><li> Wechseln Sie in den Abschnitt "CONTENT", geben Sie "id"ein und drücken Sie erneut &lt;CTRL&gt; + &lt;j&gt; umautomatisch einen Primärschlüssel zu erzeugen</li><li> Fügen Sie hinter der Spalte "id" auf einer neuen Zeile denText "string" ein und drücken Sie &lt;CTRL&gt; +&lt;j&gt; um eine Spalte vom Typ "string" zu erzeugen</li><li>Benennen Sie die Spalte (beim schließenden Tag wiederholen)</li><li>Im Abschnitt "Description" können Sie den Inhalt der Spaltebeschreiben</li></ol><p> Das Ergebnis demonstriert die folgende Abbildung. </p><p class="kommentar"> <img alt="" src="data/screen32.png" /><br />Abbildung: Erstellen einer neuen Tabelle mit wenigen Handgriffen </p><p> Weitere Abkürzungen können Sie der Auswahlliste entnehmen. </p></div><h3><a name="pspad"></a>Einbindung in PSPad</h3><h4>Installation</h4><div class="box"><p> Für das Editieren der Konfigurationsdateien, Templates undPlugins des Yana Framework stehen Syntax-Highlighter und Code-Templatesfür "PSPad" zur Verfügung. PSPad ist ein Texteditor für Webentwickler.Sie finden ihn im Internet unter der Adresse <a target="_blank" href="http://www.pspad.com">http://www.pspad.com</a>.Das Programm ist als Freeware kostenlos erhältlich. </p><p> PSPad kann auch ohne Installation von einem USB-Stickgestartet werden. </p></div><div class="box"><p> Zur Installation der Highlighter und Templates für das YanaFramework installieren Sie zuerst PSPad. Öffnen Sie anschließend dasInstallationsverzeichnis des Editors und kopieren Sie die "HighlighterFiles" (*.ini) in das Verzeichnis "Syntax" und die "Template Files"(*.def) in das Verzeichnis "Context" (siehe Abbildung). Falls Sie PSPadnoch geöffnet haben, starten Sie den Editor bitte neu. </p><p class="kommentar"> <img alt="" src="data/screen34.png" /><br />Abbildung: PSPad Installationsverzeichnis </p><p> Um die Installation abzuschließen, müssen Sie die neuenDateien in PSPad noch aktivieren. </p><ol><li>Öffnen Sie dazu in PSPad das Menü "Settings" &gt;"Highlighter Settings".</li><li> Klicken Sie auf einen freien Slot (erkennbar durch denText "not assigned")</li><li>Wählen Sie das Menü "Specification" (siehe Abbildung)</li><li> Wählen Sie aus dem Menü "User Highlighters" den Eintrag"Yana Framework" beziehungsweise "Yana Framework Templates"</li><li> Sie aktivieren den Highlighter durch das Anklicken desKästchens neben dem Namen</li><li>Klicken Sie auf "OK"</li></ol><p class="kommentar"> <img alt="" src="data/screen35.png" /><br />Abbildung: Aktivieren der Highlighter </p></div><div class="box"><p> Die erforderlichen Dateien finden Sie auf den folgendenWebseiten: </p><p> <img alt="" src="data/icon-download.png" style="margin: 25px 50px;" align="left" /> </p><ul><li> <a target="_blank" href="http://www.pspad.com">PSPad Webseite</a></li><li> <a href="pspad/Yana%20Framework.ini">Highlighter File für Konfigurationsdateien</a></li><li> <a href="pspad/Yana%20Framework%20Templates.ini">Highlighter File für Templates</a></li><li> <a href="pspad/Yana%20Framework.def">Vorlagen für Konfigurationsdateien</a></li><li> <a href="pspad/Yana%20Framework%20Templates.def">Vorlagen für Templates</a></li><li> <a href="pspad/php.def"> Vorlagen fürPHP-Codes</a></li></ul></div><h4>Verwendung</h4><div class="box"><h5>1. Beispiel: ein Plugin editieren</h5><p> Öffnen Sie eine Plugin-Definitionsdatei (plugins/*.config)mit PSPad. </p><p> Um den Highlighter auszuwählen, klicken Sie auf dieSchaltfläche "Change document syntax highlight" (siehe Abbildung). </p><p class="kommentar"> <img alt="" src="data/screen36.png" /> <br />Abbildung: eine Konfigurationsdatei des Yana Frameworks in PSPad,rechts mit aktivem Code-Browser </p><p> Wählen Sie den Eintrag "Yana Framework" beziehungsweise "YanaFramework Templates" und klicken Sie auf "OK". </p><p class="kommentar"> <img alt="" src="data/screen37.png" /><br />Abbildung: Syntax Highlighter auswählen </p></div><div class="box"><h5>2. Beispiel: Textbausteine (Clips) verwenden</h5><p> Ebenso wie ConTEXT kennt PSPad Textbausteine. Diese werden inPSPad "Clips" genannt und sind über das Tastenkürzel&lt;CTRL&gt; + &lt;SPACE&gt; erreichbar. </p><p> Die Handhabung ist identisch zu ConTEXT. Ein Auswahlmenü wirdangezeigt. Dieses besteht aus zwei Teilen: Links sehen Sie einTastenkürzel und rechts eine Beschreibung. Wählen Sie mit der Maus oderden Pfeiltasten einen Baustein aus und drücken Sie&lt;ENTER&gt; zum Einfügen. </p><p> Sie können die Auswahl einzuschränken, indem Sie dieAnfangsbuchstaben eines Bausteins eingeben. </p><p class="kommentar"> <img alt="" src="data/screen38.png" /><br />Abbildung: Verwendung von "Clips" in PSPad </p></div><h2>Templates und Skins erstellen</h2><h3>HTML-Vorlagen editieren</h3><p> Dieses Programm verwendet Musterseiten, sogenannte"Templates". Was auch immer Sie auf diesen Seiten ändern, ändert auchdas Aussehen und Verhalten der Anwendung. Diese Dateien befinden sichim Skinverzeichnis. Sie können diese Dateien so wie normale HTML-Seitenin Ihrem Webeditor laden und ändern. Zum Ändern der Dateien sind keineHTML-Kenntnisse notwendig, bei größeren Änderungen sind dieseallerdings vorteilhaft. </p><p> In jedem Fall sollten Sie sich Kopien der Originaldateienanlegen, bevor Sie Änderungen vornehmen. </p><div class="box"><h4>Schritt-für-Schritt Anleitung</h4><ol><li>Im Basisverzeichnis Ihrer Anwendung finden Sie einVerzeichnis mit dem Namen "skins/" in diesem Verzeichnis finden Siealle derzeit installierten Skins.</li><li>Um einen neuen Skin anzulegen kopieren Sie zunächst denInhalt des Verzeichnisses "default/" inklusive seinerUnterverzeichnisse in ein neues Verzeichnis mit dem Namen Ihres Skins.Zum Beispiel "skins/meinskin/".</li><li>Öffnen Sie die Datei "index.html" in einem Webeditor IhrerWahl. Sie können dazu auch Notepad bzw. unter Unix/Linux Emacsverwenden.</li><li>Passen Sie Datei Ihren Wünschen an und speichern Sie IhreÄnderungen ab.</li><li>Abschließend müssen Sie eine Konfigurationsdatei für IhrenSkin erstellen. Diese Datei enthält den Namen Ihres Skins, eineBeschreibung zum Autor. Sie können dazu die Datei"skins/default.config" als Vorlage verwenden. Kopieren Sie diese Dateiunter einem neuen Namen. Zum Beispiel "skins/meinskin.config".</li><li>Diese Skindatei können Sie mit einem beliebigen Texteditoreditieren. Öffnen Sie die Datei, ändern Sie die Angaben so, wiegewünscht. Achten Sie darauf, dass die Dateipfade korrekt sind.Speichern Sie anschließend Ihre Änderungen.</li></ol></div><p> Tutorials zum Erstellen eigener&nbsp;Templates finden Sieauf der Smarty-Homepage unter: <a href="http://smarty.net/docs.php" target="_blank">http://smarty.net</a></p><h3> <a name="config">Templates und Skinskonfigurieren</a></h3><p> Wenn Sie nicht nur ein bereits existierendes Templateeditieren, sondern ein neues - oder vielleicht sogar einen neuen Skin -erstellen wollen, dann genügt es nicht, die Template-Dateien zueditieren. Sondern Sie müssen auch die Konfiguration der Templates undSkins verstehen und anwenden. </p><p> Dies ist jedoch sehr einfach und erschöpft sich in zweiKonfigurationsdateien. Eine davon für Ihre neuen Templates und dieandere für Ihren neuen Skin. </p><div class="box"><h4>Konfiguration von Skins</h4><p> Im Folgenden ein einfaches Beispiel. </p><div class="codeexample"><pre>&lt;SKIN_INFO&gt;    &lt;NAME&gt;mein Skin&lt;/NAME&gt;    &lt;DESCRIPTION&gt;das ist eine Beschreibung meines Skins&lt;/DESCRIPTION&gt;    &lt;AUTHOR&gt;mein Name&lt;/AUTHOR&gt;    &lt;CONTACT&gt;meine Webseite&lt;/CONTACT&gt;    &lt;LOGO&gt;%SKINDIR%mein_skin/data/preview.gif&lt;/LOGO&gt;    &lt;DIRECTORY&gt;mein_skin/&lt;/DIRECTORY&gt;&lt;/SKIN_INFO&gt;</pre></div><p> Die Syntax ist weitgehend selbsterklärend. Die Felder "Name","Description" (Beschreibung), "Author" (Autor) und "Contact" (Kontakt) sind Freitext. Für das Feld"Name" können Sie sich einen beliebigen Namen ausdenken, der Ihren Skinbeschreibt. Ebenso beliebig ist das Feld "Description" (Beschreibung). Achten Siedarauf, dass als Whitespace nur Leerzeichen erlaubt sind. Sie könneneinen Zeilenumbruch bei Bedarf einfügen, indem Sie den Text "[br]"verwenden. Das Feld "Author" (Autor) sollte Ihren Namen enthalten und das Feld"Contact" (Kontakt) sinnvollerweise eine Mail- oder Internetadresse, über welcheman Sie erreichen und/oder Updates downloaden kann. </p><p> Das Feld "Logo" gibt eine Vorschaugrafik an. DerPlatzhalter %SKINDIR% bezieht sich auf das Verzeichnis, in welchem dieSkins gespeichert sind und sollte stets angegeben werden. Die Grafiksollte vorzugsweise im GIF-, PNG- oder JPEG-Format gespeichert sein undetwa 300x300 Pixel groß sein. </p><p> Das Feld "Directory" muss stets angegeben werden. Es gibt anin welchem Verzeichnis der Skin gespeichert ist. </p><h4>Konfiguration von Templates</h4><p> Im Folgenden ein einfaches Beispiel. </p><div class="codeexample"><pre>&lt;MY_TEMPLATE&gt;    &lt;FILE&gt;template.html&lt;/FILE&gt;    &lt;STYLE&gt;        &lt;0&gt;style/default.css&lt;/0&gt;        &lt;1&gt;foo1/foo2.css&lt;/1&gt;        &lt;MEIN_CSS&gt;foo3/foo4.css&lt;/MEIN_CSS&gt;    &lt;/STYLE&gt;    &lt;SCRIPT&gt;        &lt;0&gt;foo5/foo6.js&lt;/0&gt;        &lt;MEIN_SCRIPT&gt;foo7/foo8.js&lt;/MEIN_SCRIPT&gt;    &lt;/SCRIPT&gt;    &lt;LANGUAGE&gt;        &lt;0&gt;guestbook&lt;/0&gt;        &lt;1&gt;admin&lt;/1&gt;    &lt;/LANGUAGE&gt;&lt;/MY_TEMPLATE&gt;</pre></div><p> Beachten Sie, dass "MY_TEMPLATE" als Identifier fungiert,welcher das Template identifiziert. Sie können diese Id in denKonfigurationsdateien Ihrer Plugins verwenden, um auf das Template zuverweisen. Der Text kann beliebig gewählt werden. Achten Sie jedochdarauf, dass die Id keine Sonderzeichen oder Leerzeichen enthält, miteinem Buchstaben beginnt und über die gesamte Anwendung hinwegeindeutig ist. Groß- und Kleinschreibung spielt keine Rolle. </p><p> Es gibt 4 Felder: "File", "Style", "Script" und "Language".Das Feld "File" gibt den Dateinamen an. Die restlichen Felder sindoptional und dienen der Automatisierung. </p><p> Das Feld "Language" enthält Verweise auf eine oder mehrereDateien, welche die Sprachinformationen für dieses Template enthalten.Beispielsweise bezieht sich der Wert &quot;guestbook&quot; auf die Datei"languages/XX/guestbook.config", wobei der Text "XX" automatisch vomSystem durch die vom Nutzer gewählte Sprache ersetzt wird. Zum Beispiel"de" für Deutsch beziehungsweise "en" für Englisch. </p><p> Das Feld "Style" kann mehrere Verweise auf Stylesheetsenthalten. Ebenso enthält das Feld "Script" einen oder mehrere Verweiseauf JavaScript-Dateien. Die angegebenen Dateien werden jeweilsautomatisch eingebunden, wenn das Template aufgerufen wird. </p><p> Hinweis: Ist in einem Skin ein erforderliches Template nichtdefiniert oder sind Eigenschaften dieses Templates ("Styles", "Script","Languages") nicht erneut erklärt, so fällt das Programm automatischauf den "Default"-Skin zurück. </p><p> Dies geschieht wie folgt. </p><ol><li>Fehlt im Skin ein Template, werden dieDefault-Einstellungen komplett verwendet.</li><li>Existiert das Template, aber beispielsweise "Style" istnicht definiert, dann wird dieser mit der "Style"-Definition desgleichnamigen Templates im Default-Skin überschrieben. Für "Language"und "Script" gilt dies analog.</li><li> Existiert das Template und die Eigenschaft ist definiert,dann werden die definierten Eigenschaften mit denen des Default-Skinszusammengeführt. <br />Dabei geht das Programm wie folgt vor:<ul><li>Alle numerischen Einträge werden stets angehängt. ZumBeispiel: die Einträge STYLE.0, STYLE.1 usw. aus dem Default-Skinwerden übernommen und die Einträge STYLE.0, STYLE.1, STYLE.2 usw. ausdem neuen Skin werden an die Liste angehängt.</li><li>Konkret benannte Einträge, wie zum BeispielSTYLE.MEIN_CSS aus dem Default-Skin, werden durch gleichnamige Einträgeim neuen Skin ersetzt.</li></ul></li></ol><p> Dieses Verhalten mag zunächst unlogisch erscheinen, hatjedoch einen durchaus einen tieferen Sinn. Es erlaubt einzelneStylesheets oder Scripts in einem neu erstellten Skin ganz gezieltauszutauschen. Gleichzeitig gestattet es aber auch einzelne Stylesheetsoder Scripts von diesem Mechanismus auszuschließen. Beide Variantekommen vor und haben ihre Einsatzgebiete. </p><p> Ein weiteres Beispiel zur Illustration dieses Verhaltens. Diefolgende Definition tauscht für das Template "MY_TEMPLATE" nur dieCSS-Datei "MEIN_CSS" aus dem Default-Skin durch eine andere aus. Alleanderen Einstellungen bleiben unverändert. </p><div class="codeexample"><pre>&lt;MY_TEMPLATE&gt;    &lt;STYLE&gt;        &lt;MEIN_CSS&gt;foo/bar.css&lt;/MEIN_CSS&gt;    &lt;/STYLE&gt;&lt;/MY_TEMPLATE&gt;</pre></div><p> Wie Sie in diesem Beispiel sehen, wird keine neueHTML-Vorlage festgelegt, sondern es wird wieder die Vorlage desDefault-Skin verwendet. Das heißt: es ist nicht erforderlich dieHTML-Vorlage aus dem Default-Skin in den neuen Skin zu kopieren, oderzu editieren um ein neues Layout zu erzeugen. Dies vermeidet unnötigeRedundanz und erleichtert Ihnen die Pflege Ihres HTML-Codes. </p></div><h3> <a name="token_all">Liste der wichtigstenerlaubten Platzhalter</a></h3><div class="box"><p> * "erforderlich" meint in diesem Fall "ungleich NULL" </p><table class="syntax"><thead> <tr><th> Platzhalter </th><th> Typ </th><th> erforderlich&nbsp;* </th><th> Defaultwert </th><th> Herkunft </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> PHP_SELF</td><td> String</td><td> ja</td><td> -</td><td> PHP</td><td> Name der ausgeführten Skriptdatei.</td></tr><tr><td> REMOTE_ADDR</td><td> String</td><td> ja</td><td> -</td><td> PHP</td><td> Die IP-Adresse des Clients.</td></tr><tr><td> SETTINGS.WEBSITE_URL </td><td> String</td><td> nein</td><td> -</td><td> aufrufende URL</td><td> komplette URL des Skriptes (inkl. http://...) </td></tr><tr><td> REQUEST_URI </td><td> String</td><td> nein</td><td> -</td><td> aufrufende URL</td><td> aufgerufener Pfad des Skriptes, inklusive Parameter(/yana/index.php?...) </td></tr><tr><td> QUERY_STRING </td><td> String</td><td> nein</td><td> -</td><td> aufrufende URL</td><td> an das Skripte übergebene Parameterliste </td></tr><tr><td> ID</td><td> String</td><td> ja</td><td> default</td><td> GET/POST</td><td> ID-Code des gerade aktiven Profils.</td></tr><tr><td> ACTION</td><td> String</td><td> nein</td><td> &lt;empty&gt;</td><td> GET/POST</td><td> Name der Aktion welche gerade ausgeführt wird bzw.welche ausgeführt werden soll.</td></tr><tr><td> TARGET</td><td> String</td><td> nein</td><td> &lt;empty&gt;</td><td> GET/POST</td><td> Ziel der Aktion welche gerade ausgeführt wird bzw.welche ausgeführt werden soll. (bspw. die ID eines Datensatzes)</td></tr><tr><td> SESSION_NAME, SESSION_ID</td><td> String</td><td> nein</td><td> &lt;empty&gt;</td><td> GET/POST</td><td> Name und ID-Code der gerade laufenden Session (solltenbei allen internen Links angegeben werden)</td></tr><tr><td> PAGE</td><td> integer</td><td> nein</td><td> 0</td><td> GET/POST</td><td> Die Nummer des Datensatzes, ab welchem mit der Anzeigebegonnen werden soll. (falls erforderlich)</td></tr><tr><td> ATIME</td><td> string</td><td> ja</td><td> -</td><td> Dateiattribut</td><td> Fügt Datum und Zeit des letzten Zugriffs auf dasHTML-Template an dieser Stelle ein: <br /><span style="font-style: normal;"> [%$ATIME|date%] </span></td></tr><tr><td> MTIME</td><td> string</td><td> ja</td><td> -</td><td> Dateiattribut</td><td> Fügt an dieser Stelle das Datum ein, an welchem dasHTML-Template zuletzt geändert worden ist: <br />[%$MTIME|date%]</td></tr><tr><td> CTIME</td><td> string</td><td> ja</td><td> -</td><td> Dateiattribut</td><td> Fügt an dieser Stelle das Datum ein, an welchem dasHTML-Template erstellt worden ist: <br />[%$CTIME|date%]</td></tr><tr><td> LANGUAGE</td><td> Array</td><td> ja</td><td> -</td><td> Sprachdatei(en)</td><td> Array, welches alle Textstrings der geradeausgewählten Übersetzung enthält.</td></tr><tr><td> PROFILE</td><td> Array</td><td> ja</td><td> -</td><td> Profildatei</td><td> Array, welches alle Einstellungen des gerade aktivenProfils enthält. <br />Im Folgenden einige Beispiele. Beachten Sie, dass alle hier genanntenFelder auch einen NULL-Wert enthalten dürfen.</td></tr><tr><td> PROFILE.BGCOLOR, <br />PROFILE.BGIMAGE</td><td> String</td><td> nein</td><td> -</td><td> Profildatei</td><td> Hintergrundfarbe und Hintergrundbild der Webseite</td></tr><tr><td> PROFILE.PFONT, <br />PROFILE.PSIZE, <br />PROFILE.PCOLOR</td><td> String</td><td> nein</td><td> -</td><td> Profildatei</td><td> Schriftart, Schriftgröße, Schriftfarbe fürStandardabsätze (P-Tags)</td></tr><tr><td> PROFILE.HFONT, <br />PROFILE.HSIZE, <br />PROFILE.HCOLOR</td><td> String</td><td> nein</td><td> -</td><td> Profildatei</td><td> Schriftart, Schriftgröße, Schriftfarbe fürÜberschriften (H1-,H2-,H3-Tags)</td></tr><tr><td> SKIN_INFO </td><td> Array</td><td> nein</td><td> -</td><td> Skindatei</td><td> Informationen zum gewählten Skin </td></tr><tr><td> LANGUAGE_INFO </td><td> Array</td><td> nein</td><td> -</td><td> Sprachdatei</td><td> Informationen zur gewählten Sprache </td></tr><tr><td> LANGUAGE </td><td> Array</td><td> nein</td><td> -</td><td> Sprachdatei(en)</td><td> Übersetzungen (Texte) </td></tr><tr><td> SETTINGS.WEBSITE_URL </td><td> String</td><td> nein</td><td> -</td><td> Sprachdatei(en)</td><td> komplette URL des Skriptes (inkl. http://...) </td></tr></tbody></table></div><h2>Referenzhandbuch für Template-Engine</h2><h3>Allgemeines</h3><div class="box"><p> Dieses Framework verwendet die "Smarty Template-Engine".Diese Engine besitzt Ihre eigene Dokumentation, welche kostenlos unterder Adresse <a href="http://smarty.net/docs.php" target="_blank">http://smarty.net/docs.php</a> zumDownload bereit steht. </p><p> Es ist Ihnen gestattet, die Engine durch selbst geschriebeneFunktionen zu erweitern. Auf diese Weise können Sie die Syntax derverwendeten Templates quasi beliebig erweitern. Sie finden die Engineim Verzeichnis "engine/". Eine Anleitung dazu findenSie im Referenzhandbuch der Engine. Änderungen an der Engine sindjedoch nur Experten zu empfehlen. </p><p> Hinweis zu Lizenzen: Bevor Sie Änderungen vornehmen, beachtenSie bitte die <a href="rechtliches.html">Lizenzhinweise</a>.</p></div><h3>Abweichungen der Syntax</h3><p> Die Syntax der verwendeten Version der "SmartyTemplate-Engine" weicht in einigen Punkten vom Referenzhandbuch ab. Derfolgende Abschnitt beschreibt diese geänderte Syntax. </p><div class="box"><h4>Kennzeichnung von Token</h4><p> Anders als in der Originalversion von Smarty verwendet dieseVersion nicht die Zeichen '{' und '}' als öffnende und schließendeTags für die Auszeichnung von Smarty-Codes, sondern dieunverfänglicheren Strings: '[%' und '%]'. Also beispielsweise NICHT"{$variable}", sondern "[%$variable%]". Der Grund ist, dass dieursprünglichen Zeichen in den meisten HTML-Dokumenten zu häufig imFließtext bzw. in Skripten oder Stylesheets auftauchen, was zuProblemen bei der Abarbeitung der Templates führen kann. Daher wurdendie Tags vorsorglich auf diese unverfänglichere Variante geändert.(Dieses Vorgehen wird zudem auch im Handbuch der Engine für solcheFälle empfohlen.) </p><p> Anders als in der Originalversion erlaubt diese Version auchden Einsatz einer verkürzten Syntax für das Einsetzen einfacherVariablen. Statt der etwas umständlicheren Schreibweise "[%$VARIABLE%]"ist in dieser Version auch folgende Schreibweise gestattet:"%VARIABLE%". Dies betrifft allerdings ausschließlich Variablen. Aufalle anderen Smarty-Codes ist dies NICHT anwendbar. </p><h4>Namenskonventionen</h4><p> Weil Smarty zwischen Groß- und Kleinschreibung unterscheidetwurde zur Vereinfachung festgelegt, dass Variablennamen prinzipiell inGroßbuchstaben benannt sein sollten. Während die Namen von Funktionenund anderen Codes ausschließlich Kleinbuchstaben enthalten sollten.Aus Gründen der Übersichtlichkeit ist dringend zu empfehlen, sich andiese Konvention zu halten. </p><h4>Pfadangaben</h4><p> In dieser Version können Verweise auf Dateien (Links,Grafiken, CSS, Skripte, etc.) als relative Pfadangaben gespeichertwerden. Dateipfade werden beim Laden der Seite automatisch korrigiert.Es ist also nicht mehr erforderlich, ausschließlich absoluteDateipfade zu verwenden. </p><h4>Konfiguration</h4><p> Smarty läuft in dieser Version im sicheren Modus(security=true). Das Einbetten von PHP-Codes in Templates ist nichtgestattet. Außerdem sind folgende Funktionen deaktiviert: include,include_php, php. </p></div><h3> <a name="func"></a> neue Funktionen</h3><div class="box"><div class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis: </span>Das folgende Kapitel beschreibt zusätzliche Funktionen, welche Ihnen imYana Framework zur Verfügung stehen und nicht zur Grundfunktionalitätder Smarty Template Engine gehören. Die Grundfunktionen der SmartyTemplate Engine sind in der <a href="http://smarty.net/docs.php" target="_blank">Dokumentation auf http://smarty.net/docs.php</a> beschrieben. </div></div><div class="box"><!-- BEGIN: function --><h4> <a name="func_captcha"></a> captcha</h4><p> [%captcha [ id="&lt;string&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> id</td><td> string</td><td> nein</td><td> -</td><td> Wert für das Attribut "id" des Tags "input"</td></tr></tbody></table><p> Die Funktion "captcha" wird verwendet, um eine Grafikanzuzeigen, welches Text enthält, den der Besucher lesen und in dasdaneben eingeblendete Eingabefeld eingeben muss. Dies ist eineallgemein gebräuchliche Variante zum Schutz vor Spam. </p><p> Der Parameter "id" ist optional. Er kann beispielsweiseverwendet werden, wenn eine Beschreibung in einem "label" angezeigtwerden soll. </p><div class="codeexample"><div> <b>1. Beispiel:</b> </div><p> [%captcha%] </p><p class="kommentar"> <img alt="" src="data/screen41.png" /><br />Abbildung: Darstellung im Browser </p><div> <b>2. Beispiel, mit Parameter "id":</b> </div><p> &lt;label for="myCaptcha"&gt;Bitte geben Sie den Textauf dem Bild ein&lt;/label&gt; <br />[%captcha id="myCaptcha"%] </p></div><p> Weitere Hinweise finden Sie auch im <a href="#cookbook_captcha">Kochbuch für Entwickler, Kapitel"Verwenden eines CAPTCHA"</a>. </p><!-- NEXT: function --><h4> <a name="func_create"></a> create</h4><p> [%create template="&lt;string&gt;"file="&lt;string&gt;" table="&lt;string&gt;" [where="&lt;string&gt;" ] [ desc="&lt;boolean&gt;" ] [sort="&lt;string&gt;" ] [ page="&lt;integer&gt;" ] [entries="&lt;integer&gt;" ] [ titles="&lt;boolean&gt;"] [ on_new="&lt;string&gt;" ] [on_edit="&lt;string&gt;" ] [ on_delete="&lt;string&gt;"] [ on_search="&lt;string&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> template</td><td> string</td><td> ja</td><td> -</td><td> Name des Templates, welches zum Generieren der GUIverwendet werden soll. Erlaubte Werte sind: <br />view_seperated, view_details, view, new, edit, search</td></tr><tr><td> file</td><td> string</td><td> ja</td><td> -</td><td> Pfad der Strukturdatei welche verwendet werden soll.</td></tr><tr><td> table</td><td> string</td><td> ja</td><td> -</td><td> Name der Tabelle, welche verwendet werden soll</td></tr><tr><td> show</td><td> string</td><td> nein</td><td> -</td><td> durch Kommata getrennte Liste von Spalten der Tabelle,welche in der Ausgabe angezeigt werden sollen (Kleinschreibungverwenden)</td></tr><tr><td> hide</td><td> string</td><td> nein</td><td> -</td><td> durch Kommata getrennte Liste von Spalten der Tabelle,welche in der Ausgabe NICHT angezeigt werden sollen (Kleinschreibungverwenden)</td></tr><tr><td> where</td><td> string</td><td> nein</td><td> &lt;empty&gt;</td><td> wird verwendet um die WHERE-Klausel für dieSQL-Anfrage zu generieren. <br />Syntax:&lt;FELDNAME1&gt;=&lt;WERT1&gt;[,&lt;FELDNAME2&gt;=&lt;WERT2&gt;[,...]]</td></tr><tr><td> desc</td><td> boolean</td><td> nein</td><td> false</td><td> Gibt an, ob die Einträge aufsteigend (false) oderabsteigend (true) sortiert werden sollen.</td></tr><tr><td> sort</td><td> string</td><td> nein</td><td> &lt;primary key&gt;</td><td> Name der Spalte, nach welcher die Einträge sortiertwerden sollen</td></tr><tr><td> page</td><td> integer</td><td> nein</td><td> 0</td><td> Nummer des ersten Eintrags der angezeigt werden soll</td></tr><tr><td> entries</td><td> integer</td><td> nein</td><td> 5</td><td> Anzahl der insgesamt anzuzeigenden Einträge</td></tr><tr><td> titles</td><td> boolean</td><td> nein</td><td> true</td><td> Legt fest, ob Attributnamen angezeigt werden sollenoder nicht.</td></tr><tr><td> on_new</td><td> string</td><td> nein</td><td> -</td><td> Name der Aktion welche ausgelöst werden soll wenn einneuer Eintrag gespeichert werden soll</td></tr><tr><td> on_edit</td><td> string</td><td> nein</td><td> -</td><td> Name der Aktion welche ausgelöst werden soll wenngeänderte Einträge gespeichert werden sollen</td></tr><tr><td> on_delete</td><td> string</td><td> nein</td><td> -</td><td> Name der Aktion welche ausgelöst werden soll wennausgewählte Einträge gelöscht werden sollen</td></tr><tr><td> on_search</td><td> string</td><td> nein</td><td> -</td><td> Name der Aktion welche ausgelöst werden soll um eineSuchanfrage zu bearbeiten und die Trefferliste zu erzeugen</td></tr><tr><td> on_download</td><td> string</td><td> nein</td><td> download_file</td><td> Name der Aktion welche ausgelöst werden soll wenn derNutzer eine Datei oder ein Bild herunterladen möchte</td></tr><tr><td> layout</td><td> int</td><td> nein</td><td> 0</td><td> Sollte ein Formular mehrere Darstellungsmöglichkeitenbieten, so können Sie mit diesem Parameter zwischen diesen wechseln.</td></tr></tbody></table><p> Die Funktion "create" generiert automatisch eine GUI für einegewählte Datenbank. Voraussetzung ist das Vorhandensein einer gültigenStrukturdatei, welche die Datenbank beschreibt. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> [%create template="edit" file="database.config"table="bookstore"%] </p></div><p> Ein Beispiel für eine Funktion, zum Download einer Datei(Argument "on_download"): </p><pre class="codeexample">&lt;?phpfunction myDownload($ARGS){   if ($source = DbBlob::getFileId() === false) {       return false;   }   // Download einer Datei:   if (preg_match('/\.gz$/', $source)) {       $dbBlob = new DbBlob($source);       $dbBlob-&gt;read();       header('Content-Disposition: attachment; filename=' . $dbBlob-&gt;getPath());       header('Content-Length: ' . $dbBlob-&gt;getFilesize());       header('Content-type: ' . $dbBlob-&gt;getMimeType());       print $dbBlob-&gt;get();       // Download einer Grafik:   } else {       $image = new Image($source);       $image-&gt;outputToScreen();   }   exit;}?&gt;</pre><p class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Achtung! </span>Diese Funktion prüft nicht automatisch, ob der Nutzer die ausgewählteDatei im Sinne der Semantik Ihres Programms herunterladen "darf". Diesist leider auch gar nicht möglich, ohne die Kriterien zu kennen, welcheSie innerhalb Ihres Programms dafür anwenden. Daher bleibt es an dieserStelle Ihnen überlassen zu verifizieren, dass der Benutzer dienotwendige Berechtigung besitzt, um die gewünschte Datei einzusehen. </p><!-- NEXT: function --><h4> <a name="func_embeddedtags"></a>embeddedTags</h4><p> [%embeddedTags [ show="&lt;string&gt;" ]&nbsp; [hide="&lt;string&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> show</td><td> string</td><td> nein</td><td> *</td><td> eine durch Kommata getrennte Liste der Tags, <br />die angezeigt werden sollen</td></tr><tr><td> hide</td><td> string</td><td> nein</td><td> -</td><td> eine durch Kommata getrennte Liste der Tags, <br />die ausgeblendet werden sollen</td></tr></tbody></table><p> Die Funktion "embeddedTags" generiert automatisch eineSchaltflächen, mit denen der Gast Ihrer Webseite beim Schreiben einesneuen Eintrags Text formatieren kann (fett, kursiv, etc.). </p><p> Die Liste "show" kann verwendet werden, um Tags festzulegen,welche angezeigt werden sollen und die Liste "hide" kann man benutzen,wenn Sie möchten, dass ganz bestimmte Tags nicht dargestellt werden. </p><p> Sie können in der Liste "show" mit dem Zeichen "-"Zeilenumbrüche und mit dem Zeichen "|" Trennstriche in die Ausgabeeinfügen. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;textarea id="text"&gt;&lt;/textarea&gt; </p><p class="kommentar"> <img alt="" src="data/abb_gui_1.png" /> <br />Abbildung: Darstellung der Tag-Leiste (mit allen Tags) </p><pre><code><span class="mygeneral1-comment">&lt;!-- Alle Tags einblenden --&gt;</span>[%embeddedTags%]<span class="mygeneral1-comment">&lt;!-- Die Tags &quot;u&quot;, &quot;i&quot; und &quot;b&quot; einblenden --&gt;</span>[%embeddedTags show="b,u,i"%]<span class="mygeneral1-comment">&lt;!-- Alle Tags au&szlig;er &quot;url&quot; und &quot;mail&quot; einblenden --&gt;</span>[%embeddedTags hide="url,mail"%]<span class="mygeneral1-comment">&lt;!-- Die Tags &quot;u&quot;,&quot;i&quot;,&quot;b&quot;, einen Trennstrich und dann den Tag &quot;url&quot; anzeigen --&gt;</span>[%embeddedTags show="u,i,b,|,url"%]</code></pre></div><!-- NEXT: function --><h4> <a name="func_import"></a> import</h4><p> [%import [preparser="true"] file="&lt;string&gt;"%] </p><p> [%import [preparser="true"] id="&lt;string&gt;"%] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> file</td><td> string</td><td> ja</td><td> -</td><td> Pfad der einzufügenden Datei</td></tr><tr><td> preparser</td><td> boolean</td><td> nein</td><td> false</td><td> bestimmt ob die Datei vor (true) oder während (false) des Parsens desTemplates importiert werden soll</td></tr></tbody></table><p> Oder alternativ mit folgenden Parametern: </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> id</td><td> string</td><td> ja</td><td> -</td><td> Id des einzufügenden Templates</td></tr><tr><td> preparser</td><td> boolean</td><td> nein</td><td> false</td><td> bestimmt ob die Datei vor (true) oder während (false) des Parsens desTemplates importiert werden soll</td></tr></tbody></table><p> Die Funktion "import" ersetzt die verschiedenenursprünglichen Funktionen zum Einfügen von Dateien durch eineeinheitliche Funktion. Sie unterscheidet sich außerdem in der Art, wiedie Dateien behandelt werden. Die Funktion "import" behandelt die zuimportierende Datei wie ein eigenständiges Template. Dieses hat mehrereVorteile: das eingefügte Template unterliegt bspw. den selbenSicherheitseinschränkungen wie das Basistemplate. Außerdem (und nochviel wichtiger:) sorgt dieses Vorgehen dafür, dass die Korrekturenthaltener Pfadangaben korrekt arbeiten kann. </p><p> Der Parameter "file" gibt den Namen der Datei an, welcheimportiert werden soll. </p><p> Alternativ kann der Parameter "id" verwendet werden, um stattden Pfad und Dateinamen fest im Template vorzugeben, die Id desTemplates anzugeben. Das Framework bestimmt den zu der Id passendenDateinamen zur Laufzeit automatisch. Dies hat den Vorteil, dass dieDatei umbenannt oder in einen anderen Pfad verschoben werden kann, ohnedass die Verweise auf diese Datei in allen anderen Templates korrigiertwerden müssen. </p><div class="white_box"> <b> <img alt="" src="data/icon1.gif" style="margin: 5px; float: left;" />Anwendungsbeispiel:</b> angenommen Sie haben ein Template"a.html" für den Skin "default" definiert und dieser importiert dasTemplate "b.html". Nun möchten Sie einen neuen Skin anlegen. In diesemSkin wollen Sie den Inhalt der Datei "b.html" ändern, aber den Inhaltder Datei "a.html" unverändert lassen. <br /><i>1. Fall:</i> Falls Sie im Skin "default" das Template"b.html" über den Parameter "file" importiert haben, dann können Sie"b.html" in Ihrem neuen Skin nicht ändern, ohne den Pfad in "a.html" zuändern. Das bedeutet, Sie müssten in Ihrem neuen Skin auch die Datei"a.html" anpassen. <br /><i>2. Fall:</i> Falls Sie im Skin "default" dem Template"b.html" eine Id (zum Beispiel "b") zugewiesen haben und das Templateüber den Parameter "id" importiert haben, dann können Sie in Ihremneuen Skin die Id des Template "b" mit dem Pfad einer anderen Dateiüberschreiben, welche nur für diesen Skin verwendet wird. Dadurchmüssen Sie den Pfad im Template "a.html" nicht ändern und können dasTemplate unverändert lassen. <br /><i>Hinweis:</i> Das Zuweisen von Ids zu Dateien erledigenSie über die Konfigurationsdateien (*.config) im Verzeichnis desjeweiligen Templates. </div><p> Das Flag "preparser" bestimmt, wann eine Datei importiertwerden soll: BEVOR oder WÄHREND der Parser das Template abarbeitet.Wird es gesetzt, wird die Datei VOR dem eigentlichen Parsen eingefügt.Das Flag "preparser" sollte beispielsweise immer dann verwendet werden,wenn das importierte Template auf Variablen zugreifen muss, welchedurch das Basistemplate gesetzt werden. Klassisches Beispiel sindTemplates, welche innerhalb des Körpers von Schleifen importiertwerden. ("foreach", "section") Diese benötigen das Flag "preparser",falls sie auf die Schleifenvariablen zugreifen können müssen.Alternativ können Sie der Anweisung "Import" eine Liste aller Variablenübergeben, auf welche Sie innerhalb des Templates zugreifen müssen. </p><p class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;" /><b>Achtung!</b> Wird der Parameter "preparser" verwendet,so wird das importierte Template nicht einzeln geparst, übersetzt undim Cache gespeichert, sondern in den Quellcode des Templates kopiert,welches die Import-Anweisung enthält. Es wird zur Laufzeit nicht geprüft,ob sich der Inhalt des importierten Templates seit dem letzten Aufruf geänderthat. Wenn Sie das importierte Template ändern, müssen Sie daher denTemplate-Cache explizit leeren, damit die Änderungen wirksam werden. </p><div class="codeexample"><div> <b>1. Beispiel, mit Parameter "file":</b> </div><p> <i>Datei "hello_world.html"</i> <br />Hello World! </p><p> <i>Datei "template.html"</i> <br />&lt;p&gt;[%import file="hello_world.html"%]&lt;/p&gt; </p><div> <b>2. Beispiel, mit Parameter "id":</b> </div><p> <i>Datei "default.config"</i> <br />&lt;hello&gt; <br />&nbsp; &lt;file&gt;hello_world.html&lt;/file&gt; <br />&lt;/hello&gt; </p><p> <i>Datei "template.html"</i> <br />&lt;p&gt;[%import id="hello"%]&lt;/p&gt; </p><div> <b>3. Beispiel, zusätzliche Parameter:</b> </div><p> <i>Datei "hello_world.html"</i> </p><pre><code>[%if $foo%][%$bar%][%/if%]</code></pre><p> <i>Datei "template.html"</i> <br />&lt;p&gt;[%import file="hello_world.html" foo=true bar="HelloWorld!"%]&lt;/p&gt; </p><div> <b>Ausgabe (in allen 3 Beispielen):</b> </div><p> &lt;p&gt;Hello World!&lt;/p&gt; </p></div><!-- NEXT: function --><h4> <a name="func_preview"></a> preview</h4><p> [%preview [ width="&lt;integer&gt;" ] [height="&lt;integer&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> width</td><td> integer</td><td> nein</td><td> 380px</td><td> Breite in Pixel</td></tr><tr><td> height</td><td> integer</td><td> nein</td><td> 50px</td><td> Höhe in Pixel</td></tr></tbody></table><p> Die Funktion "preview" erzeugt ein Vorschaufenster auf einenEintrag, welchen der Besucher geschrieben hat. </p><p> Im Text enthaltene Smilies und Tags werden dabei grafischdargestellt. Dadurch hat der Besucher die Möglichkeit vor demAbschicken des Formulars zu prüfen, wie sein Beitrag aussehen wird. </p><p> Beim Aufruf der Funktion werden automatisch dieerforderlichen JavaScript-Dateien eingebunden. Außerdem wird eineSchaltfläche mit der Aufschrift "Vorschau" erstellt. (In der englischenVersion lautet die Beschriftung "Preview".) Beim Anklicken wirdoberhalb dieser Schaltfläche ein Fenster eingeblendet, welches dieVorschau zeigt. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;textarea id="text"&gt;&lt;/textarea&gt; <br />[%preview%] </p><p class="kommentar"> <img alt="" src="data/abb_gui_7.png" /><br />Abbildung: Die Vorschau wird durch Anklicken der Schaltfläche <br />"Vorschau" über einen "AJAX HTTP-Request" vom Server geladen </p><p class="kommentar"> <img alt="" src="data/abb_gui_8.png" /><br />Abbildung: Darstellung der Vorschau im Browser </p></div><p> Die Attribute "width" und "height" geben Breite und Höhe desVorschaufensters an. Diese Werte werden als CSS-Anweisungen umgesetzt.Wenn Sie diese verwenden möchten, achten Sie daher bitte darauf, dassSie eine Maßeinheit (zum Beispiel "px" für Pixel) angeben müssen.Prozentuale Angaben, wie "70%" sind ebenfalls erlaubt. Zahlen ohneMaßeinheit, wie "70" werden jedoch im Browser möglicherweise fehlerhaftdargestellt. </p><p> Die Angaben beziehen sich nicht auf die gesamte Größe desVorschaufensters, sondern sinnigerweise auf den darin dargestelltenText. Die folgende Abbildung demonstriert dies: </p><p class="kommentar"> <img alt="" src="data/abb_gui_9.png" /><br />Abbildung: Darstellung der Randbereiche </p><p> Der hier lila gefärbte Bereich ist der, dessen Größe über dieAttribute "width" und "height" festgelegt wird. Der hellgrüne Bereichist die Gesamtgröße des Feldes. Der Platz, welcher für die Überschriftbenötigt wird, ist hellblau dargestellt. Der Rahmen ist hier violettangedeutet. Die Gesamtgröße des Fensters richtet sich also nach denWerten der Attribute "width" und "height", zuzüglich der Überschrift,des Rahmens (border) und des Randbereichs (margin) des Fensters. </p><!-- NEXT: function --><h4> <a name="func_printarray"></a> printArray</h4><p> [%printArray value="&lt;array&gt;" %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> value</td><td> array</td><td> ja</td><td> -</td><td> ein Array, welches als String ausgegeben werden soll</td></tr></tbody></table><p> Diese Funktion wandelt ein (eventuell mehrdimensionales)Array in einen String um und gibt diesen aus. Das Array wird imSML-Format dargestellt. Dies kann unter anderem für das Debugging vonTemplates interessant sein, um herauszufinden welchen Namen einegesuchte Variable hat. </p><p class="kommentar"> <img src="data/icon3.gif" style="margin: 0pt 5px;" alt="&#8226;" /> <span style="font-weight: bold;"> Hinweis: </span> AbVersion 2.9.3 des Yana Frameworks unterstützt diese FunktionSyntaxhervorhebung bei der Ausgabe. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> [%printArray value=$LANGUAGE%] </p><p class="kommentar"> <img alt="" src="data/abb_gui_5.png" /><br />Abbildung: kurzer Auszug aus der Ausgabe </p></div><!-- NEXT: function --><h4> <a name="func_unorderedlist"></a>printUnorderedList</h4><p> [%printUnorderedList value="&lt;array&gt;" [keys_as_href="&lt;bool&gt;" ] [ layout="&lt;int&gt;" ]%] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> value</td><td> array</td><td> ja</td><td> -</td><td> ein Array, welches als Liste ausgegeben werden soll</td></tr><tr><td> keys_as_href</td><td> bool</td><td> nein</td><td> false</td><td> gibt an, ob Links erzeugt werden sollen</td></tr><tr><td> layout</td><td> int</td><td> nein</td><td> 1</td><td> lässt Sie zwischen 3 alternativen Layouts (1, 2 und 3)für Ihr Menü wählen</td></tr></tbody></table><p> Diese Funktion wandelt ein (eventuell mehrdimensionales)Array in eine unsortierte Liste im HTML-Format um und gibt diese aus.Es wird der Tag "ul" verwendet. </p><p> Man kann diese Funktion verwenden, um Baummenüs zu erzeugen.Wahlweise können in diesem Menü Links erzeugt werden. Dazu verwendenSie bitte die URLs als Schlüssel des Arrays und die Beschriftung alsWerte. Außerdem setzen Sie den Parameter "keys_as_href" auf "true". </p><div class="codeexample"><div> <b>1. Beispiel &#8211; ein Array als Baummenü darstellen:</b></div><p> [%printUnorderedList value=$LANGUAGE%] </p><p> &nbsp; </p><p class="kommentar"> <img alt="" src="data/abb_gui_4.png" /><br />Abbildung: kurzer Auszug aus der Ausgabe </p><p class="kommentar"> &nbsp; </p><p> <b>2. Beispiel &#8211; ein Baummenü mit Links ausgeben:</b></p><pre>&lt;?php$A = array(    '1.html' => 'Link',    'Menü 1' => array(        '2_1.html' => '1. Eintrag',        '2_2.html' => '2. Eintrag',        'Menü 2' => array(            '2_3_1.html' => '1. Eintrag',            '2_3_2.html' => '2. Eintrag'        ),    ),    'Menü 3' => array(        '3_1.html' => '1. Eintrag',        '3_2.html' => '2. Eintrag',        '3_2.html' => '3. Eintrag'    ),);$YANA->setVar('A', $A);?&gt;</pre><p> [%printUnorderedList value=$A keys_as_href="true"%] </p><p> &nbsp; </p><p class="kommentar"> <img alt="" src="data/abb_gui_6.png" /><br />Abbildung: Darstellung als Baummenü mit Links </p><p> <b>3. Beispiel &#8211; weitere Layouts:</b> </p><p> [%printUnorderedList value=$A layout=2 keys_as_href="true"%] </p><p class="kommentar"> <img alt="" src="data/abb_menu_2.png" /> <br />Abbildung: Darstellung als vertikales Baummenü </p><p> [%printUnorderedList value=$A layout=3 keys_as_href="true"%] </p><p class="kommentar"> <img alt="" src="data/abb_menu_3.png" /> <br />Abbildung: Darstellung als horizontales Baummenü </p></div><p> Die Schlüssel werden fett gedruckt und die Werte kursiv -dies lässt sich jedoch per CSS ändern. Es werden folgende CSS-Klassenverwendet: </p><ul><li>gui_array_list</li><li>gui_array_head</li><li>gui_array_key</li><li>gui_array_value</li><li>gui_array_head_open</li></ul><!-- NEXT: function --><h4> <a name="func_rss"></a> rss</h4><p> [%rss [ image="&lt;string&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> image</td><td> string</td><td> nein</td><td> -</td><td> das Icon, auf welches der Besucher klicken kann um denRSS-Feed zu sehen.</td></tr></tbody></table><p> Diese Funktion erzeugt Hyperlinks, zu den verfügbarenRSS-Feeds einer Webseite. </p><p> Das Argument "image" kann verwendet werden, um ein Iconauszuwählen. Klickt der Nutzer auf diesen Link, so wird dieentsprechende Datei geöffnet. Die Liste der RSS-Feeds wird im Quellcodeder Anwendung erzeugt. Siehe dazu auch das <a href="#cookbook_misc">Kochbuchfür Entwickler, Kapitel: "Sonstige Funktionen"</a>. </p><p class="kommentar"> <img src="data/icon1.gif" style="margin: 5px; float: left;" alt="&#8226;" /> <span style="font-weight: bold;"> Tipp: </span> Auch wennSie die Hyperlinks nicht erzeugen, können Ihre Besucher die verfügbarenRSS-Feeds Ihrer Webseite trotzdem lesen, weil diese Links zusätzlich imHeader der Datei zu finden sind. Diese Informationen kann der Browserdes Besuchers, sofern er dazu in der Lage ist, verwenden, um IhremBesucher das Lesen der Feeds zu ermöglichen. Diese Variante ist fürIhre Gäste allerdings umständlicher und sollte daher vermieden werden. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> [%rss%] </p><p class="kommentar"> <img alt="RSS" src="data/abb_rss.gif" /> <br />Abbildung: Ausgabe der Funktion </p><p> <b>Beispiel &#8211; einen Feed zur Ausgabe hinzufügen:</b></p><pre>&lt;?php// Der Wert 'mein_rss' ist der Name der Funktion, welche den RSS-Feed ausgibtRSS::publish('mein_rss');?&gt;</pre></div><p class="kommentar"> <img src="data/icon2.gif" style="margin: 5px; float: left;" alt="&#8226;" /> <span style="font-weight: bold;"> Hinweis: </span> In denmitgelieferten Skins werden die Hyperlinks auf vorhandene RSS-Feedsautomatisch erzeugt, so dass Sie diese Funktion in der Regel nichtselbst benötigen, außer wenn Sie einen eigenen Skin schreiben. Indiesem Fall sollten Sie die Hyperlinks in den Kopfbereich der Seiteeinbinden, wo diese für Besucher leicht zugänglich sind. </p><!-- NEXT: function --><h4> <a name="func_sizeof"></a> sizeOf</h4><p> [%sizeOf value="&lt;mixed&gt;" [assign="&lt;string&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> value</td><td> mixed</td><td> ja</td><td> -</td><td> skalarer Wert oder Array, dessen Länge bestimmt werdensoll</td></tr><tr><td> assign</td><td> string</td><td> nein</td><td> -</td><td> Name der Template-Variable in welcher das Ergebnis zuspeichern ist</td></tr></tbody></table><p> Die Funktion "sizeOf" gibt die Länge eines Arrays oderStrings als Zahl zurück. Falls der Parameter "assign" angegeben wird,so wird der Rückgabewert in der Variable mit diesem Namen gespeichertund die Funktion liefert kein Ergebnis zurück. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;td colspan="[%sizeOf value=$cols%]"&gt; ...&lt;/td&gt; </p><div> <b>Beispiel mit "assign":</b> </div><p> [%sizeOf value=$cols assign="foo"%] &lt;tdcolspan="[%$foo%]"&gt; ... &lt;/td&gt; </p></div><!-- NEXT: function --><h4> <a name="func_smilies"></a> smilies</h4><p> [%smilies [ width="&lt;integer&gt;" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> width</td><td> integer</td><td> nein</td><td> 1</td><td> Anzahl der Spalten der Tabelle</td></tr></tbody></table><p> Die Funktion "smilies" generiert automatisch eine Tabellealler verfügbaren Emoticons / Smilies, mit einem Link zum Einfügen indas angegebene Eingabefeld. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;textarea id="text"&gt;&lt;/textarea&gt; <br />[%smilies width="5"%] </p><p class="kommentar"> <img alt="" src="data/abb_gui_2.png" /> <br />Abbildung: Darstellung der Smilies (5 pro Zeile) </p></div><!-- NEXT: function --><h4> <a name="func_smlload"></a> smlLoad</h4><p> [%smlLoad file="&lt;string&gt;" [ section="string" ][ scope="string" ] %] </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> file</td><td> string</td><td> ja</td><td> -</td><td> Anzahl der Spalten der Tabelle</td></tr><tr><td> section</td><td> string</td><td> nein</td><td> -</td><td> ID eines Input- oder Textarea-Tags</td></tr><tr><td> scope</td><td> string</td><td> nein</td><td> local</td><td> gültige Werte: "local", "global", "parent","template_vars"</td></tr><tr><td> global</td><td> boolean</td><td> nein</td><td> false</td><td> <i>deprecated</i></td></tr></tbody></table><p> Diese Funktion bietet die gleiche Schnittstelle wie dieSmarty-Funktion "config_load". Allerdings arbeitet diese Funktion mitSML-Dateien mit den Dateiendungen "*.sml", "*.cfg" oder "*.config". </p><p> Anders als die herkömmlichen Konfigurationsdateien derSmarty-Engine, dürfen SML-Dateien mehrdimensionale Array-Definitionenenthalten. </p><p> Außerdem darf das Argument "scope" den Wert "template_vars"besitzen, welcher bewirkt, dass die Variablen der SML-Datei alsTemplatevariablen verwendet werden&nbsp; - damit ist es möglich aufmehrdimensionale Arrays in gewohnter Weise zuzugreifen. Dieses Featuregibt es nur für smlLoad() und nicht für config_load(). </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> <i>Im Verzeichnis "skins/.config" liegt die Datei"foo.sml". Sie hat folgenden Inhalt:</i> </p><pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">TEST</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">        </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">C</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">C</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">TEST</span><span class="xml1-symbol">&gt;</span></span></code></pre><p> <i>Im Template steht:</i> </p><pre><code>[%smlLoad file="foo.sml" section="TEST.B" scope="template_vars"%][%$C%]</code></pre><p> Ausgabe: 2 </p><pre><code>[%smlLoad file="foo.sml" section="TEST.B"%][%#C#%]</code></pre><p> Ausgabe: 2 </p><pre><code>[%smlLoad file="foo.sml" scope="template_vars"%][%$TEST.B.C%]</code></pre><p> Ausgabe: 2 </p></div><!-- END: function --><!-- NEXT: function --><h4> <a name="func_sml_load"></a> sml_load</h4><p> Der Funktionsname "sml_load" ist ein Alias für die Funktion <a href="#func_smlload">"smlLoad"</a>. Sie können beideBezeichnungen alternativ verwenden. </p><p> <a href="#func_smlload">Zur Beschreibung dieserFunktion</a>. </p><!-- END: function --><!-- NEXT: function --><h4> <a name="func_vardump"></a> varDump</h4><p> [%varDump var="&lt;mixed&gt;" %] </p><p class="kommentar"><img src="data/icon2.gif" style="margin: 5px; float: left;" alt="&#8226;" /><span style="font-weight: bold;"> Hinweis: </span>Diese Funktion dient ausschließlich dem Debugging. Sie steht nur zur Verfügung,wenn das Framework im Debugmodus betrieben wird. Ist dieser Modus deaktiviert,wird beim Versuch die Funktion aufzurufen ein Fehler erzeugt. Dies dient derSicherheit Ihrer Anwendung. </p><table class="syntax"><thead> <tr><th> Attribut </th><th> Typ </th><th> erforderlich </th><th> Defaultwert </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> var</td><td> mixed</td><td> ja</td><td> -</td><td> Wert der ausgegeben werden soll</td></tr></tbody></table><p> Die Funktion "varDump" gibt den Inhalt einer Variablen aus.</p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> [%varDump value=$INSTALLED_LANGUAGES%] </p><div> Ausgabe: </div><p style="white-space: pre;">array (  'de' => 1,  'en' => 1)</p></div><!-- END: function --></div><h3> <a name="mod"></a> neue Modifier</h3><div class="box"><div class="kommentar"> <img alt="" src="data/icon2.gif" style="margin: 5px; float: left;" /><span style="font-weight: bold;"> Hinweis: </span>Das folgende Kapitel beschreibt zusätzliche Modifier, welche Ihnen imYana Framework zur Verfügung stehen und nicht zur Grundfunktionalitätder Smarty Template Engine gehören. Die Grundfunktionen der SmartyTemplate Engine sind in der <a href="http://smarty.net/docs.php" target="_blank">Dokumentation auf http://smarty.net/docs.php</a> beschrieben. </div></div><div class="box"><!-- BEGIN: modifier --><h4> <a name="mod_css"></a> css</h4><p> [%$foo|css%] </p><p> Erstellt eine Verknüpfung mit dem angegebenen Pfad einer CSS-Datei. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> [%"default.css"|css%] </p><p> <b>wird umgesetzt zu:</b> </p><p> &lt;link rel="stylesheet" type="text/css"href="default.css"&gt; </p></div><!-- NEXT: modifier --><h4> <a name="mod_date"></a> date</h4><p> [%$foo|date%] </p><p> Erzeugt aus einer Variable, welche einen UTC enthält, eineJavaScript-Anweisung, welche die passende Zeitangabe entsprechend derZeitzone des Client-Browsers als Text ausgibt. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><pre><code><span style="font: 10pt Courier New;"><span class="html1-text">Template wurde erzeugt am: [%$CTIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span><span class="html1-text">Template wurde zuletzt bearbeitet am: [%$MTIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span><span class="html1-text">Template wurde zuletzt aufgerufen am: [%$ATIME|date%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span></span></code></pre><p> <b>wird umgesetzt zu:</b> </p><p> Template wurde erzeugt am: 1.12.2006 <br />Template wurde zuletzt bearbeitet am: 19.1.2007 <br />Template wurde zuletzt aufgerufen am: 21.1.2007 </p></div><!-- NEXT: modifier --><h4> <a name="mod_embeddedtags"></a>embeddedTags</h4><p> [%$foo|embeddedTags%] </p><p> Ersetzt in einer Variablen vom Typ String Tags gemäß der fürYANA vorgegebenen Syntax. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> $foo = "Text [b]Text[/b] Text" </p><p> <b>wird umgesetzt zu:</b> </p><p> Text &lt;span style="font-weight:bold;"&gt;Text&lt;/span&gt; Text </p></div><!-- NEXT: modifier --><h4> <a name="mod_href"></a> href</h4><p> [%$foo|href%] </p><p> Generiert einen Link auf die Datei index.php inklusive allererforderlichen Parameter. Der String $foo wird an das Ende desSearch-Strings der URL angehängt. Um die URL werden automatischdoppelte Anführungszeichen (") erzeugt. <br /></p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;ahref=[%"action=meinplugin_new_entry"|href%]&gt;NeuerEintrag&lt;/a&gt; </p><p> <b>wird umgesetzt zu:</b> </p><p> &lt;ahref="index.php?sessid=foo&amp;amp;id=beispiel&amp;amp;action=meinplugin_new_entry"&gt;NeuerEintrag&lt;/a&gt; </p></div><!-- NEXT: modifier --><h4> <a name="mod_smilies"></a> smilies</h4><p> [%$foo|smilies%] </p><p> Ersetzt in einer Variable vom Typ String enthaltene Codesdurch die dazu passenden Icons. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> <code> $foo = "Text :example: Text" </code> </p><p> [%$foo|smilies%] </p><p> <b>wird umgesetzt zu:</b> </p><p> Text <br />&lt;img border="0" hspace="2"src="common_files/smilies/example.gif"&gt; <br />Text </p></div><!-- NEXT: modifier --><h4> <a name="mod_url"></a> url</h4><p> [%$foo|url%] </p><p> Generiert ebenso wie der Modifier "href" einen Link,allerdings als absoluten Pfad und ohne Anführungszeichen zu erzeugen. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;meta http-equiv="Refresh" content="2;URL=[%"action=meinplugin_new_entry"|url%]"&gt; </p><p> <b>wird umgesetzt zu:</b> </p><p> &lt;meta http-equiv="Refresh" content="2; <br />URL=http://.../index.php?sessid=foo&amp;amp;id=beispiel&amp;amp;action=meinplugin_new_entry"&gt;</p></div><p class="kommentar"> <span style="font-weight: bold;"><img alt="" src="data/icon2.gif" style="margin: 5px; float: left;" /> Achtung!&nbsp; </span>Folgendes funktioniert nicht: <code> &lt;ahref="[%"action=foo"|url%]"&gt;link&lt;/a&gt; </code><br />Ergebnis: <code> &lt;ahref="skins/default/http://.../index.php?..."&gt;link&lt;/a&gt;</code> </p><!-- NEXT: modifier --><h4> <a name="urlEncode"></a> urlEncode</h4><p> [%$foo|urlEncode%] </p><p> Kodiert einen Text so, dass er sicher als Parameter in einerURL verwendet werden kann. Dazu wird die PHP-Funktion <code>urlencode()</code>verwendet. </p><div class="codeexample"><div> <b>Beispiel:</b> </div><p> &lt;ahref="?bar1=foo1&amp;amp;bar2=[%$foo|urlEncode%]"&gt; </p><p> <b>wird umgesetzt zu:</b> </p><p> &lt;ahref="?bar1=foo1&amp;amp;bar2=foo%20bar"&gt; </p></div></div><!-- END: modifier --><h2><a name="developer_plugin"></a>Plugins und Anwendungen erstellen</h2><h3>Allgemeines</h3><p> Im Yana Framework werden alle Webanwendungen als &quot;Plugins&quot;bezeichnet. Komplexere Anwendungen können aus mehreren Subsystemen bestehen.Diese Subsysteme sind jeweils verschiedene Plugins, die Hand in Hand arbeiten.Einige dieser &quot;Subsysteme&quot; sind bereits vorbereitet implementiert undmüssen lediglich verwendet werden.</p><p> Auf diese Weise bleiben dem Programmierer viele Arbeitenerspart. Sie müssen sich beispielsweise keine Sorgen um diePasswortabfrage machen. Es gibt bereits Plugins, welche das zuverlässigfür Sie erledigen. Auch das Administrationsmenü müssen sie nicht neu schreiben,sondern es einfach nur verwenden. Falls eine Komponente nicht gefällt, kann sieausgetauscht oder entfernt werden. Falls eine Funktion fehlt, kann siehinzugefügt werden, ohne andere Plugins verändern zu müssen. </p><p> Das Schreiben eines neuen Plugins wird einfacher unterVerwendung des YANA-SDK. Dabei handelt es sich um einen Assistenten,welcher alle erforderlichen Informationen abfragt und dannvollautomatisch eine neue Anwendung für Sie erstellt. Diese müssen Sielediglich noch Ihren Bedürfnissen anpassen. </p><h3> Software Development Kit (YANA-SDK)</h3><div class="box"> Das SDK unterstützt den Entwickler durcheine grafische Oberfläche. Die grafische Oberfläche führt dabei durchvier Schritte, in denen Aussehen, Verhalten und allgemeineInformationen zur Anwendung und zum Urheber bereitgestellt werdenkönnen. </div><div class="box"> Es wird dringend empfohlen, das SDK nur auf Webservern zuinstallieren, welche für den öffentlichen Zugriff gesperrt sind.Falls Sie eine Installationsanleitung benötigen, finden Sie diese im Kapitel<a href="#plugin_sdk_install">"Software Development Kit / Installation"</a>.</div><h4>Schritt 1: allgemeine Informationen</h4><div style="text-align: center;"> <img alt="Formular 1" src="data/abb_sdk_1_1.png" /> </div><div class="box"><p> Vorbereitend müssen zunächst allgemeine Informationen gegebenwerden. Siehe Abbildung oben. </p><dl><dt> Name derSoftware: </dt><dd>ein beliebiger Text.</dd><dt>Beschreibung: </dt><dd>ein beliebiger Text. HTML ist NICHT gestattet.</dd><dt> Grafik: </dt><dd>wählen Sie aus der Liste ein Icon, welches die Anwendungrepräsentiert</dd></dl></div><p style="text-align: center;"> <img alt="Formular 2" src="data/abb_sdk_1_2.png" /> </p><div class="box"><p> Einige Informationen zu Ihrer Person: </p><dl><dt>Autor: </dt><dd>Ihr Name</dd><dt>Mailadresse: </dt><dd>Adresse für Rückfragen.Sie können das Feld frei lassen, falls Sie möchten.</dd><dt>Homepage für Updates: </dt><dd>eine gültige URL. Wenn Sieeine Webseite haben, auf der Sie Updates für diese Anwendungbereitstellen möchten, geben Sie hier die Adresse an.</dd></dl></div><p style="text-align: center;"> <img alt="Formular 3" src="data/abb_sdk_1_3.png" /> </p><div class="box"><dl><dt>Priorität der Ausführung:</dt><dd>Dieser Wert bestimmt, in welcher Reihenfolge Pluginsausgeführt werden. Sicherheitsrelevante Plugins (Passwortabfragen etc.)sollten eine höhere Priorität haben, dadurch werden sie ausgeführt,bevor andere Plugins an der Reihe sind. Andere Plugins(Log-Files etc.) sollten eine niedrigere Priorität haben.</dd><dt> Typ der Anwendung: </dt><dd>Gültige Werte für den&nbsp;Typ der Anwendung sind: <br />&quot;default&quot;, &quot;primary&quot;, &quot;config&quot;, &quot;read&quot;, &quot;write&quot;,&nbsp; &quot;security&quot;.<ul><li> die Mitglieder der Gruppe &quot;security&quot; werden immerausgeführt und haben eine höhere Ausführungspriorität als alle anderenPlugins. Diese Gruppe dient für Plugins zur Nutzerauthentifizierung.</li><li> Die Gruppe &quot;config&quot; behandelt ausschließlich Ereignissevom Typ &quot;default&quot;, &quot;security&quot; oder &quot;config&quot;. Sie ist gedacht fürPlugins welche Funktionen zum Editieren von Konfigurationsdateienbereitstellen. Üblicherweise dienen diese Plugins als Erweiterungenanderer Plugins. Es besteht also eine Abhängigkeit. Diese Abhängigkeitkann unter anderem dadurch ausgedrückt werden, indem definiert wird,dass beide Plugins zum gleichen Paket gehören.</li><li> Die Gruppe &quot;write&quot; behandelt Ereignisse vom Typ &quot;write&quot;,&quot;security&quot; oder &quot;default&quot;. Sie ist gedacht für Plugins, welcheausschließlich Schreibzugriffe auf dem Dateisystem oder einerDatenbank durchführen. Diese Gruppe wird erfahrungsgemäß in der Praxiseher selten verwendet. Sie ist aus Gründen der Vollständigkeit hiererwähnt.</li><li> Die Gruppe &quot;read&quot; behandelt Ereignisse vom Typ &quot;read&quot;,&quot;security&quot; oder &quot;default&quot;. Sie ist gedacht für Plugins, welcheausschließlich Lesezugriffe auf dem Dateisystem oder einer Datenbankdurchführen. Diese Gruppe wird eher selten verwendet.</li><li> Die Gruppe &quot;primary&quot; behandelt alle Ereignisse außer&quot;config&quot;. Sie ist gedacht für Plugins welche als Hauptprogrammefungieren.</li><li> Die Gruppe &quot;default&quot; behandelt alle Ereignisseaußer solche vom Typ &quot;security&quot;, &quot;config&quot; und &quot;primary&quot;. Sie istgedacht für &quot;sonstige&quot; Plugins, beziehungsweise als Lösung fürEntwickler, welche sich unsicher darüber sind, in welche Gruppe sie IhrPlugin einordnen sollten.</li></ul></dd><dt> benötigt das Plugin: </dt><dd>ID-Kennung eines Plugins, welcheserforderlich ist, damit dieses funktioniert. Benutzen Sie dieses Feld,wenn Sie eine bestehende Anwendung durch neue Funktionen erweiternwollen. Das Auswahlmenü dient nur als Hilfestellung. Es muss nichtunbedingt eine der IDs dieses Menüs verwendet werden.</dd><dt> gehört zu Paket: </dt><dd>benutzen Sie dieses Feld um auszudrücken, dasszwei Plugins zusammen gehören. Tragen Sie dazu in dieses Feld dasgemeinsame "Package" ein, zu dem beide gehören.</dd></dl></div><h4>Schritt 2: Schnittstelle editieren</h4><p> Der zweite Schritt erlaubt dem Entwickler eigene Aktionen zurdie Schnittstelle hinzuzufügen. </p><p> <span style="font-weight: bold;">Falls Sie nur eine einfacheDatenbankanwendung erstellen wollen, können Sie diesen Schritt übergehen.</span>Die meisten Standardaktionen, wie das Anzeigen von Datenbankeinträgen, Suche,Editieren, Löschen oder Einfügen, müssen&nbsp;nicht von Handgeschrieben werden. Diese Aktionen erzeugt das SDK automatisch. </p><p> Wenn Sie andere Aktionen festlegen möchten, können Sie hierderen Schnittstelle definieren. Dazu können Vorlagen verwendet werden,welche das SDK vorgibt. Ein händische Erstellung ist ebenfalls möglich.Die Schnittstellen können auch nachträglich von Hand verändert werden. </p><p style="text-align: center;"> <img alt="Formular 4" src="data/abb_sdk_2_1.png" /> </p><div class="box"><p> Für einige Standardaktionen gibt es Vorlagen, welche benutztwerden können. Schauen Sie in die Auswahlliste. Wenn eine Optionausgewählt wurde, erscheint zum Vergleich eine Liste der erzeugtenAktionen. Sie können sich die gesamte Schnittstelle anschauen, indemSie die Option "Schnittstelle von Hand nachbearbeiten" auswählen. </p></div><div style="text-align: center;"> <img alt="Formular 5" src="data/abb_sdk_2_2.png" /> </div><div class="box"><p> Eine Schnittstelle enthält folgende Informationen: </p><dl><dt> Name der Aktion: </dt><dd>Name der Funktion (beliebig). Es sind nurZeichen von A-Z und 0-9 sowie "_" erlaubt. Schauen Sie sich zumVergleich die Beispiele an.</dd><dt> Modus: </dt><dd>sollte üblicherweise "Standard" sein. Der abgesicherte Modus ist fürden Fall, dass Sie absichtlich Default-Werte verwenden wollen odermüssen.</dd><dt> Templates:</dt><dd>ID-Kennung des Templates, welches verwendet werdensoll. Diese Kennung wird im Skin festgelegt. Schauen Sie sich dieSkin-Dateien im Verzeichnis "skins/default/*.config" an, oder benutzenSie das Auswahlmenü als Beispiel!&nbsp;</dd><dt>Zugriffsbeschränkung: </dt><dd>legt fest, welche Rechte einBesucher haben muss, damit er diese Aktion aufrufen kann.</dd></dl></div><div style="text-align: center;"> <img alt="Formular 6" src="data/abb_sdk_2_3.png" /> </div><div class="box"><p> Diese Option dient zur Kontrolle, beziehungsweise alsAlternative Eingabeoberfläche für erfahrene Nutzer. Sie sehen alledefinierten Aktionen und können Änderungen vornehmen. </p><p> Vorsicht! Fehler können dazu führen, dass das Plugin nichtkorrekt erzeugt werden kann. </p></div><h4>Schritt 3: GUI generieren</h4><p> Es kann für Datenbankanwendungen automatisch eine GUIgeneriert werden. Dazu wird eine Strukturdatei benötigt, welche dieDatenbank beschreibt. Aus den Informationen dieser Datei erzeugt das SDKfür jede Tabelle automatisch passende Template-Dateien, sowie die dazupassenden Aktionen und erzeugt zudem die erforderlichen Ergänzungen fürdie Schnittstelle der Anwendung. </p><p style="font-weight: bold;"> Wenn Sie keine solche Datenbankanwendungerstellen wollen, kann dieser Schritt übergangen werden. </p><p> Automatisch erzeugt werden jeweils: pro Tabelle ein Template zum Anzeigen,Editieren, Anlegen und Durchsuchen von Datenbankinhalten, sowie der PHP-Codefür die dazu gehörende Aktionen. Außerdem Aktionen, für den Download von Dateienund Bildern aus der Datenbank. Weiterhin wird eine JavaScript-Datei erzeugt, umüber Ajax Aktionen auf dem Server auslösen zu können. Zuletzt wird die Strukturdateiselbst im System gespeichert.</p><p style="text-align: center;"> <img alt="Formular 7" src="data/abb_sdk_3_1.png" /> </p><div class="box"><p> Sollten Sie noch keine Strukturdatei geschrieben haben,können Sie eine solche Datei erzeugen. Benutzen Sie dazu das Plugin "DB-Tools".Öffnen Sie das im Administrationsmenü "DB-Tools" / "Import".Wählen Sie eine der Optionen, um eine bereits existierende Datenbank zu importieren.Falls Sie bis jetzt noch keinerlei Vorlage für die Datenbank zur Verfügung haben, lesenSie bitte das <a href="#mein_erstes_Plugin">Einführungstutorial</a>. Beachten Sie auchdie Beispiele im <a href="#cookbook_database">Kochbuch für Entwickler</a>. </p></div><p style="text-align: center;"> <img alt="Formular 8" src="data/abb_sdk_3_2.png" /> </p><div class="box"><p> Wenn Sie eine Strukturdatei erzeugt, oder von Hand geschriebenhaben, geben Sie bitte hier den Pfad dieser Datei an. Klicken Sie auf"Durchsuchen", wenn Sie sich nicht sicher sind, wo sich diese befindet.</p></div><h4>Schritt 4: Installationsroutine erstellen</h4><div style="text-align: left;"> Sie können in Schritt 4eigene SQL-Dateien für die Installation Ihrer Datenbank angeben. DieserSchritt ist optional. Das Framework kann (seit Version 2.8.6) dieSQL-Anweisungen für die Installation bei Bedarf automatisch aus der inSchritt 3 angegebenen Strukturdatei erzeugen. Dies funktioniert für:MySQL, MS-SQL, PostgreSQL, Oracle Datenbanken, IBM DB2 und MS Access.Handarbeit ist somit (außer in Ausnahmefällen) unnötig. <br /><br />Falls für das gewünschte DBMS keine automatische Generierung möglichist, können Sie eine handgeschriebene SQL-Installationsdateibereitstellen. <br /><br /><div style="text-align: center;"> <img alt="Formular 9" src="data/abb_sdk_4_1.png" /> </div></div><div class="box"><p> Wählen Sie die Quelldatei im SQL-Format aus, welche dieInformationen zur Installation der Datenbank enthält. </p></div><p> Ihre SQL-Installationsdateien finden Sie nach der Generierungdes Plugins im Verzeichnis "config/db/.install/". Dieses enthält fürjedes unterstützte DBMS Unterverzeichnisse. Hierher können Sie auchnachträglich noch SQL-Dateien von Hand kopieren. Die Datei muss dengleichen Namen haben wie die Strukturdatei und die Endung ".sql"besitzen. </p><h3> Erzeugen der Anwendung</h3><p> Zum Abschließen der Konfiguration klicken Sie bitte auf dieSchaltfläche "Fertigstellen". </p><p> Das SDK produziert als Ausgabe ein Skelett der Anwendung,alle erforderlichen Templates, sowie alle notwendigenKonfigurationsdateien. Diese beinhalten insbesondere:Meta-Informationen des Plugins inklusive Beschreibung derSchnittstelle, Meta-Informationen der verwendeten Dateien,Meta-Informationen der verwendeten Templates. </p><p> Das soeben generierte Plugin ist sofort lauffähig. Sie findendie entsprechenden Dateien im Verzeichnis "plugins" beziehungsweise"skins/default", unter der ID-Kennung des Plugins. </p><h3> Plugin installieren</h3><p> Um das soeben erzeugte Plugin zu testen: </p><ol><li>Öffnen Sie die Datei "index.php" in Ihrem Browser</li><li> Öffnen Sie das Administrationsmenü. Sie müssenAdministratorrechte besitzen. Achten Sie darauf, dass der Expertenmodusgewählt ist.</li><li>Wählen Sie im rechten Menü die Schaltfläche "Liste neuladen".</li><li> Suchen Sie Ihr Plugin in der Liste und aktivieren Sie es,indem Sie die Checkbox neben dem Namen anklicken.</li><li>Speichern Sie Ihre Änderungen.</li><li>Melden Sie sich ab.</li><li> Der Name der Anwendung erscheint auf der Sitemap.Klicken Sie darauf um die Anwendung zu starten. (der Eintrag in derSitemap erscheint nur dann, wenn Sie in derSchnittstelle mindestens 1&nbsp;Aktion definiert haben,welche den Typ "read" oder "default" und die Zugriffsbeschränkung "0"(=öffentlich) besitzt. Falls nicht, müssen Sie den Namen dergewünschten Aktion über die Adressleiste des Browsers eingeben:index.php?action=my_action. Dieser Mechanismus ist dazu gedacht zuverhindern, dass Plugins, die allein nicht lauffähig sind, oderAdminrechte benötigen, auf der öffentlich zugänglichen Sitemaperscheinen)</li></ol><h2>Übersetzungen erstellen</h2><h3>Allgemeines</h3><p> Diese Anwendung benutzt Dateien zum Speichern von Inhalten,die in mehrere Sprache übersetzt werden können. Diese Dateien sind alsPakete zusammengefasst. Jeweils ein Paket passt genau zu einerÜbersetzung. Also beispielweise ein deutsches, oder ein englischesPaket. Jedes Paket enthält Texte und Grafiken. Die in den Textdateienbeschriebenen IDs sind Texten zugeordnet. Die IDs entsprechen exakt dendazu passenden Token in den Skinpaketen. </p><h3>Übersetzungen editieren</h3><p> Wenn Sie einen Fehler in einem Übersetzungspaket gefundenhaben und korrigieren wollen, finden Sie die entsprechenden Dateien imVerzeichnis "languages/". Jeweils ein Unterverzeichnis pro Paket. Jedesder Pakete enthält Dateien, welche passend den Plugins benannt sind,für die sie bestimmt sind. </p><p> Das Editieren der Dateien ist möglichst einfach gestaltet.Öffnen Sie die Datei in einem Texteditor Ihrer Wahl. Die Dateien sindin einem XML-ähnlichen Format geschrieben. Vermeiden Sie die Verwendungvon HTML-Tags in diesen Dokumenten. Das Benutzen von Embedded Tags isterlaubt. Beachten Sie, dass keine Zeilenumbrüche innerhalb desFließtextes gestattet sind. Um einen Zeilenumbruch einzufügen,benutzen Sie den Emb. Tag [br]. </p><p> Wenn Sie Übersetzungen editieren empfiehlt es sich, nicht dieOriginaldaten zu überschreiben. Machen Sie stattdessen eine Kopie derDateien als neues Sprachpaket. </p><h3> neue Sprachpakete erzeugen</h3><p> Um die Textmeldungen der Anwendung in eine neue Sprache zuübersetzen, Speichern Sie eine Kopie des Verzeichnisses"languages/de" und der zugehörigen Konfigurationsdatei"deutsch.config" unter einem neuen Namen. Sinnvollerweise passend zurSprache, für welche die Übersetzung bestimmt ist. Beispielsweise"languages/es". </p><p> Sie haben die Möglichkeit Ihre persönlichen Informationen,wie Name des Autors, oder eine kurze Beschreibung unterzubringen.Editieren Sie diese Einstellungen in der Konfigurationsdatei desSprachpakets. Außerdem können Sie eine passende Grafik einfügen.Üblicherweise eine Landesflagge. Ersetzen Sie dazu die Datei"flagge.gif". &nbsp;Den Namen der Datei legen Sie in derKonfigurationsdatei unter der ID "LANGUAGE_INFO.LOGO" fest. </p><h2>Coding Principles</h2><h3>Allgemeines</h3><p> "Coding principles" sind grundsätzliche Regeln zumSchreiben und Formatieren von PHP-Code. Die Einhalt dieser Regeln hilft,Quellcode einheitlich, lesbar und übersichtlich zu halten.</p><p> Verschiedene Autoren die gemeinsam den gleichen Quellcode bearbeiten, habenoft gegensätzliche Auffassungen davon, wie gut lesbarer Code aussehen sollte.Um dennoch eine einheitliche Schreibweise und gleichbleibende Qualitätsicherzustellen ist es notwendig, sich auf die Einhaltung gemeinsamer Regeln zueinigen. Es darf nicht möglich sein von der Formatierung des Quellcodes auf denAutor zu schließen.</p><h3>PHP-Tags und Dateiformate</h3><p> Alle Skripte müssen die Dateiendung *.php benutzen und müssen in UTF-8 kodiert sein.Zeilenumbrüche müssen das Linux-Format benutzen (LF statt CRLF oder CR). </p><p> Verwenden Sie für Skript-Tags die Schreibweise &lt;?php ... ?&gt; mit schließendem Tagam Ende der Datei. Short-Tags (&lt;? ... ?&gt;) und andere Schreibweisen sind nichtgestattet.</p><p> Der geschriebene Code darf bei aktiviertem Error-Reporting keine E_WARNINGoder E_NOTICE verursachen. Setzen Sie zum Testen &quot;error_reporting(E_ALL);&quot;.</p><p> Eine Zeile Quellcode sollte nicht länger als 120 Zeichen sein.</p><h3>Einrückung und Kommentare</h3><p> Der Quellcode sollte mit 4 Leerzeichen eingerückt werden.Verwenden Sie keine Tabulatoren. </p><p> Für Kommentare verwenden Sie für mehrzeilie Kommentare stets /* comment */.Für einzilige Kommentare // comment. Nicht gestatttet ist die Verwendung von # comment.Alle Kommentare müssen auf Englisch geschrieben werden.</p><p> Im Folgenden ein Beispiel: </p><pre class="box">&lt;?php/* multi-line * comment */function foo(){    // single-line comment    foreach ($input as $key => $element)    {        $element = strip_tags( (string) $element);        if (preg_match(&quot;/\//&quot;, $key)) {            $key = preg_replace(&quot;/\//&quot;, &quot;.&quot;, $key);            Hashtable::set($output, $key, $element);        } else {            $output[$key] = $element;        }    } // end foreach}?&gt;</pre><h3> Deklaration und Gültigkeit von Variablen</h3><p> Variablen müssen auf Englisch und in CamelCase benannt werden - also$debugSourcePath anstatt $debug_source_path. Der erste Buchstabe wird kleingeschrieben. </p><p> Viele typische Fehler in PHP rühren daher, dass Programmiererannehmen, eine Variable sei unbenutzt, von einem bestimmten Typ, oderwürde an nach einer bestimmten Code-Zeile nicht mehr verwendet.Beachten Sie: eine Variable immer so spät wie möglich deklarieren und so frühwie möglich löschen. Variablen müssen stets initialisiert werden.</p><pre class="box">&lt;?php// Beginn der Lebensdauerassert('!isset($variable); // Cannot redeclare $variable');$variable = 0;// ...// Wird die Variable nicht mehr benötigt, sollte sie explizit gelöscht werdenunset($variable);// Ende der Lebensdauer?&gt;</pre><h3> If und Else</h3><p> Die Verwendung von Klammern { } ist obligatorisch, selbst in Fällen wo diese technisch nur optional ist.Verwenden Sie zur besseren Lesbarkeit Leerzeichen zwishen den Vergleichsoperatoren.</p><pre class="box">&lt;?phpif ($test1 === 1) {    $command1;} elseif ($test2 === 2 || $test === 3) {    $command2;} else {    $commandN;} // end if?&gt;</pre><h3> Try und Catch </h3><p> Falls Sie die Klasse &quot;Exception&quot; abfangen wollen, so muss dies derletzte Catch-Block der Anweisung sein.</p><pre class="box">&lt;?phptry {    $command1;} catch (FooException $e) {    $command2;} catch (BarException $e) {    $command3;} catch (Exception $e) {    $commandN;}?&gt;</pre><h3> Switch</h3><p> Beachten Sie für die Switch-Anweisung die Einrückung und dieZeilenumbrüche, diese dienen der Lesbarkeit. </p><p> Alle Case-Anweisungen müssen mit einer Break-Anweisung geschlossen werden.Ausnahmefälle müssen ausdrücklich mit dem Kommentar &quot;// fall through&quot;anstatt &quot;break&quot; dokumentiert werden. </p><p> Der Default-Statement ist obligatorisch und darf nicht fehlen, selbst wennes leer ist. </p><pre class="box">&lt;?phpswitch ($variable){    case 1:        $command1;    break;    case 2:    case 3:        $command2;    break;    case 4:        $command4;    // fall through    default:        $commandN;    break;} // end switch?&gt;</pre><h3> For, Foreach und While</h3><p> Achten Sie auf die Zeilenumbrüche, diese dienen der Lesbarkeit. </p><p> Prüfen Sie vor der Schleife unbedingt ob die verwendeten Schleifenvariablenbereits benutzt sind, da PHP diese sonst überschreibt.Löschen Sie Schleifenvariablen nach Verwendung mit unset().</p><pre class="box">&lt;?phpassert('!isset($i); // Cannot redeclare $i');for ($i = 0; $i &lt; sizeOf($input); $i++){    $command1;} // end forunset($i);assert('!isset($key); // Cannot redeclare $key');assert('!isset($element); // Cannot redeclare $element');foreach ($input as $key => $element){    $command2;} // end foreachunset($key, $element);while ($test){    $command3;} // end while?&gt;</pre><h3> Klassen und Funktionen</h3><p> Verwenden Sie CamelCase-Schreibweise. Der erste Buchstabe muss beiFunktionen klein, und bei Klassen groß geschrieben werden. </p><p> Die Namen von privaten Funktionen müssen mit einem Unterstrich beginnen.Die Namen privater Variablen dürfen (müssen jedoch nicht) ebenfalls mit einemUnterstrich beginnen. In allen anderen Fällen muss der Name immer mit einemBuchstaben (a-z) beginnen. </p><p> Empfehlung: der Namen einer Funktion sollte aus einem Verb und einemSubstantiv bestehen, z.Bsp.: "getBeer()" oder "setContent()".Ist der Rückgabewert ein Array, so verwenden Sie den Plural, z.Bsp.: "getLines()". </p><p> Zur Dokumentation von Klassen und Funktionen muss PHP-Doc(http://www.phpdoc.org/) verwendet werden. </p><p> Die Tags @param, @return, @var und @package sind Pflicht.Dokumentation muss in Englisch verfasst sein.</p><p> Vermeiden Sie es Variablen als &quot;public&quot; zu kennzeichnen.Verwenden Sie stattdessen Zugriffsfunktionen (&quot;Getter&quot; und &quot;Setter&quot;). </p><pre class="box">&lt;?php/** * &lt;&lt;Stereotype&gt;&gt; name * * The purpose of this class is ... * * @access      public * @package     package * @subpackage  subpackage */class MyClass extends BaseClass implements Foo, Bar{    /**     * Short description     *     * @access  private     * @var     string     */    private $var0 = "";    /**#@+     * Block-declaration     *     * @access  private     */    /** @var  array */  private $var1 = array();    /** @var  int   */  private $var2 = 0;    /** @var  View  */  private $var3 = null;    /** @var  array */  private $var4 = array();    /** @var  array */  private $var5 = array();    /**#@-*/    /**     * Constructor     *     * Long description.     *     * @access  public     * @param   string  $filename  path to file.ext     */    public function __construct($filename)    {        assert('is_string($filename); // Wrong type for argument 1. String expected');        $command1;    }    /**     * Short description     *     * Long description.     *     * @access  public     * @param   string  $id  alpha-numeric, unique identifier     * @return  int     */    public function getVar($filename)    {        assert('is_string($filename); // Wrong type for argument 1. String expected');        // ...        assert('is_int($result); // Wrong result type. Integer expected');        return $result;    }}?&gt;</pre><!-- NEXT CHAPTER --><h2><a name="API-Dokumentation"></a><a href="api_documentation/index.html">API-Dokumentation</a></h2><div class="box"><p>Die API-Dokumentation enthält Informationen für Entwickler,die eigene Erweiterungen schreiben wollen. Hier finden SieBeschreibungen zu Schnittstellen und Beispiele zu allen verfügbarenKlassen und Funktionen der Software.</p><p><a href="api_documentation/index.html">KlickenSie hier, um die API-Dokumentation zu öffnen.</a></p></div><h2><a name="Kochbuch"></a>Kochbuch</h2><h3> <a name="cookbook_database"></a>Arbeiten mit Datenbanken</h3><h4>Allgemeines zum Verständnis</h4><h5>Welche Features werden unterstützt?</h5><p> Das Yana-Framework bietet eine API zum Arbeiten mitDatenbanken, welche auf PEAR-DB basiert. Diese API erweitert dieFähigkeiten von PEAR um folgende Features: </p><ul><li style="font-weight: bold;"> Unterstützung vonDatenbankschemata</li><li style="list-style-type: none;"> <span style="font-style: italic;">... durch die Unterstützung vonSchemata sind folgende zusätzlich Features möglich, die PEAR-DB nichtanbietet: </span><ul><li>automatische Validierung von Queries gegen dasDatenbankschema</li><li> automatisiertes Auflösen von Fremdschlüsselbeziehungen</li><li> automatische Typ-Prüfung vor Input/Update, mitzusätzlichen Datentypen: "select", "url", "ip" und "mail"</li><li> automatisches Logging von Datenbankereignissen</li><li> automatisches Erstellen von Backups gelöschterDatensätze in Log-Dateien</li><li> automatische Validierung von nutzerdefiniertenConstraints in PHP-Syntax (unabhängig vom DBMS)</li><li> automatische Behandlung paralleler Updates undTransaktionen (verhindert, dass Updates mehrerer Nutzer sichgegenseitig überschreiben)</li><li> Formulargenerator zum Generieren einer grafischenOberfläche auf Grundlage eines Schemas</li><li> Reverse-Engineering von Datenbanken in Strukturdateien</li><li> Readonly-Flag für Datenbanken, Tabellen und Spalten</li><li> vom DBMS unabhängige Trigger in PHP-Syntax</li><li> Schemadateien dürfen weitere Schemadateien importieren</li></ul></li><li style="font-weight: bold;"> intuitive API mitQuery-Builder</li><li style="list-style-type: none;"> <span style="font-style: italic;">... der Query-Builder bietetfolgende Features: </span><ul><li>automatisches Quoting von Identifiern und Werten</li><li>automatisches Erzeugen von Queues für Insert/UpdateStatements</li><li>automatisches Caching von Inserts/Updates</li><li>automatische Kapselung von SQL-Anweisungen inTransaktionen</li><li>breiter Schutz vor vielen Varianten von SQL-Injections</li><li>optionaler Bypass zu PEAR-DB</li><li> Funktion zum Dump der aktuellen Datenbankstruktur ineine Schemadatei</li><li>automatisches Auflösen von Vererbungsbeziehungenzwischen Tabellen</li></ul></li><li style="font-weight: bold;"> eigene FlatFile-Datenbank</li><li style="list-style-type: none;"> <span style="font-style: italic;">... springt automatisch ein,wenn keine Datenbank zur Verfügung steht oder der Endanwender keineDatenbank benutzen möchte. Damit sind Datenbankfeatures auch aufServern ohne MySQL-Unterstützung verfügbar. Die FlatFile-Datenbankbietet folgende Features: </span><ul><li>Unterstützung von Auto-Increment im Stil von MySQL</li><li>Unique-Constraints und Indexes</li><li>Unterstützung von Transaktionen</li><li>Read-Stability Isolation Level</li><li> Funktion zur Synchronisation von Tabellen zwischeneiner MySQL-Datenbank und der Flatfile-Datenbank</li></ul></li></ul><h5>Welche Features werden nicht unterstützt?</h5><p> Es gibt einige Features welche die <b>FlatFile-Datenbank</b>zur Zeit nicht unterstützt, die aber für eine zukünftige Versiongeplant sind. </p><ul><li>Random Access für schnelleren Zugriff auf größereDatenbestände</li></ul><p> Es gibt einige Features welche in <b>Datenbankschemata</b>zur Zeit nicht unterstützt werden, aber für zukünftige Versionengeplant sind. </p><ul><li>Unterstützung von compound primary keys</li></ul><h4> Wie erstelle ich eine Verbindung zu einer Datenbank?</h4><p> Voraussetzung ist eine Schemadatei. Die Schemadateien müssensich im Verzeichnis "config/db/" befinden und die Dateiendung ".config"besitzen. </p><h5>Datenbankverbindung mit den aktuellen Verbindungsdatenherstellen</h5><pre class="codeexample">&lt;?phpglobal $YANA;$name_der_strukturdatei = &quot;guestbook&quot;;$datenbankverbdinung = $YANA-&gt;connect($name_der_strukturdatei);?&gt;</pre><p> Die Verbindungsdaten für die Datenbank (wie Hostadresse,Nutzername und Passwort) werden vom Nutzer im Administrationsmenüeingegeben. Sie müssen diese im Quellcode NICHT angeben. </p><p> Wenn Sie keine Strukturdatei verwenden möchten, können Siediese Angabe frei lassen. Dies wird jedoch in einer Produktionsumgebungnicht empfohlen. In diesem Fall wird das Framework versuchen, dieAngaben selbst zu ermitteln. Falls dies fehlschlägt ist dieDatenbankverbindung nicht nutzbar. </p><h5>Datenbankverbindung mit individuellen Verbindungsdatenherstellen</h5><p> Wenn Sie eine Verbindung mit einer Datenbank herstellen, aberdie Verbindungsdaten selbst angeben wollen, dann gehen Sie wie folgtvor: </p><pre class="codeexample">&lt;?php/* Die Verbindungsdaten werden als assoziatives Array angegeben: */$verbindungsdaten = array(    'DBMS' =&gt; 'mysql',    'HOST' =&gt; 'localhost',    'PORT' =&gt; 0,    'USERNAME' =&gt; 'nutzername',    'PASSWORD' =&gt; 'passwort',    'DATABASE' =&gt; 'name_der_datenbank');/* Um die YANA-API zur Kommunikation mit der Datenbank zu benutzen schreiben Sie: */$datenbank_server = new DbServer($verbindungsdaten);$yana_api = new DbStream($datenbank_server);/* Um die PEAR-API zur Kommunikation mit der Datenbank zu benutzen schreiben Sie: */$datenbank_server = new DbServer($verbindungsdaten);$pear_api = $datenbank_server-&gt;get();/* Um die PEAR-API mit den Standardverbindungsdaten zu benutzen schreiben Sie: */$datenbank_server = new DbServer();$pear_api = $datenbank_server-&gt;get();?&gt;</pre><h4>Wie prüfe ich, ob im Administrationsmenü dieDatenbankverbindung aktiviert ist?</h4><pre class="codeexample">&lt;?phpif (YANA_DATABASE_ACTIVE === true) {    print &quot;Datenbank ist aktiviert&quot;;} else if (YANA_DATABASE_ACTIVE === false) {    print &quot;Datenbank ist NICHT aktiviert&quot;;}?&gt;</pre><h4>Wie erstelle ich eine Datenbankabfrage?</h4><p> Dazu bietet die API die Funktion $db-&gt;get(string$key). Diese führt eine Select-Anfrage auf der Datenbank aus undliefert den Wert an der Stelle zurück, welche mit dem Argument $keyangegeben wurde. </p><ul><li> Adressiert &quot;key&quot; einen einzelnen Wert, dann ist derRückgabewert eine skalare Variable.</li><li> Adressiert &quot;key&quot; eine Tabelle, dann ist der Rückgabewertein zweidimensionales assoziatives Datenfeld</li><li> Adressiert &quot;key&quot; eine Zeile, so ist der Rückgabewert eineindimensionales assoziatives Datenfeld, wobei die Indizes die Namender Felder darstellen.</li><li> Adressiert &quot;key&quot; eine Spalte, so ist der Rückgabewert eineindimensionales assoziatives Datenfeld, wobei die Indizes die Wertedes Pimärschlüssels enthalten.</li></ul><pre class="codeexample">&lt;?phpglobal $YANA;$db = $YANA-&gt;connect(&quot;guestbook&quot;);/*   Es gilt folgende Syntax:   $db-&gt;get(            string &quot;$tabelle.$zeile.$spalte&quot;,            string $where,            string $order_by,            int $offset,            int $limit           );   Beispiel:   $value = $db-&gt;get(&quot;table.1.field&quot;,&quot;row1=wert1,row2=wert2&quot;,&quot;row1&quot;,0,1);   erzeugt folgende SQL-Anfrage:   SELECT field from table where primary_key = &quot;1&quot; and row1 like '%wert1%' and row2 like '%wert2%' order by row1 limit 1;*//* Feld ausgeben */$value = $db-&gt;get(&quot;table.1.field&quot;);/*   erzeugt folgende SQL-Anfrage:   SELECT field from table where primary_key = &quot;1&quot;;*//* Spalte ausgeben: */$column = $db-&gt;get(&quot;table.*.field&quot;);foreach ($column as $row =&gt; $value){    print &quot;&lt;p&gt;Value of 'field' in row '$row' = $value&lt;/p&gt;&quot;;}/*   erzeugt folgende SQL-Anfrage:   SELECT field from table;*//* Zeile ausgeben: */$row = $db-&gt;get(&quot;table.2&quot;);foreach ($row as $column =&gt; $value){	echo &quot;&lt;p&gt;Value of column '$column' in row '2' = $value&lt;/p&gt;&quot;;}/*   erzeugt folgende SQL-Anfrage:   SELECT * from table where primary_key = &quot;2&quot;;*//* Tabelle ausgeben: */$table = $db-&gt;get(&quot;table&quot;);foreach ($table as $index =&gt; $row){	foreach ($row as $column =&gt; $value)	{		echo &quot;&lt;p&gt;Value at 'table.$index.$column' = $value&lt;/p&gt;&quot;;	}}/*   erzeugt folgende SQL-Anfrage:   SELECT * from table;*/?&gt;</pre><h4>Wie führe ich INSERT- / UPDATE-Statements aus?</h4><p> Dazu verwenden Sie die Funktion$db-&gt;insert($key,$value). Diese fügt den Wert &quot;value&quot; an derStelle &quot;key&quot; ein. Dabei kann es sich entweder um eine Zeile oder eineTabellenzelle handeln. Das Einfügen von ganzen Tabellen oder Spaltenist nicht möglich. </p><p> Beim ersten Aufruf der Funktion wird automatisch eineTransaktion gestartet. Benutzen Sie die Funktion $db-&gt;write() umein COMMIT der Daten auszulösen. Wenn eine der Anweisungen in derTransaktion fehlschlägt, wird automatisch ein CALLBACK ausgeführt. </p><p> Falls die Zeile nicht existiert, wird ein die SQL-Anweisung&quot;insert&quot; benutzt, sonst &quot;update&quot;. </p><p> Die Funktion gibt bei Erfolg &quot;true&quot; zurück und &quot;false&quot; sonst.</p><p> Bitte beachten Sie: die SQL-Anweisung wird erst ausgeführt,wenn die Funktion $db-&gt;write() aufgerufen wird. </p><p> Im Folgenden einige Beispiele: </p><pre class="codeexample">&lt;?phpglobal $YANA;$db = $YANA-&gt;connect(&quot;guestbook&quot;);/* Neue Zeile einfügen: */$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;wert1&quot;,&quot;row2&quot;=&gt;&quot;wert2&quot;));$db-&gt;write();/* Zeile aktualisieren: */$db-&gt;insert(&quot;table.2&quot;,array(&quot;row1&quot;=&gt;&quot;wert1&quot;,&quot;row2&quot;=&gt;&quot;wert2&quot;));$db-&gt;write();/* Zelle aktualisieren: */$db-&gt;insert(&quot;table.2.row1&quot;,&quot;wert1&quot;);$db-&gt;write();/* Transaktion durchführen: */$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;wert1&quot;,&quot;row2&quot;=&gt;&quot;wert2&quot;));$db-&gt;insert(&quot;table.*&quot;,array(&quot;row1&quot;=&gt;&quot;wert3&quot;,&quot;row2&quot;=&gt;&quot;wert4&quot;));$db-&gt;insert(&quot;table.1.row3&quot;,&quot;wert1&quot;);$db-&gt;write();?&gt;</pre><h4>Wie führe ich DELETE-Statements aus?</h4><p> Dazu verwenden Sie die Funktion $db-&gt;remove($key).Diese löscht den Datensatz an der Adresse &quot;key&quot; aus der Tabelle. DieFunktion gibt bei Erfolg &quot;true&quot; zurück und &quot;false&quot; sonst. Es können nurDatensätze gelöscht werden. Keine Tabellen, Zellen oder Spalten. </p><p> Beachten Sie folgende Beschränkung: aus Sicherheitsgründenwird pro Aufruf stets maximal 1 Datensatz gelöscht. Wenn Sie mehrereDatensätze löschen wollen, müssen Sie die Funktion mehrmals aufrufen.Diese Einschränkung soll verhindern, dass jemand durch Unachtsamkeitoder aus einem Versehen eine gesamte Tabelle löschen kann. </p><p> Bitte beachten Sie: die SQL-Anweisung wird erst ausgeführt,wenn die Funktion $db-&gt;write() aufgerufen wird. </p><pre class="codeexample">&lt;?phpglobal $YANA;<br />$db = $YANA-&gt;connect(&quot;guestbook&quot;);/* Die zweite Zeile löschen: */$db-&gt;remove(&quot;table.2&quot;);$db-&gt;write();/** * erzeugt folgende SQL-Anfrage: * DELETE FROM table WHERE primary_key = &quot;2&quot; LIMIT 1; *//* Die ganze Tabelle &quot;table&quot; löschen: */for ($i=0; $i &lt; $db-&gt;length($table); $i++){	$db-&gt;remove(&quot;table.*&quot;);}$db-&gt;write();/** * erzeugt folgende SQL-Anfrage: * DELETE FROM table WHERE primary_key = &quot;2&quot; LIMIT 1; */?&gt;</pre><h4> Wie finde ich heraus wie viele Datensätze eine Tabelle hat?</h4><pre class="codeexample">&lt;?phpglobal $YANA;<br />$db = $YANA-&gt;connect(&quot;guestbook&quot;);if ($db-&gt;length(&quot;table&quot;) === 0) {	print &quot;Die Tabelle 'table' ist leer.&quot;;} else {	print &quot;Die Tabelle 'table' enthält &quot;.$db-&gt;length(&quot;table&quot;).&quot; Datensätze.&quot;;}?&gt;</pre><h4> Wie finde ich heraus ob eine Tabelle / Datensatz existiert?</h4><pre class="codeexample">&lt;?phpglobal $YANA;<br />$db = $YANA-&gt;connect(&quot;guestbook&quot;);/* Datenbankverbindung prüfen: */if ($db-&gt;exists() === true) {	print &quot;Die Datenbankverbindung ist verfügbar.&quot;;} else if ($db-&gt;exists() === false) {	print &quot;Die Datenbankverbindung ist NICHT verfügbar&quot;;}/* Prüfen ob Tabelle existiert: */if ($db-&gt;exists(&quot;table&quot;) === true) {	print &quot;Die Tabelle 'table' existiert.&quot;;} else if ($db-&gt;exists(&quot;table&quot;) === false) {	print &quot;Es gibt keine Tabelle mit dem Namen 'table'.&quot;;}/* Prüfen ob Datensatz existiert: */if ($db-&gt;exists(&quot;table.2&quot;) === true) {	print &quot;Der Datensatz '2' in der Tabelle 'table' existiert.&quot;;} else if ($db-&gt;exists(&quot;table.2&quot;) === false) {	print &quot;Es gibt keinen Datensatz '2' in der Tabelle 'table'.&quot;;}/* Prüfen ob Feld existiert und einen Wert hat: */if ($db-&gt;exists(&quot;table.2.field&quot;) === true) {	print &quot;Das Feld 'field' im Datensatz '2' in Tabelle 'table' hat einen Wert.&quot;;} else if ($db-&gt;exists(&quot;table.2.field&quot;) === false) {	print &quot;Das Feld 'field' im Datensatz '2' in Tabelle 'table' existiert nicht oder ist NULL.&quot;;}/* Prüfen ob mindestens 1 Feld existiert, dass NOT NULL ist: */if ($db-&gt;exists(&quot;table.*.field&quot;) === true) {	print &quot;Die Spalte 'field' in Tabelle 'table' existiert.&quot;;} else if ($db-&gt;exists(&quot;table.*.field&quot;) === false) {	print &quot;Die Spalte 'field' in Tabelle 'table' existiert nicht oder alle Werte sind NULL.&quot;;}?&gt;</pre><h4> Wie erstelle ich eine Installationsroutine für meineTabellen?</h4><p> Das manuelle Erstellen von Installationsroutinen für das YanaFramework ist nicht erforderlich. </p><p> Das Yana Framework hat eine generische Installationsroutinefür Datenbanken, welche Sie im Administrationsmenü, in derBasiskonfiguration im Menü "Datenbank Setup" finden. Über dieses Menükann ein Nutzer alle Tabllen installieren oder Inhalte zwischen demDBMS und der FlatFile-Datenbank synchronisieren. </p><p class="kommentar"> <img alt="Screenshot" src="data/screen45.png" /> <br />Abbildung: Herstellen einer Verbindung und Installation von Datenbanken</p><p> Die dafür erforderlichen SQL-Anweisungen erstellt dasFramework automatisch aus der Strukturdatei Ihrer Datenbank. Derfolgende Quellcode zeigt, wie Sie den durch das Framework generiertenCode einsehen können. </p><pre class="codeexample">&lt;?php$db = $YANA->connect('guestbook');$dbe = new DbExtractor($db);// Erzeugen der "Create Table ..."-Anweisungen für MySQL$sql = $dbe->createMySQL();// es existieren einige weitere Funktionen für andere DBMS$sql = $dbe->createPostgreSQL();$sql = $dbe->createMSSQL();$sql = $dbe->createMSAccess();$sql = $dbe->createDB2();$sql = $dbe->createOracleDB();// Ergebnis ausgebenprint implode("\n", $sql);?&gt;</pre><p> Falls der generierte Code nicht Ihren Erwartungen entspricht,können Sie diesen durch eine eigene SQL-Datei ersetzen. Kopieren Siediese bitte in das Verzeichnis "config/db/.install/{DBMS}", wobei Siestatt {DBMS} das Unterverzeichnis wählen, welches dem gewünschten DBMSentspricht. Die Datei "config/db/.install/readme.txt", enthält eineListe der unterstützten DBMS und der Namen der für diese vorgesehenenVerzeichnisse. Sie müssen nicht für alle DBMS eigene Dateienhinterlegen. Falls eine erforderliche Datei nicht existiert, wird dasFramework (wie zuvor) automatisch die notwendigen SQL-Anweisungenselbst erzeugen. </p><p> Weitere Details finden Sie in der API-Dokumentation derKlasse: "DbExtractor". </p><h4> Wie importiere ich eine SQL-Datei mit DDL-Anweisungen?</h4><pre class="codeexample">&lt;?phpglobal $YANA;$db = $YANA-&gt;connect(&quot;guestbook&quot;);$db-&gt;importSQL('data.sql');?&gt;</pre><h4> Wie exportiere ich Daten in eine CSV-Datei?</h4><pre class="codeexample">&lt;?phpglobal $YANA;$db = $YANA-&gt;connect(&quot;guestbook&quot;);$csv = $db-&gt;toString(&quot;table&quot;);file_put_contents(&quot;table.csv&quot;, $csv);?&gt;</pre><h3> <a name="title"></a> Arbeiten mit demSchema einer Datenbank</h3><h4> <a name="exportStructure"></a> Wieexportiere ich ein Datenbankschema in eine Datei?</h4><pre class="codeexample">&lt;?phpglobal $YANA;$db = $YANA-&gt;connect(&quot;guestbook&quot;);$db-&gt;exportStructure(&quot;guestbook.config&quot;);?&gt;</pre><h4> <a name="structure"></a> Aufbau einerStrukturdatei</h4><p> Strukturdateien sind im mit XML-verwandten SML-Formatgeschrieben (siehe auch das Kapitel: <a href="#article_sml">"DasSML Dateiformat"</a>). Im Folgenden finden Sie eine informelle,Grobübersicht zu den einzelnen Elementen. </p><p> Der folgende informelle Text erläutert die Struktur <a href="#foot_structure">*</a> </p><pre class="codeexample"><span class="struct_definition">DATABASE</span> {    <span class="struct_element">use_strict</span>    <span class="struct_value">(true | false)</span>    <span class="struct_element">readonly?</span>     <span class="struct_value">(true | false)</span>    <span class="struct_element">description?</span>  <span class="struct_value">#string</span>    <span class="struct_element">include?</span>      <span class="struct_value">(#string | #array)</span>    <span class="struct_definition">TABLES</span> {    <span class="struct_element">    readonly?</span>      <span class="struct_value">(true | false)</span>    <span class="struct_element">    description?</span>   <span class="struct_value">#string</span>    <span class="struct_element">    primary_key</span>    <span class="struct_value">#string</span>    <span class="struct_element">    profile_key?</span>   <span class="struct_value">#string</span>    <span class="struct_element">    foreign_keys?</span>  <span class="struct_value">#array</span>    <span class="struct_element">    CONSTRAINT?</span>    <span class="struct_value">{ ... }</span>    <span class="struct_element">    TRIGGER?</span>       <span class="struct_value">{ ... }</span>    <span class="struct_definition">    CONTENT</span> {    <span class="struct_element">        readonly?</span>     <span class="struct_value">(true | false)</span>    <span class="struct_element">        description?</span>  <span class="struct_value">#string</span>    <span class="struct_element">        type</span>          <span class="struct_value">#string</span>    <span class="struct_element">        length?</span>       <span class="struct_value">#numeric</span>    <span class="struct_element">        precision?</span>    <span class="struct_value">#numeric</span>    <span class="struct_element">        required?</span>     <span class="struct_value">(true | false | AUTO)</span>    <span class="struct_element">        default?</span>      <span class="struct_value">#string</span>    <span class="struct_element">        unique?</span>       <span class="struct_value">(true | false)</span>    <span class="struct_element">        index?</span>        <span class="struct_value">(true | false)</span>    <span class="struct_element">        CONSTRAINT?</span>   <span class="struct_value">{ ... }</span>    <span class="struct_element">        TRIGGER?</span>      <span class="struct_value">{ ... }</span>            <span class="struct_comment">/* nur für numerische Datentypen */</span>    <span class="struct_element">        unsigned?</span>     <span class="struct_value">(true | false)</span>    <span class="struct_element">        zerofill?</span>     <span class="struct_value">(true | false)</span>    <span class="struct_definition">        DISPLAY?</span> {    <span class="struct_definition">            HIDDEN</span> {    <span class="struct_element">                new?</span>     <span class="struct_value">(true | false)</span>    <span class="struct_element">                edit?</span>    <span class="struct_value">(true | false)</span>    <span class="struct_element">                select?</span>  <span class="struct_value">(true | false)</span>    <span class="struct_element">                search?</span>  <span class="struct_value">(true | false)</span>                }    <span class="struct_definition">            READONLY</span> {    <span class="struct_element">                new?</span>   <span class="struct_value">(true | false)</span>    <span class="struct_element">                edit?</span>  <span class="struct_value">(true | false)</span>                }                <span class="struct_comment">/* nur für Typ "array" */</span>    <span class="struct_element">            numeric</span>  <span class="struct_value">(true | false)</span>            }            <span class="struct_comment">/* nur für Typ "image" */</span>    <span class="struct_element">        width?</span>       <span class="struct_value">#numeric</span>    <span class="struct_element">        height?</span>      <span class="struct_value">#numeric</span>    <span class="struct_element">        ratio?</span>       <span class="struct_value">(true | false)</span>    <span class="struct_element">        background?</span>  <span class="struct_value">#array</span>        }    }}<span class="struct_definition">CONSTRAINT</span> {<span class="struct_element">    select?</span>  <span class="struct_value">#string</span><span class="struct_element">    insert?</span>  <span class="struct_value">#string</span><span class="struct_element">    update?</span>  <span class="struct_value">#string</span><span class="struct_element">    delete?</span>  <span class="struct_value">#string</span>}<span class="struct_definition">TRIGGER</span> {<span class="struct_element">	before_insert?</span>  <span class="struct_value">#string</span><span class="struct_element">	before_update?</span>  <span class="struct_value">#string</span><span class="struct_element">	before_delete?</span>  <span class="struct_value">#string</span><span class="struct_element">	after_insert?</span>   <span class="struct_value">#string</span><span class="struct_element">	after_update?</span>   <span class="struct_value">#string</span><span class="struct_element">	after_delete?</span>   <span class="struct_value">#string</span>}</pre><p><a name="foot_structure">*</a> <span style="font-weight: bold;">Hilfe:</span> SyntaktischeElemente der Datei werden blau dargestellt. Die möglichen Werte und /oder Datentypen, welche diese Elemente enthalten dürfen, werden hinterden Elementen aufgelistet. Datentypen werden durch eine Raute (#)gekennzeichnet. Es werden folgende Datentypen verwendet: #string = einText, #numeric = eine Zahl, #array = ein Listentyp. Falls mehrere Werteoder Datentypen erlaubt sind, werden diese in runden Klammern, durchein Pipesymbol (|) getrennt aufgelistet. Ein Fragezeichen (?) gibt an,dass das betreffende Element optional ist. </p><p> Der nachfolgende Abschnitt erläutert die einzelnen Elementeim Detail und liefert Beispiele. </p><h4> <a name="buildStructure"></a> Wieschreibe ich ein eigenes Datenbankschema?</h4><p> Schema-Dateien haben die Endung "*.config" und werden imVerzeichnis "config/db/" gespeichert. Eine Verbindung auf Grundlageeiner Schema-Datei wird hergestellt über den PHP-Code:$YANA-&gt;connect("Name der Datei ohne Dateiendung"); </p><p> Beachten Sie, dass für die Editoren "ConTEXT" und "PSPad" <a title="Downloadseite mit Installationsanleitung" href="#editor">Code-Templates</a>zur Verfügung stehen, welche Ihnen gerade beim Erzeugen vonDatenbankschemata viel Schreibarbeit abnehmen können. Sollten Sie einendieser beiden Editoren verwenden, installieren Sie nach Möglichkeitzunächst diese Templates bevor Sie fortfahren. </p><p> Das folgende Listing zeigt ein Schema mit allen Elementen undalle gültigen Belegungen. Existieren mehrere mögliche Varianten, dannsind diese die verschiedenen Möglichkeiten durch eine Pipe '|'voneinander getrennt. Bezeichner, die frei gewählt werden können, sindim Text fett hervorgehoben. </p><pre class="codeexample"><span class="html1-comment">/* Das Feld &quot;<b>USE_STRICT</b>&quot; legt fest, ob Queries zur Laufzeit * gegen das Schema validiert werden oder nicht. */</span>&lt;USE_STRICT&gt;true|false&lt;/USE_STRICT&gt;<span class="html1-comment">/* Das Feld &quot;<b>READONLY</b>&quot; ist optional. Default = false */</span>&lt;READONLY&gt;true|false&lt;/READONLY&gt;<span class="html1-comment">/* Das Feld &quot;<b>DESCRIPTION</b>&quot; ist optional und kann eine Beschreibung, * oder den Namen der Datenbank enthalten */</span>&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;<span class="html1-comment">/* Das Feld &quot;<b>INCLUDE</b>&quot; hat die gleiche Bedeutung wie der gleichnamige * Befehl in PHP. Es importiert eine oder mehrere Datenbankschemata in die * aktuelle Datei. * Der Dateiname wird ohne Dateiendung angegeben. * Also zum Beispiel: &lt;INCLUDE&gt;user&lt;/INCLUDE&gt; um die Datenbank &quot;user&quot; zu * importieren, die in der Datei &quot;config/db/user.config&quot; beschrieben wird. */</span>&lt;INCLUDE&gt;Datenbankschema&lt;/INCLUDE&gt;<span class="html1-comment">/* Um mehrere Dateien zu importieren verwenden Sie folgende Schreibweise: */</span>&lt;INCLUDE&gt;	&lt;0&gt;1.Schema&lt;/0&gt;	&lt;1&gt;2.Schema&lt;/1&gt;	&lt;2&gt;3.Schema&lt;/2&gt;&lt;/INCLUDE&gt;<span class="html1-comment">/* <b>Constraints</b> sind boolesche Ausdrücke in PHP-Syntax. * Sie können mit einer bestimmten SQL-Aktion verknüpft werden. * Ergibt der Ausdruck &quot;false&quot; wird die entsprechende Query nicht * abgeschickt und ein Log-Eintrag geschrieben. Andernfalls wird die * Aktion fortgesetzt. * * In Constraints können Sie keine Funktionen aufrufen, mit einer einzigen * Ausnahme: preg_match(); * Außerdem haben Sie Zugriff auf folgende Konstanten: * $VALUE      = (für INSERT, UPDATE) Wert der eingefügt wird * $PERMISSION = Zugriffslevel des Nutzers, der die Aktion ausgelöst hat * $OPERATION  = SQL-Kommando das gerade durchgeführt wird (SELECT, INSERT, ...) * $TABLE      = Name der Zieltabelle (meist die aktuelle Tabelle) * $FIELD      = Name der Zielspalte (falls angegeben) * $ID         = Id des aktuellen Profils (seit Version 2.8.9) * * Beispiele: * &lt;SELECT&gt;true&lt;/SELECT&gt; * &lt;UPDATE&gt;false&lt;/UPDATE&gt; * &lt;UPDATE&gt;$VALUE &gt; 0 &amp;&amp; $VALUE &lt; 500&lt;/UPDATE&gt; * &lt;INSERT&gt;$PERMISSION &gt; 50&lt;/INSERT&gt; * &lt;INSERT&gt;preg_match('/^[\w\d-_]*$/i', $VALUE)&lt;/INSERT&gt; * * Constraints gibt es in YANA seit Version 2.8 . */</span>&lt;CONSTRAINT&gt;	&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b></b>	&lt;INSERT&gt;<b>PHP-Code</b>&lt;/INSERT&gt;<b></b>	&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b></b>	&lt;DELETE&gt;<b>PHP-Code</b>&lt;/DELETE&gt;<b></b>&lt;/CONSTRAINT&gt;<span class="html1-comment">/* <b>Trigger</b> sind Miniaturprogramme in PHP-Syntax. * Sie werden an eine bestimmte SQL-Aktion geknüpft und automatisch ausgeführt bevor * oder nachdem das SQL Statement ausgeführt wurde. * * DIESE Trigger unterscheiden sich von Triggern direkt in einer Datenbank. * 1) PHP kann verwendet werden, * 2) unabhängig vom DBMS, <b>aber:</b> * 3) kein direkter Zugriff auf die Datenbank. * * Diese Trigger eignen sich vor allem für Logging und Modifizieren von Eingabedaten. * * Außerdem haben Sie Zugriff auf folgende Konstanten: * $VALUE      = (für INSERT, UPDATE) Wert der eingefügt wird * $PERMISSION = Zugriffslevel des Nutzers, der die Aktion ausgelöst hat * $OPERATION  = SQL-Kommando (BEFORE_INSERT, AFTER_UPDATE, ...) * $TABLE      = Name der Zieltabelle (meist die aktuelle Tabelle) * $FIELD      = Name der Zielspalte (falls angegeben) * $ID         = Id des aktuellen Profils (seit Version 2.8.9) * * Beispiele: * &lt;BEFORE_INSERT&gt;$VALUE = md5($VALUE);true&lt;/BEFORE_INSERT&gt; * &lt;AFTER_DELETE&gt;if($VALUE){print 'Erfolgreich gelöscht.';}else{print 'Fehler.';}&lt;/AFTER_DELETE&gt; */</span>&lt;TRIGGER&gt;	&lt;BEFORE_INSERT&gt;<b>PHP-Code</b>&lt;/BEFORE_INSERT&gt;<b></b>	&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b></b>	&lt;BEFORE_DELETE&gt;<b>PHP-Code</b>&lt;/BEFORE_DELETE&gt;<b></b>	&lt;AFTER_INSERT&gt;<b>PHP-Code</b>&lt;/AFTER_INSERT&gt;<b></b>	&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b></b>	&lt;AFTER_DELETE&gt;<b>PHP-Code</b>&lt;/AFTER_DELETE&gt;<b></b>&lt;/TRIGGER&gt;<span class="html1-comment">/* Wie Sie vielleicht schon vermutet haben: die Option READONLY=true * und der Constraint UPDATE=false haben beide den gleichen Effekt. */</span><span class="html1-comment">/* Hier folgt die Definition der Tabellen. */</span>&lt;TABLES&gt;	&lt;<b>Name der Tabelle</b>&gt;		&lt;READONLY&gt;true|false&lt;/READONLY&gt;		&lt;DESCRIPTION&gt;<b>Label der Tabelle</b>&lt;/DESCRIPTION&gt;		&lt;CONSTRAINT&gt;			&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b></b>			&lt;INSERT&gt;<b>PHP-Code</b>&lt;/INSERT&gt;<b></b>			&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b></b>			&lt;DELETE&gt;<b>PHP-Code</b>&lt;/DELETE&gt;<b></b>		&lt;/CONSTRAINT&gt;		&lt;TRIGGER&gt;			&lt;BEFORE_INSERT&gt;<b>PHP-Code</b>&lt;/BEFORE_INSERT&gt;<b></b>			&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b></b>			&lt;BEFORE_DELETE&gt;<b>PHP-Code</b>&lt;/BEFORE_DELETE&gt;<b></b>			&lt;AFTER_INSERT&gt;<b>PHP-Code</b>&lt;/AFTER_INSERT&gt;<b></b>			&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b></b>			&lt;AFTER_DELETE&gt;<b>PHP-Code</b>&lt;/AFTER_DELETE&gt;<b></b>		&lt;/TRIGGER&gt;<span class="html1-comment">/* Im Feld &quot;<b>PRIMARY_KEY</b>&quot; ist der Name der Spalte anzugeben, welche den Primärschlüssel enthält.   (in Fachliteratur siehe unter dem Stichwort: &quot;primary key constraint&quot;) */</span>		&lt;PRIMARY_KEY&gt;<b>Name der Spalte</b>&lt;/PRIMARY_KEY&gt;<span class="html1-comment">/* Im Feld &quot;<b>PROFILE_KEY</b>&quot; kann der Name einer Spalte angegeben werden, welche den Profilschlüssel enthält.   <b>Sinn und Zweck:</b>   Sie können die Datensätze einer Tabelle einem Profil zuordnen.   Wenn Sie das tun, sieht ein Nutzer jeweils nur die Datensätze des gerade ausgewählten Profils.   <b>Erzeugen eines &quot;profile key constraint&quot;:</b>   1) Fügen Sie der Tabelle eine Spalte vom Typ &quot;profile&quot; hinzu   2) Setzen Sie die Eigenschaft &quot;required&quot; dieser Spalte auf &quot;AUTO&quot;   3) Setzen Sie die Eigenschaft &quot;profile_key&quot; der Tabelle auf den Namen der Spalte   (Dies ist ein Spezialfall eines &quot;compound primary key&quot; - also eines &quot;primary key constraint&quot;.   Ein &quot;Spezialfall&quot; deshalb, weil der Schlüssel ein virtueller Schlüssel ist.   Das heißt, dass die technische Handhabung für den Nutzer vollständig transparent geschieht.   Sie können diesen Constraint nachträglich entfernen und der Primärschlüssel bleibt dennoch   gültig. Das bedeutet auch, dass Sie diesen Constraint nachträglich hinzufügen oder entfernen   können, ohne etwas am Quellcode Ihres Plugins ändern zu müssen. Prüfung und Auflösung der   Profilschlüssel geschieht auf Ebene des DB-Layer. Dies bedeutet auch, dass es aus Sicht   der Sicherheit Ihrer Webanwendung praktisch unmöglich ist, einen &quot;profile key&quot; constraint   zu umgeben. Dieses Feature wurde eingeführt in Version 2.9.) */</span>		&lt;PROFILE_KEY&gt;<b>Name der Spalte</b>&lt;/PROFILE_KEY&gt;<span class="html1-comment">/* Im Feld &quot;<b>FOREIGN_KEYS</b>&quot; kann eine Liste von Fremdschlüsseln angegeben werden.   (in Fachliteratur siehe unter dem Stichwort: &quot;foreign key constraint&quot;) */</span>		&lt;FOREIGN_KEYS&gt;			&lt;<b>Name der Spalte</b>&gt;<b>Name der Zieltabelle</b>&lt;/<b>Name der Spalte</b>&gt;<b></b>			&lt;<b>andere Spalte</b>&gt;<b>andere Zieltabelle</b>&lt;/<b>andere Spalte</b>&gt;<b></b>		&lt;/FOREIGN_KEYS&gt;<span class="html1-comment">/* Hier folgt die Definition der Tabellenspalten. */</span>		&lt;CONTENT&gt;			&lt;<b>Name der Spalte</b>&gt;				&lt;READONLY&gt;true|false&lt;/READONLY&gt;				&lt;CONSTRAINT&gt;					&lt;SELECT&gt;<b>PHP-Code</b>&lt;/SELECT&gt;<b></b>					&lt;UPDATE&gt;<b>PHP-Code</b>&lt;/UPDATE&gt;<b></b>				&lt;/CONSTRAINT&gt;				&lt;TRIGGER&gt;					&lt;BEFORE_UPDATE&gt;<b>PHP-Code</b>&lt;/BEFORE_UPDATE&gt;<b></b>					&lt;AFTER_UPDATE&gt;<b>PHP-Code</b>&lt;/AFTER_UPDATE&gt;<b></b>				&lt;/TRIGGER&gt;<span class="html1-comment">/* Im Feld &quot;<b>DESCRIPTION</b>&quot; kann ein Beschriftung für diese Spalte angegeben werden. * Sie können hier auch %TOKEN% verwenden, welche Sie zum Beispiel in Ihrem Programm, * oder als Sprachdatei festlegen, um eine Beschriftung in mehreren Sprachen anbieten * zu können. */</span>				&lt;DESCRIPTION&gt;<b>Label der Spalte</b>&lt;/DESCRIPTION&gt;<span class="html1-comment">/* Die primitiven, skalaren Datentypen <b>integer</b>, <b>float</b> und <b>string</b> entsprechen ihrem * Äquivalent in PHP. Zusätzlich wurden weitere nützliche Datentypen eingeführt. * * <b>mail</b>    = prüft beim Eintragen automatisch, ob der Wert eine gültige Mailadresse ist. * <b>ip</b>      = prüft beim Eintragen automatisch, ob der Wert eine gültige IP-Adresse ist. * <b>text</b>    = für Eingaben aus Textarea-Feldern, führt automatisch zusätzliche Prüfungen *           zum Schutz vor Flooding durch. * <b>select</b>  = ein Aufzählungsdatentyp, dessen Elemente im Feld &quot;DEFAULT&quot; definiert werden, *           siehe unten. * <b>array</b>   = kann verwendet werden, um PHP-Arrays zu speichern. Diese werden beim Auslesen *           des Wertes aus der Datenbank automatisch wieder umgewandelt. * <b>image</b>   = wird verwendet um Grafiken zu speichern. Bearbeitet Dateiuploads, die *           Prüfung und Konvertierung der Grafik und generiert automatisch Thumbnails. * <b>file</b>    = dieser Typ dient dem Speichern von Dateien ("binary large objects"). *           Die Dateien selbst verbleiben nach dem Upload aus Gründen der besseren Performance *           im Dateisystem. Um Speicherplatz zu sparen, werden Sie automatich GZip-komprimiert. *           In der Datenbank wird lediglich der Dateiname gespeichert. Beim Abruf der Spalte *           wird der Name und Pfad der komprimierten Datei als Ergebnis zurückgeliefert. */</span>				&lt;TYPE&gt;integer|float|string|text|url|ip|mail|time|select|array&lt;/TYPE&gt;				&lt;LENGTH&gt;<b>positive integer</b>&lt;/LENGTH&gt;<span class="html1-comment">/* Für den Datentyp "float" kann mit &quot;<b>PRECISION</b>&quot; die Anzahl der Nachkommastellen festgelegt werden. */</span>				&lt;PRECISION&gt;<b>positive integer</b>&lt;/PRECISION&gt;<span class="html1-comment">/* Das Feld &quot;<b>REQUIRED</b>&quot; legt fest ob ein Feld NULLABLE ist oder nicht. */</span>				&lt;REQUIRED&gt;true|false&lt;/REQUIRED&gt;<span class="html1-comment">/* Das Feld &quot;<b>DEFAULT</b>&quot; legt einen Wert fest, der automatisch verwendet wird, wenn beim * Anlegen des Datensatzes keine anderen Angaben gemacht werden. */</span>				&lt;DEFAULT&gt;<b>ein Defaultwert</b>&lt;/DEFAULT&gt;<span class="html1-comment">/* Das Feld &quot;<b>UNIQUE</b>&quot; kann entweder den Wert true, oder false annehmen, wobei false der * Defaultwert ist. Ist UNIQUE=true so darf kein Wert in dieser Spalte mehr als 1 Mal * vorkommen. Das bedeutet, jeder Wert ist eindeutig (eng. &quot;unique&quot;). * Man verwendet diese Einstellung um zusätzlich zum Primärschlüssel weitere Schlüssel * zu definieren. */</span>				&lt;UNIQUE&gt;true|false&lt;/UNIQUE&gt;<span class="html1-comment">/* Das Feld &quot;<b>INDEX</b>&quot; kann entweder den Wert true, oder false annehmen, wobei false der * Defaultwert ist. Ist INDEX=true so wird eine sortierte Liste der Werte dieser Spalte * gespeichert, was das Sortieren und Suchen nach den in der Spalte gespeicherten Werten * beschleunigen kann. */</span>				&lt;INDEX&gt;true|false&lt;/INDEX&gt;<span class="html1-comment">/* * Die Anweisungen für die GUI und das SDK können im Feld &quot;<b>DISPLAY</b>&quot; angegeben werden. * Dazu existieren jeweils zwei Einstellungen: &quot;HIDDEN&quot; und &quot;READONLY&quot;. * Wobei &quot;<b>READONLY</b>&quot; bedeutet, dass diese Spalte nicht zum Editieren angezeigt werden soll. * Wie der Name schon sagt, bedeutet &quot;<b>HIDDEN</b>&quot;, dass die Spalte in der Ausgabe gar nicht * auftauchen soll. * Es gibt jeweils eine Einstellung, für die Abfragen: &quot;NEW&quot;, &quot;EDIT&quot;, &quot;VIEW&quot; und &quot;SEARCH&quot;. * Die Eigenschaften können jeweils global oder für jede Aktion einzeln gesetzt werden. *//* Zunächst die Variante mit globalen Einstellungen */</span>				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true|false&lt;/HIDDEN&gt;					&lt;READONLY&gt;true|false&lt;/READONLY&gt;				&lt;/DISPLAY&gt;<span class="html1-comment">/* Nun die Variante mit lokalen Einstellungen für jede Option */</span>				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;						&lt;NEW&gt;true|false&lt;/NEW&gt;						&lt;EDIT&gt;true|false&lt;/EDIT&gt;						&lt;SELECT&gt;true|false&lt;/SELECT&gt;						&lt;SEARCH&gt;true|false&lt;/SEARCH&gt;					&lt;/HIDDEN&gt;					&lt;READONLY&gt;						&lt;NEW&gt;true|false&lt;/NEW&gt;						&lt;EDIT&gt;true|false&lt;/EDIT&gt;					&lt;/READONLY&gt;				&lt;/DISPLAY&gt;<span class="html1-comment">/* * Für den Typ "<b>array</b>" kann die Eigenschaft "display" zusätzlich das Flag "<b>NUMERIC</b>" * enthalten, um auszudrücken, dass es sich um ein numerisches Array handelt. * Dadurch werden in der grafischen Oberfläche des Programms die Schlüssel nicht * angezeigt und bei neuen Einträgen werden die numerischen Schlüssel automatisch * vergeben. */</span>				&lt;DISPLAY&gt;					&lt;NUMERIC&gt;true|false&lt;/NUMERIC&gt;				&lt;/DISPLAY&gt;			&lt;/<b>Name der Spalte</b>&gt;<span class="html1-comment">/* * Für die Datentypen <b>integer</b>, <b>ip</b> und <b>time</b> kann für das Feld &quot;REQUIRED&quot; der Wert &quot;AUTO&quot; * gesetzt werden. Dies bedeutet, dass der Wert automatisch erzeugt wird. * Für time    = das aktuelle Datum als Unix-Timestamp * Für ip      = die IP des Besuchers * Für integer = autoincrement beziehungsweise der Wert einer Sequence */</span>			&lt;<b>Name der Spalte</b>&gt;				&lt;TYPE&gt;integer|ip|time&lt;/TYPE&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;			&lt;/<b>Name der Spalte</b>&gt;<span class="html1-comment">/* * Für den Datentyp <b>select</b> kann eine Aufzählung der erlaubten Werte angegeben werden. * * Die Semantik kann man sich relativ leicht merken: * + Die GUI stellt Spalten vom Typ select in Formularen als Select-Feld dar. * + Die Darstellung im Schema erinnert ebenfalls an ein Select-Formularfeld in HTML. */</span>			&lt;<b>Name der Spalte</b>&gt;				&lt;TYPE&gt;select&lt;/TYPE&gt;				&lt;DEFAULT&gt;					&lt;<b>defaultwert</b>&gt;<b>Beschriftung</b>&lt;/<b>defaultwert</b>&gt;					&lt;<b>option 1</b>&gt;<b>Beschriftung 1</b>&lt;/<b>option 1</b>&gt;					&lt;<b>option 2</b>&gt;<b>Beschriftung 2</b>&lt;/<b>option 2</b>&gt;				&lt;/DEFAULT&gt;			&lt;/<b>Name der Spalte</b>&gt;<span class="html1-comment">/* * Für den Datentyp <b>image</b> können die maximale Dateigröße, Breite und Höhe der Grafik * angegeben werden. Ist das Bild zu klein oder zu groß, wird es automatisch * auf die angegebene Größe gebracht. Mit dem Wert &quot;Ratio&quot; wird angegeben, ob dabei * das Verhältnis von Breite zu Höhe erhalten bleiben soll (true) oder nicht (false). * Falls &quot;Ratio&quot; auf &quot;true&quot; gesetzt wird, entsteht eventuell ein Rand um das Bild herum. * Deshalb kann eine Hintergrundfarbe angegeben werden. * Diese Hintergrundfarbe füllt den unbenutzten Bereich um die Grafik herum aus. * * Der Formulargenerator kann (wenn er verwendet wird) automatisch ein Upload-Feld * erzeugen, mit dem Grafiken an den Server übertragen werden können. * Bei einem Upload wird automatisch ein Thumbnail in der Größe 75x75px erzeugt. * Der Formulargenerator zeigt beim Aufrufen des Datensatzes automatisch das Thumbnail * und einen Link zur vollständigen Grafik an. * * Grafiken werden aus Gründen der Performance NICHT als Blob in der Datenbank * gespeichert, sondern in einem nicht-öffentlichen Verzeichnis im Dateisystem. * In der Datenbank wird lediglich der Dateipfad der Grafik hinterlegt. * Beim Löschen des Datensatzes (über die Datenbank-API das Frameworks) werden die * mit dem Datensatz assoziierte Grafik und das Thumbnail ebenfalls gelöscht. */</span>			&lt;<b>Name der Spalte</b>&gt;				&lt;TYPE&gt;image&lt;/TYPE&gt;				&lt;LENGTH&gt;<b>max. Upload-Größe in Byte</b>&lt;/LENGTH&gt;				&lt;WIDTH&gt;<b>Breite in Pixel</b>&lt;/WIDTH&gt;				&lt;HEIGHT&gt;<b>Höhe in Pixel</b>&lt;/HEIGHT&gt;				&lt;RATIO&gt;true|false&lt;/RATIO&gt;				&lt;BACKGROUND&gt;					&lt;0&gt;<b>Zahl 0-255 (rot)</b>&lt;/0&gt;					&lt;1&gt;<b>Zahl 0-255 (grün)</b>&lt;/1&gt;					&lt;2&gt;<b>Zahl 0-255 (blau)</b>&lt;/2&gt;				&lt;/BACKGROUND&gt;			&lt;/<b>Name der Spalte</b>&gt;<span class="html1-comment">/* * Für die numerischen Datentypen <b>integer</b> und <b>float</b> können zwei * weitere Eigenschaften definiert werden. * * <b>unsigned</b>: die Zahl wird ohne Vorzeichen gespeichert * <b>zerofill</b>: beim Darstellen der Zahl werden freie Stellen werden durch '0' aufgefüllt * * Hinweis: Die Eigenschaft "zerofill" funktioniert nur korrekt, wenn über die Eigenschaft * "length" eine feste Länge für die definiert ist. */</span>			&lt;<b>Name der Spalte</b>&gt;				&lt;TYPE&gt;integer|float&lt;/TYPE&gt;				&lt;<b>UNSIGNED</b>&gt;true|false&lt;/<b>UNSIGNED</b>&gt;				&lt;<b>ZEROFILL</b>&gt;true|false&lt;/<b>ZEROFILL</b>&gt;				&lt;LENGTH&gt;positive integer&lt;/LENGTH&gt;			&lt;/<b>Name der Spalte</b>&gt;		&lt;/CONTENT&gt;	&lt;/<b>Name der Tabelle</b>&gt;<span class="html1-comment">/* Hier können weitere Tabellen folgen. */</span>&lt;/TABLES&gt;</pre><p> Betrachten Sie zunächst ein ganz einfaches Beispiel: </p><pre class="codeexample"><span class="html1-comment">/* Der Kopf ist normalerweise immer gleich: */</span>&lt;USE_STRICT&gt;true&lt;/USE_STRICT&gt;&lt;READONLY&gt;false&lt;/READONLY&gt;<span class="html1-comment">/* Danach folgt die Definition der Tabellen der Datenbank */</span>&lt;TABLES&gt;<span class="html1-comment">	/* hier die Tabelle 'foo' */</span>	&lt;foo&gt;<span class="html1-comment">		/* Jede Tabelle muss 1 Primärschlüssel haben */</span>		&lt;PRIMARY_KEY&gt;foo_id&lt;/PRIMARY_KEY&gt;<span class="html1-comment">		/* nun folgen die Spalten */</span>		&lt;CONTENT&gt;<span class="html1-comment">			/* zuerst der Primärschlüssel */</span>			&lt;foo_id&gt;				&lt;TYPE&gt;integer&lt;/TYPE&gt;				&lt;LENGTH&gt;8&lt;/LENGTH&gt;<span class="html1-comment">			/* REQUIRED=auto erzeugt eine &quot;autoincrement&quot; Spalte */</span>				&lt;REQUIRED&gt;auto&lt;/REQUIRED&gt;<span class="html1-comment">			/* HIDDEN=true macht das Feld für Besucher unsichtbar */</span>				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/foo_id&gt;<span class="html1-comment">			/* jetzt die restlichen Felder */</span>			&lt;foo_title&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;128&lt;/LENGTH&gt;				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Titel&lt;/DESCRIPTION&gt;			&lt;/foo_title&gt;			&lt;foo_text&gt;				&lt;TYPE&gt;text&lt;/TYPE&gt;				&lt;REQUIRED&gt;false&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;			&lt;/foo_text&gt;		&lt;/CONTENT&gt;	&lt;/foo&gt;<span class="html1-comment">	/* eine zweite Tabelle */</span>	&lt;bar&gt;		&lt;PRIMARY_KEY&gt;bar_id&lt;/PRIMARY_KEY&gt;		&lt;CONTENT&gt;			&lt;bar_id&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;32&lt;/LENGTH&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/bar_id&gt;			&lt;bar_value&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;128&lt;/LENGTH&gt;				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Wert&lt;/DESCRIPTION&gt;			&lt;/bar_value&gt;			&lt;bar_time&gt;				&lt;TYPE&gt;time&lt;/TYPE&gt;				&lt;REQUIRED&gt;auto&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Zeit&lt;/DESCRIPTION&gt;			&lt;/bar_time&gt;		&lt;/CONTENT&gt;	&lt;/bar&gt;&lt;/TABLES&gt;</pre><p> Im Folgenden ein Beispiel für eine etwas komplexereDatenbank. Dargestellt ist die Datenstruktur der Gästebuch-Anwendung: </p><pre class="codeexample">&lt;USE_STRICT&gt;true&lt;/USE_STRICT&gt;&lt;READONLY&gt;false&lt;/READONLY&gt;&lt;TABLES&gt;	&lt;guestbook&gt;		&lt;PRIMARY_KEY&gt;guestbook_id&lt;/PRIMARY_KEY&gt;		&lt;CONTENT&gt;			&lt;guestbook_id&gt;				&lt;TYPE&gt;integer&lt;/TYPE&gt;				&lt;LENGTH&gt;5&lt;/LENGTH&gt;				&lt;DESCRIPTION&gt;Id (PK)&lt;/DESCRIPTION&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/guestbook_id&gt;			&lt;profile_id&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;128&lt;/LENGTH&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Id (FK)&lt;/DESCRIPTION&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/profile_id&gt;			&lt;guestbook_ip&gt;				&lt;TYPE&gt;ip&lt;/TYPE&gt;				&lt;LENGTH&gt;15&lt;/LENGTH&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/guestbook_ip&gt;			&lt;guestbook_name&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;128&lt;/LENGTH&gt;				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Name&lt;/DESCRIPTION&gt;			&lt;/guestbook_name&gt;			&lt;guestbook_message&gt;				&lt;TYPE&gt;text&lt;/TYPE&gt;				&lt;LENGTH&gt;3000&lt;/LENGTH&gt;				&lt;REQUIRED&gt;true&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Text&lt;/DESCRIPTION&gt;			&lt;/guestbook_message&gt;			&lt;guestbook_mail&gt;				&lt;TYPE&gt;mail&lt;/TYPE&gt;				&lt;LENGTH&gt;255&lt;/LENGTH&gt;				&lt;DESCRIPTION&gt;Mail&lt;/DESCRIPTION&gt;			&lt;/guestbook_mail&gt;			&lt;guestbook_homepage&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;512&lt;/LENGTH&gt;				&lt;DESCRIPTION&gt;Homepage&lt;/DESCRIPTION&gt;			&lt;/guestbook_homepage&gt;			&lt;guestbook_messenger&gt;				&lt;DESCRIPTION&gt;Messenger&lt;/DESCRIPTION&gt;				&lt;TYPE&gt;string&lt;/TYPE&gt;				&lt;LENGTH&gt;255&lt;/LENGTH&gt;			&lt;/guestbook_messenger&gt;			&lt;guestbook_msgtyp&gt;				&lt;DESCRIPTION&gt;Typ&lt;/DESCRIPTION&gt;				&lt;TYPE&gt;select&lt;/TYPE&gt;				&lt;LENGTH&gt;5&lt;/LENGTH&gt;				&lt;DEFAULT&gt;					&lt;icq&gt;ICQ&lt;/icq&gt;					&lt;aol&gt;AOL&lt;/aol&gt;					&lt;yahoo&gt;Yahoo!&lt;/yahoo&gt;					&lt;msn&gt;MSN&lt;/msn&gt;				&lt;/DEFAULT&gt;			&lt;/guestbook_msgtyp&gt;			&lt;guestbook_opinion&gt;				&lt;TYPE&gt;select&lt;/TYPE&gt;				&lt;LENGTH&gt;1&lt;/LENGTH&gt;				&lt;CONSTRAINT&gt;					&lt;INSERT&gt;$VALUE &gt;= 0 &amp;&amp; $VALUE &lt;= 5&lt;/INSERT&gt;					&lt;UPDATE&gt;$VALUE &gt;= 0 &amp;&amp; $VALUE &lt;= 5&lt;/UPDATE&gt;				&lt;/CONSTRAINT&gt;				&lt;DEFAULT&gt;					&lt;0&gt;unentschlossen&lt;/0&gt;					&lt;1&gt;sehr gut&lt;/1&gt;					&lt;2&gt;gut&lt;/2&gt;					&lt;3&gt;befriedigend&lt;/3&gt;					&lt;4&gt;ausreichend&lt;/4&gt;					&lt;5&gt;ungenügend&lt;/5&gt;				&lt;/DEFAULT&gt;				&lt;DESCRIPTION&gt;Meinung&lt;/DESCRIPTION&gt;			&lt;/guestbook_opinion&gt;			&lt;guestbook_date&gt;				&lt;TYPE&gt;time&lt;/TYPE&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Datum/Zeit&lt;/DESCRIPTION&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;						&lt;NEW&gt;true&lt;/NEW&gt;                    			&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/guestbook_date&gt;			&lt;guestbook_comment&gt;				&lt;TYPE&gt;text&lt;/TYPE&gt;				&lt;LENGTH&gt;1024&lt;/LENGTH&gt;				&lt;REQUIRED&gt;false&lt;/REQUIRED&gt;				&lt;DESCRIPTION&gt;Kommentar&lt;/DESCRIPTION&gt;				&lt;DISPLAY&gt;					&lt;READONLY&gt;						&lt;EDIT&gt;true&lt;/EDIT&gt;					&lt;/READONLY&gt;				&lt;/DISPLAY&gt;			&lt;/guestbook_comment&gt;			&lt;guestbook_is_registered&gt;				&lt;TYPE&gt;integer&lt;/TYPE&gt;				&lt;LENGTH&gt;1&lt;/LENGTH&gt;				&lt;REQUIRED&gt;AUTO&lt;/REQUIRED&gt;				&lt;DEFAULT&gt;0&lt;/DEFAULT&gt;				&lt;DISPLAY&gt;					&lt;HIDDEN&gt;true&lt;/HIDDEN&gt;				&lt;/DISPLAY&gt;			&lt;/guestbook_is_registered&gt;		&lt;/CONTENT&gt;	&lt;/guestbook&gt;&lt;/TABLES&gt;</pre><h4> <a name="buildForeignKey"></a> Wieerstelle ich einen Fremdschlüssel?</h4><p> Der folgende Code erzeugt zwei Tabellen &quot;foo&quot; und &quot;bar&quot;.Die Tabelle &quot;bar&quot; enthält einen Fremdschlüssel auf Tabelle&quot;foo&quot;. </p><pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="mygeneral1-symbol">&lt;</span><span class="mygeneral1-keywords3">TABLES</span><span class="mygeneral1-symbol">&gt;	&lt;foo&gt;		Primary key constraint:		&lt;</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;foo_id&lt;/</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;		&lt;</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;			&lt;foo_id&gt;				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">integer</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Primärschlüssel der Tabelle foo&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">AUTO</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;			&lt;/foo_id&gt;			&lt;foo_name&gt;				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">string</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Eine Spalte, die einen Namen oder Titel enthält&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;			&lt;/foo_name&gt;		&lt;/</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;	&lt;/foo&gt;	&lt;bar&gt;		Primary key constraint:		&lt;</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;bar_id&lt;/</span><span class="mygeneral1-keywords1">PRIMARY_KEY</span><span class="mygeneral1-symbol">&gt;		Foreign key constraint:		&lt;</span><span class="mygeneral1-keywords1">FOREIGN_KEYS</span><span class="mygeneral1-symbol">&gt;			foo_id = Spaltenname			foo = Tabellenname			&lt;foo_id&gt;foo&lt;/foo_id&gt;		&lt;/</span><span class="mygeneral1-keywords1">FOREIGN_KEYS</span><span class="mygeneral1-symbol">&gt;		&lt;</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;			&lt;bar_id&gt;				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">integer</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">AUTO</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Primärschlüssel der Tabelle bar&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;			&lt;/bar_id&gt;			&lt;foo_id&gt;				&lt;</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">select</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">TYPE</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;</span><span class="mygeneral1-keywords2">true</span><span class="mygeneral1-symbol">&lt;/</span><span class="mygeneral1-keywords1">REQUIRED</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;Fremdschlüssel auf Tabelle foo, dargestellt als Selectbox&lt;/</span><span class="mygeneral1-keywords1">DESCRIPTION</span><span class="mygeneral1-symbol">&gt;				&lt;</span><span class="mygeneral1-keywords1">DEFAULT</span><span class="mygeneral1-symbol">&gt;					foo_id = Spalte, die in der Datenbank gespeichert wird					foo_name = Spalte, die im Browser angezeigt wird					&lt;foo_id&gt;foo_name&lt;/foo_id&gt;				&lt;/</span><span class="mygeneral1-keywords1">DEFAULT</span><span class="mygeneral1-symbol">&gt;			&lt;/foo_id&gt;		&lt;/</span><span class="mygeneral1-keywords3">CONTENT</span><span class="mygeneral1-symbol">&gt;	&lt;/bar&gt;&lt;/</span><span class="mygeneral1-keywords3">TABLES</span><span class="mygeneral1-symbol">&gt;</span></span></code></pre><h4> <a name="create"></a> Zusammenhangzwischen Datenbankschemata und der Templatefunktion <a title="zur Beschreibung der Funktion &quot;create&quot;" href="#func_create">[%create ...%]</a></h4><p> Die Funktion "create" (siehe Abschnitt zu Templates) dientdem Aufruf des Formulargenerators. Der Formulargenerator ist in derLage, mit den Informationen aus dem Datenbankschema selbstständigFormulare zum Anzeigen, Durchsuchen, Erstellen, Editieren und Löschenvon Datensätzen zu generieren. Notwendige Abfragen der Datenbank führter automatisch aus. In Datenbankschemata wird der Tag "DISPLAY"verwendet, um das Verhalten des Formulargenerators zu steuern. DieserTag erlaubt das Ein- oder Ausblenden einzelner Spalten einer Tabelle,abhängig vom Typ des gerade angezeigten Formulars. </p><h5>Darstellung der Datentypen</h5><p> Der Formulargenerator zeigt Tabellenspalten abhängig vonIhrem Typ unterschiedlich an. Im Folgenden eine Auflistung der Typenmit Screenshots für die jeweilige Darstellung in der GUI. </p><table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0"><thead> <tr style="white-space: nowrap;"><th> Typ der Spalte </th><th> Darstellung in GUI </th><th> Beschreibung </th></tr></thead> <tbody><tr><td> integer, float, string</td><td> <img src="data/abb_type_string.png" alt="Inputfeld" /></td><td> Einzeilige Texte und Zahlen werden beim Editieren derSpalte als Inputfeld dargestellt. Ist die Spalte nicht editierbar, wirdder Inhalt als Textzeile dargestellt.</td></tr><tr><td> boolean</td><td> <img src="data/abb_type_boolean.png" alt="Checkbox" /></td><td> Eingaben vom Typ "boolean" werden beim Editieren alsCheckbox repräsentiert. Beim Anzeigen der Spalte, wird eine Grafikeingefügt, welche den Status des Feldes repräsentiert.</td></tr><tr><td> text</td><td> <img src="data/abb_type_text.png" alt="Textarea" /></td><td> Mehrzeilige Texte werden beim Editieren alsTextareafelder dargestellt. Ist die Spalte nicht editierbar, wird derInhalt als Fließtext dargestellt. Bei zu langen Texten werdenScrollbalken erzeugt (CSS: "overflow: auto").</td></tr><tr><td> url, ip</td><td> <img src="data/abb_type_ip.png" alt="Inputfeld" /></td><td> Der Datentyp "ip" bietet die Möglichkeit, automatischdie IP-Adresse des Besuchers zu speichern. IP-Adressen werden auf Ihresyntaktische Gültigkeit geprüft. In der Regel werden Spalten diesesTyps nicht als editierbar markiert. Falls doch, wird ein Inputfeldangezeigt. Der Datentyp "url" entspricht dem Typ "string", mit demUnterschied, dass geprüft wird ob die Eingabe eine syntaktisch korrekteURL ist.</td></tr><tr><td> mail</td><td> <img src="data/abb_type_mail.png" alt="HTML-Code" /></td><td> Beim Editieren wird für diesen Datentyp wird einInputfeld angezeigt. Die Eingaben werden syntaktisch auf Gültigkeitgeprüft. Eingaben vom Datentyp "mail" werden bei derDarstellung im Browser automatisch verschlüsselt, um Datendiebstahl zuerschweren. Dies gilt grundsätzlich für alle angezeigten Mailadressen.Die Umsetzung erfolgt automatisch in der Darstellungsschicht desFrameworks, Eingriffe von Hand sich daher unnötig.</td></tr><tr><td> select</td><td> <img src="data/abb_type_select.png" alt="Selectbox" /></td><td> Der Datentyp "select" ist ein "Aufzählungstyp"(Enumeration). Beim Editieren wird eine Select-Box erzeugt. Der Inhaltder Box kann im Datenbankschema vorgegeben werden (über die Eigenschaft"Default"). Falls das Feld ein Fremdschlüssel ist (d.h. falls aufdieser Spalte ein Foreign-Key Constraint existiert), wird das Menüautomatisch mit den Einträgen der verlinkten Tabelle aufgefüllt. Dabeikann angegeben werden, aus welchen Spalten die Beschriftungen und Werteentnommen werden sollen.</td></tr><tr><td> set</td><td> <img src="data/abb_type_set.png" alt="Checkbox" /></td><td> Der Datentyp "set" ist eine Variante einesAufzählungstyps, welcher es gestattet, mehrere Werte auszuwählen(anders als "select", welches nur einen einzigen Wert erlaubt). BeimEditieren wird eine Liste von Checkboxes erzeugt. Werte undBeschriftungen der Boxen können im Datenbankschema vorgegeben (über dieEigenschaft "Default").</td></tr><tr><td> time</td><td> <img src="data/abb_type_time.png" alt="Zeitangabe: Deutsch, Englisch, Russisch" /></td><td> Beim Editieren werden für Spalten vom Typ "time"Selectboxen angezeigt, welche die Eingabe erleichtern.Eingaben vom Typ "time" werden automatisch alsTimestamp gespeichert und in der GUI als Datum dargestellt. Die Art derDarstellung kann im Administrationsmenü ausgewählt werden und passtsich den gewählten Spracheinstellungen automatisch an. Das Frameworkstellt das Datum stets automatisch synchron zur Zeitzone des Besuchersund in seiner jeweiligen Landessprache dar.</td></tr><tr><td> array</td><td> <img src="data/abb_type_array.png" alt="Array" /></td><td> Eingaben vom Typ "array" können mehrdimensionaleArrays sein. Diese werden beim Editieren als Paare von Schlüsseln undWerten dargestellt. Durch Klick auf "entfernen" wird ein Wert gelöscht,ein Klick auf "neuen Eintrag speichern" fügt einen neuen Wert hinzu.Beim Anzeigen werden die Werte als mehrdimensionale,aufklappbare Baummenüs dargestellt. Beim Überfahren eines Schlüsselsmit der Maus, öffnet sich eine Liste der Einträge, welche diesemSchlüssel zugeordnet sind.</td></tr><tr><td> array (numerisch)</td><td> <img src="data/abb_type_list.png" alt="Liste" /></td><td> Numerische Listen werden über die Eigenschaft"display.numeric" erzeugt. Sie unterscheiden sich von "normalen" Arraysdadurch, dass keine Felder zur Eingabe des Schlüssels angezeigt werden.Die Vergabe der Schlüssel erfolgt stattdessen automatisch beim Erzeugeneines neuen Eintrags.Beim Anzeigen werden die Werte als Listenelemente dargestellt.</td></tr><tr><td> image</td><td> <img src="data/abb_type_image.png" alt="Uploadfeld" /></td><td> Spalten vom Datentyp "image" werden als Thumbnail miteinem Uploadfeld zum Einfügen oder Ersetzen der gespeicherten Grafikdargestellt. Beim Klick auf das Thumbnail wird die vollständige Grafikin einem neuen Fenster geöffnet. Die Grafikdatei wird beim Uploadautomatisch geprüft und konvertiert. Für die Konvertierung können imDatenbankschema zusätzliche Optionen, wie zum Beispiel die gewünschteGröße, angegeben werden.</td></tr><tr><td> file</td><td> <img src="data/abb_type_file.png" alt="Uploadfeld" /></td><td> Der Datentyp "file" dient dem Speichern von Dateien("binary large objects"). Beim Editieren werden ein Uploadfeld zumHochladen einer neuen Datei und ein Button für den Download der aktuellgespeicherten Datei angezeigt. Die Dateien selbst verbleiben nach demUpload aus Gründen der besseren Performance im Dateisystem. UmSpeicherplatz zu sparen, werden Sie automatich GZip-komprimiert. DieKomprimierung sorgt außerdem dafür, dass die auf dem Servergespeicherten Dateien nicht ausführbar sind und ein potentiellerAngreifer den Upload nicht missbrauchen kann, um Schadcode zuübertragen. Beim Download der Datei wird diese automatisch entpackt, sodass der Nutzer keine Nachteile aus der Komprimierung erfährt und auchkein Dekomprimierungsprogramm installiert haben muss. Um trotzdem einenschnelleren Download zu gewährleisten, werden die Daten, falls derBrowser des Nutzers diese Funktionalität anbietet, automatisch alskomprimierter Datenstrom übertragen. Der Browser übernimmt dasEntpacken selbstständig. Ein Eingreifen von Hand ist nichterforderlich. Die Steuerung dieses Features übernimmt das Frameworkselbstständig und vollautomatisch.</td></tr></tbody></table><p class="abb_descr"> Gegenüberstellung von Datentypen undderen Darstellung durch den Formulargenerator </p><h5>besondere Konfiguration der Datentypen "image" und "file"</h5><p> Das Downloaden von Dateien oder Öffnen von Grafiken beiSpalten vom Datentyp "image" oder "file", wird über die Aktion"download_file" realisiert, welche Sie im Plugin "default_library"finden. Dies geschieht normalerweise automatisch. </p><p> Aus Sicherheitsgründen ist der Zugriff auf diese Aktion perVoreinstellung auf Nutzer der Nutzergruppe "Admin" beschränkt. Dies istdie Nutzergruppe mit dem höchsten Sicherheitslevel. Wenn Sie auchNutzern mit einem geringeren Sicherheitslevel Zugriff auf diese Datengestatten wollen, müssen Sie die Sicherheitsbeschränkung dieser Aktionherabsetzen. </p><p> Um dies zu tun, editieren Sie bitte die Datei"plugins/default_library.config" in einem Texteditor Ihrer Wahl. SuchenSie in dieser Datei den folgenden Abschnitt. </p><pre class="codeexample">&lt;DOWNLOAD_FILE&gt;    &lt;TYPE&gt;primary&lt;/TYPE&gt;    &lt;MODE&gt;1&lt;/MODE&gt;    &lt;TEMPLATE&gt;NULL&lt;/TEMPLATE&gt;    <b>&lt;PERMISSION&gt;100&lt;/PERMISSION&gt;</b>&lt;/DOWNLOAD_FILE&gt;</pre><p> Der Sicherheitslevel wird dargestellt als Zahl zwischen 0 und100, wobei 100 der Gruppe "Admin" und 0 der Gruppe "Guest" entspricht.Ändern Sie den Wert&nbsp;"100" auf eine Zahl, die Ihnen angemessenerscheint. </p><p> Einige Vorschläge finden Sie in der folgenden Tabelle: </p><table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0"><tbody><tr><th> Nutzergruppe </th><th> Sicherheitslevel </th></tr><tr><td> Gast (guest)</td><td> 0</td></tr><tr><td> registrierter Nutzer (registered)</td><td> 1</td></tr><tr><td> Moderator (mod)</td><td> 30</td></tr><tr><td> Besitzer (owner)</td><td> 75</td></tr><tr><td> Administrator (admin)</td><td> 100</td></tr></tbody></table><p class="abb_descr"> Gegenüberstellung von Nutzergruppeund Sicherheitslevel </p><p> In diesem Beispiel wurde der Wert auf "1" geändert. </p><pre class="codeexample">&lt;DOWNLOAD_FILE&gt;    &lt;TYPE&gt;primary&lt;/TYPE&gt;    &lt;MODE&gt;1&lt;/MODE&gt;    &lt;TEMPLATE&gt;NULL&lt;/TEMPLATE&gt;    <b>&lt;PERMISSION&gt;1&lt;/PERMISSION&gt;</b>&lt;/DOWNLOAD_FILE&gt;</pre><p> Speichern Sie anschließend die Datei. </p><p> Damit die Änderungen wirksam werden, müssen Sie imAdministrationsmenü des Yana Frameworks den Plugin-Cache aktualisieren.</p><div class="kommentar"> <img src="data/screen17.png" alt="Screenshot" /> <br />Abbildung: Schaltfläche zum Aktualisieren des Plugin-Cache </div><p> Nach Klick auf die Schaltfläche werden die geändertenEinstellungen sofort wirksam. </p><h3>Dateisystem</h3><h4>Wie erhalte ich den Inhalt von Verzeichnissen?</h4><p> Die Funktion dirlist() liefert für ein Verzeichnis einesortierte Liste der enthaltenen Dateien und Verzeichnisse alsnumerisches Datenfeld zurück. Die obligatorischen Verzeichniseinträge&quot;.&quot; und &quot;..&quot; werden nicht aufgelistet. Dateien, deren Dateinamen mitdem Zeichen &quot;.&quot; beginnen werden ebenfalls nicht aufgelistet. Dasbetrifft insbesondere Dateinamen wie &quot;.htaccess&quot; oder &quot;.password&quot;. DieDateinamen enthalten keine Pfadangaben. Verzeichnisnamen enthaltenkeinen abschließenden Querstrich &quot;/&quot;. </p><p> Der optionale Parameter $filter kann verwendet werden um dieAusgabe auf bestimmte Dateiendungen zu beschränken. Wildcards sindnicht gestattet. Der Dateifilter darf lediglich alphanumerischeZeichen, sowie die Zeichen '.', '-' und '_' enthalten. Andere Zeichenwerden beim Aufruf der Funktion automatisch entfernt. </p><pre class="codeexample"><b>alle Einträge eines Verzeichnisses ausgeben:</b>&lt;?phpecho implode(&quot;&lt;br&gt;&quot;, dirlist(&quot;foo/&quot;));?&gt;<b>Ausgabe:</b>foo1.foo2foo3.foo2foo4.foo5foo6.foo7<b>alle Einträge mit passender Dateiendung ausgeben:</b>&lt;?phpecho implode(&quot;&lt;br&gt;&quot;, dirlist('foo/', '*.foo2'));?&gt;<b>Ausgabe:</b>foo1.foo2foo3.foo2<b>... mit mehreren Dateiendungen</b>:&lt;?phpecho implode(&quot;&lt;br&gt;&quot;, dirlist('foo/', '*.foo2|*.foo5'));?&gt;<b>Ausgabe:</b>foo1.foo2foo3.foo2foo4.foo5<b>objektorientierte Variante:</b>&lt;?php$dirStream = new DirStream(&quot;foo/&quot;);$dirStream-&gt;read();$dirlist = $dirStream-&gt;dirlist('*.foo2|*.foo5');echo implode(&quot;&lt;br&gt;&quot;, $dirlist);/* Hinweis: das Setzen des Dateifilters ist permanent. */$dirStream-&gt;dirlist('*.foo2|*.foo5');echo $dirStream-&gt;length();/* Ausgabe: 2 */echo count($dirStream-&gt;get());/* Ausgabe: 2 *//* Ein erneuter Aufruf von dirlist() setzt den Dateifilter neu */$dirStream-&gt;dirlist(&quot;&quot;);echo $dirStream-&gt;length();/* Ausgabe: 4 */?&gt;</pre><h4>Wie kann ich Verzeichnisse anlegen oder löschen?</h4><p> Die Funktionen $dirStream-&gt;create($mode)beziehungsweise $dirStream-&gt;delete() sind für Erzeugenbeziehungsweise Löschen von Verzeichnissen verantwortlich. Deroptionale Parameter $mode kann verwendet werden, um unter LINUX/UNIX-Betriebssystemen Zugriffsrechte von Verzeichnissen festzulegen. DerDefaultwert ist 777. </p><p> Beispiele für gültige Werte für $mode finden Sie in derfolgenden Tabelle. Dabei steht &quot;r&quot; für &quot;readable&quot;, &quot;w&quot; für &quot;writeable&quot;und &quot;x&quot; für &quot;executable&quot;. </p><table style="border-color: rgb(0, 0, 0); width: 486px;" border="1" cellpadding="4" cellspacing="0"><col width="112" /> <col width="113" /> <col width="113" /> <col width="113" /> <thead><tr valign="top"><th width="112"> Besitzer </th><th width="113"> Gruppe </th><th width="113"> sonstige Nutzer </th><th width="113"> Wert </th></tr></thead> <tbody><tr valign="top"><td width="112"><p align="center"> rwx </p></td><td width="113"><p align="center"> rwx </p></td><td width="113"><p align="center"> rwx </p></td><td width="113"><p align="center"> 777 </p></td></tr><tr valign="top"><td width="112"><p align="center"> rw- </p></td><td width="113"><p align="center"> rw- </p></td><td width="113"><p align="center"> --- </p></td><td width="113"><p align="center"> 660 </p></td></tr><tr valign="top"><td width="112"><p align="center"> rw- </p></td><td width="113"><p align="center"> rw- </p></td><td width="113"><p align="center"> rw- </p></td><td width="113"><p align="center"> 666 </p></td></tr><tr valign="top"><td width="112"><p align="center"> rwx </p></td><td width="113"><p align="center"> r-x </p></td><td width="113"><p align="center"> r-x </p></td><td width="113"><p align="center"> 755 </p></td></tr><tr valign="top"><td width="112"><p align="center"> rwx </p></td><td width="113"><p align="center"> r-x </p></td><td width="113"><p align="center"> --- </p></td><td width="113"><p align="center"> 750 </p></td></tr><tr valign="top"><td width="112"><p align="center"> rwx </p></td><td width="113"><p align="center"> --- </p></td><td width="113"><p align="center"> --- </p></td><td width="113"><p align="center"> 700 </p></td></tr></tbody></table><p class="abb_descr"> Beispiele für gültige Werte(entsprechend Unix: CHMOD) </p><pre class="codeexample">&lt;?php$dirStream = new DirStream(&quot;foo/&quot;);$dirStream-&gt;read();/* erzeuge das Verzeichnis &quot;foo/&quot; */$dirStream-&gt;create();/* erzeuge das Verzeichnis &quot;foo/&quot; mit Zugriffsrechten 660 */$dirStream-&gt;create(660);/* Anzahl der Dateien in einem Verzeichnis feststellen */print &quot;Verzeichnis 'foo/' enthält &quot;.$dirStream-&gt;length().&quot; Dateien.&quot;;/* lösche das Verzeichnis &quot;foo/&quot; */$dirStream-&gt;delete();/* lösche das Verzeichnis &quot;foo/&quot; inklusive aller Dateien und Unterverzeichnisse */$dirStream-&gt;delete(true);/* prüfe ob Verzeichnis existiert */$test = $dirStream-&gt;exists();if ($test === true) {	print &quot;Verzeichnis existiert&quot;;} else if ($test === false) {	print &quot;Verzeichnis existiert NICHT&quot;;}?&gt;</pre><h4>Wie lese ich den Inhalt einer Config- oder SML-Datei?</h4><p> Die Funktion SML::getFile() lädt die angegebeneKonfigurationsdatei im SML-Format und liefert den Inhalt alsPHP-Variable zurück. </p><pre class="codeexample">&lt;?php/* Lies Inhalte von Datei und gib Inhalte als Array zurück */$array = SML::getFile(&quot;foo.config&quot;);/* Schlüssel in Großbuchstaben */$array = SML::getFile(&quot;foo.config&quot;, CASE_UPPER);/* Schlüssel in kleinen Buchstaben */$array = SML::getFile(&quot;foo.config&quot;, CASE_LOWER);/* Schlüssel so wie gespeichert (default) */$array = SML::getFile(&quot;foo.config&quot;, CASE_MIXED);/* ... oder: */$array = SML::getFile(file(&quot;foo.config&quot;));/* ... oder: */$array = SML::decode(file_get_contents(&quot;foo.config&quot;));/* einen SML-String erzeugen und dekodieren */$input_array  = array(1,2,3,array(4,5),'a'=&gt;6,'B'=&gt;7);$output_array = SML::decode(SML::encode($input_array));$input_array == $output_array; // true/* objektorientierte Variante, gemischte Schreibweise */$configFile = new ConfigFile(&quot;foo.config&quot;);$configFile-&gt;read();$array = $configFile-&gt;get();/* objektorientierte Variante, Schlüssel in Großbuchstaben */$smlFile = new SML(&quot;foo.config&quot;);$smlFile-&gt;read();$array = $smlFile-&gt;get();?&gt;<b>Navigieren innerhalb einer SML-Datei:</b>Angenommen die Datei &quot;foo.config&quot; hätte folgenden Inhalt:&lt;ROOT&gt;	&lt;FOO1&gt;		&lt;FOO2&gt;text&lt;/FOO2&gt;		&lt;FOO3&gt;			&lt;0&gt;1&lt;/0&gt;			&lt;1&gt;foo&lt;/1&gt;		&lt;/FOO3&gt;	&lt;/FOO1&gt;&lt;/ROOT&gt;&lt;?php$mixed = $smlFile-&gt;get(&quot;ROOT.FOO1&quot;);print_r($mixed);?&gt;Diese Abfrage liefert den Teilbaum ROOT.FOO1 mit FOO1 als Wurzelement.<b>Ausgabe:</b>array(	&quot;FOO2&quot; =&gt; &quot;text&quot;,	&quot;FOO3&quot; =&gt; array (		0 =&gt; 1,		1 =&gt; &quot;foo&quot;	))</pre><h4>Wie schreibe ich eine Variable in eine Config- oder SML-Datei?</h4><p> Die Funktion SML::encode() erzeugt für die übergebeneVariable eine Darstellung als SML-Code und liefert diesen als Stringzurück. Es muss sich entweder um eine Variable mit einem skalaren Wertoder ein Array handeln. </p><p> Bitte beachten Sie: die Funktion &quot;SML::encode&quot; erkennt keineunendlichen Rekursionen. Daher müssen die Datenfelder rekursionsfreisein. Andernfalls wird durch den Compiler eine Fehlermeldung erzeugt. </p><pre class="codeexample"><b>Speichert die Einträge eines Array in der Datei &quot;foo.config&quot;:</b>&lt;?php$string = SML::encode($array, &quot;ROOT&quot;);file_put_contents(&quot;foo.sml&quot;, $string);?&gt;Ersetzen Sie &quot;ROOT&quot; durch den Namen des Wurzelelements!<b>Benutzen von Großbuchstaben, Kleinbuchstaben und gemischter Schreibweise analog zu SML::decode()</b>:&lt;?php$string = SML::encode($array, &quot;ROOT&quot;, CASE_UPPER); // groß$string = SML::encode($array, &quot;ROOT&quot;, CASE_LOWER); // klein$string = SML::encode($array, &quot;ROOT&quot;, CASE_MIXED); // gemischt (default)?&gt;<b>objektorientierte Variante, gemischte Schreibweise:</b>&lt;?php$configFile = new SML(&quot;foo.sml&quot;);$configFile-&gt;read();$configFile-&gt;create();$configFile-&gt;insert($string);$configFile-&gt;write();?&gt;<b>objektorientierte Variante, Schlüssel in Großbuchstaben</b>:&lt;?php$smlFile = new SML(&quot;foo.sml&quot;, CASE_UPPER);$smlFile-&gt;read();$smlFile-&gt;create();$smlFile-&gt;insert($string);$smlFile-&gt;write();?&gt;</pre><h4>Wie kopiere ich eine Datei?</h4><p> Zum Kopieren einer Datei besitzen alle YANA-Klassen, dieDateien repräsentieren, die Funktion "copy". Beim Kopieren der Dateikönnen außerdem auch deren Zugriffsrechte gesetzt werden. Sollte dasVerzeichnis, in welches die Datei kopiert werden soll, noch nichtexistieren, kann es automatisch erzeugt werden. Letzteres ist optional.</p><p> Im Folgenden einige Beispiele. </p><pre class="codeexample"><b>eine Datei kopieren:</b>&lt;?php$foo = new SecureFileStream(&quot;foo.txt&quot;);$foo-&gt;copy(&quot;bar.txt&quot;);$foo-&gt;copy(&quot;bar.txt&quot;); // Fehlermeldung: Datei existiert bereits?&gt;<b>eine Datei kopieren und bereits existierende Dateien überschreiben:</b>&lt;?php$foo-&gt;copy(&quot;bar.txt&quot;, true);$foo-&gt;copy(&quot;bar/foo2.txt&quot;); // Fehlermeldung: Verzeichnis 'bar' existiert nicht?&gt;<b>eine Datei kopieren und fehlende Verzeichnisse automatisch erzeugen:</b>&lt;?php$foo-&gt;copy(&quot;bar/foo2.txt&quot;, false, true);/* Das Verzeichnis 'bar/' wurde angelegt und die Datei 'foo2.txt' darin gespeichert.   Die Zugriffsrechte für das Verzeichnis wurden per Default auf 766 gesetzt. *//* das Verzeichnis wird nun wieder gelöscht */$dir = new DirStream(&quot;bar&quot;);$dir-&gt;delete(true);?&gt;<b>eine Datei kopieren und Zugriffsrechte für die kopierte Datei auf 655 setzen:</b>&lt;?php$foo-&gt;copy(&quot;bar/foo2.txt&quot;, false, false, 655);/* Das Verzeichnis 'bar/' wurde erneut angelegt.   Die Zugriffsrechte für das Verzeichnis wurden nun auf 655 gesetzt - so wie für   die Datei. */?&gt;</pre><h3> Besucherzähler und Statistiken</h3><h4> Wie erstelle ich einen Zähler?</h4><p> Das Framework bietet die Möglichkeit persistente Zählervariablen,also solche deren Wert automatisch gespeichert wird, zu verwenden. </p><p> Es gibt zwei Arten von Zählervariablen: solche, die mitIP-Check, welche nur dann zählen, wenn der Nutzer mit der aktuellen IPnicht innerhalb der letzten 3 Stunden eine Veränderung des Zählersbewirkt hat. Und solche ohne IP-Check, welche stets weiter zählen wennSie aufgerufen werden. </p><p> Im Folgenden einige Beispiele. </p><pre class="codeexample">&lt;?php/* Erzeuge einen Zähler mit IP-Check */$counter = new Counter(&quot;meine_statistiken&quot;, YANA_COUNTER_USE_IP);/* ... oder auch: */$counter = new Counter(&quot;meine_statistiken&quot;);/* Erzeuge einen Zähler ohne IP-Check */$counter = new Counter(&quot;meine_statistiken&quot;, YANA_COUNTER_IGNORE_IP);/* Den Zähler &quot;test1&quot; um 1 erhöhen */$counter-&gt;count(&quot;test1&quot;);/* Den Zähler &quot;test2&quot; um 1 erhöhen und eine Beschreibung der Änderung speichern */$counter-&gt;count(&quot;test2&quot;, &quot;Bewertung&quot;);/* Den Zähler &quot;test1&quot; um 3 erhöhen */$counter-&gt;count(&quot;test1&quot;, &quot;Bewertung&quot;, 3);/* Den Zähler &quot;test1&quot; um 2 verringern */$counter-&gt;count(&quot;test1&quot;, &quot;Bewertung&quot;, -2);?&gt;</pre><h4> Wie frage ich den Zählerstand ab?</h4><pre class="codeexample">&lt;?php$counter = new Counter(&quot;meine_statistiken&quot;);/* Den Zählerstand von &quot;test1&quot; abfragen */$int = $counter-&gt;getCount(&quot;test1&quot;);/* Die Beschreibung von Zähler &quot;test1&quot; abfragen */$string = $counter-&gt;getInfo(&quot;test1&quot;);print $string.&quot;:\t&quot;.$int;/*  Ausgabe  Bewertung: 2*//* Alle Zähler abfragen */$array = $counter-&gt;getCount(&quot;*&quot;);foreach ($array as $a => $b){    print $a.&quot;:\t&quot;.$b;}?&gt;</pre><h4> Wie erzeuge ich einen grafischen Besucherzähler?</h4><div class="codeexample"><pre>&lt;!-- <b>In der Template-Datei fügen Sie folgendes ein:</b> --&gt;&lt;img src=[%"action=graphic_counter&amp;target=0"|href%]&gt;</pre></div><p> Mit dem Parameter "target" wählen Sie die Grafik aus. GültigeWerte sind die Zahlen 0-6. </p><table summary="gültige Werte" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0"><thead> <tr><th style="text-align: center;"> Wert für Target </th><th style="text-align: center;"> Darstellung </th></tr></thead> <tbody><tr><td align="center"> 0</td><td align="center"> <img alt="" src="data/counter_0.jpg" /></td></tr><tr><td align="center"> 1</td><td align="center"> <img alt="" src="data/counter_1.jpg" /></td></tr><tr><td align="center"> 2</td><td align="center"> <img alt="" src="data/counter_2.jpg" /></td></tr><tr><td align="center"> 3</td><td align="center"> <img alt="" src="data/counter_3.jpg" /></td></tr><tr><td align="center"> 4</td><td align="center"> <img alt="" src="data/counter_4.jpg" /></td></tr><tr><td align="center"> 5</td><td align="center"> <img alt="" src="data/counter_5.jpg" /></td></tr><tr><td align="center"> 6</td><td align="center"> <img alt="" src="data/counter_6.jpg" /></td></tr></tbody></table><h3> E-Mails versenden</h3><p style="border: 2px solid rgb(170, 0, 0); padding: 5px; background: rgb(221, 221, 221) none repeat scroll 0% 50%; -moz-background-clip: initial; -moz-background-origin: initial; -moz-background-inline-policy: initial;" align="left"> <b>Versionsinformation:</b> DieFunktionen send_mail und form_mail, sowie die Klasse form_mailer wurdenin Version 2.8 umbenannt in sendMail, formMail und formMailer, um derNamenskonvention des Frameworks zu entsprechen. Die Funktion sendMailist ab Version 2.8 eine statische Funktion der Klasse Mailer. DieFunktion formMail ist ab Version 2.8 eine statische Funktion der KlasseFormMailer. </p><h4 class="western"> Allgemeines zum Versand von Mails</h4><p class="western"> Das Framework bietet die FunktionMailer::mail() zum Versand von Mails. Diese Funktion implementiert eine Reihe von Sicherheitsvorkehrungen,zum Schutz vor verschiedenen Arten von Header-Injection. </p><p class="western"> Die Funktion &quot;Mailer::mail&quot; ist einegegen Missbrauch und &quot;Header-Injection&quot; abgesicherte Variante dernativen PHP-Funktion &quot;mail&quot;. Anders als &quot;mail&quot; werden alle Eingabedatengeprüft und auch nicht alle Header-Informationen, welche &quot;mail&quot;prinzipiell gestattet sind erlaubt. </p><p> Es wird &quot;true&quot; zurückgegeben, wenn die Mail versandt werdenkonnte, &quot;false&quot; sonst. Der Wert &quot;true&quot; bedeutet jedoch nicht, dass dieMail erfolgreich zugestellt wurde. Er bedeutet lediglich, dass dieEingabedaten im Sinne dieser Funktion syntaktisch korrekt waren. </p><p> Die Funktion erzeugt im Header der Mail die zusätzlichenEinträge &quot;x-yana-php-header-protection&quot; und&quot;x-yana-php-spam-protection&quot;. </p><ul><li> &quot;x-yana-php-header-protection&quot; hat den Wert 0 wenn derübergebene Header unauffällig war, andernfalls 1</li><li> &quot;x-yana-php-spam-protection&quot; hat den Wert 0 wenn derHeader kein bcc-Feld enthielt, sonst 1</li></ul><p> Wenn Sie eine Mail empfangen, die über YANA versendet wurde,können Sie im Header der Mail die entsprechenden Einträge prüfen, um zusehen ob das Framework im Nachrichtentext Unregelmäßigkeiten entdeckthat. </p><div class="codeexample"> bool Mailer::mail(string$recipient, string $subject, string $text [, array $header ] ) </div><p> Aus Sicherheitsgründen gelten folgende Einschränkungen. </p><ul><li><p align="left"> <b>Empfänger:</b>&nbsp;&nbsp;&nbsp; $recipient <br />Der Parameter muss eine gültige Mailadresse sein gemäß des regulärenAusdrucks (Perl-Syntax) <br />/^[äöüß\w\d-_\.]{1,}\@[äöüß\w\d-_\.]{2,}\.[\w\d-_\.]{2,}$/i </p></li><li><p align="left"> <b>Betreff:&nbsp;&nbsp;</b> &nbsp;$subject <br />Alle Sonderzeichen außer &quot;()äÄüÜöÖß[]&quot;, alle Tags sowie alleZeilenumbrüche werden still (ohne Warnung) entfernt. Bei einer Längevon mehr als 128 Zeichen werden alle nachfolgenden Zeichen stillentfernt. </p></li><li><p align="left"> <b>Nachrichtentext:&nbsp;&nbsp;</b> &nbsp;($text) <br />Alle '@'-Zeichen werden still durch die Zeichenkette &quot;[at]&quot; ersetzt.Bei Textnachrichten erfolgt ein automatischer Zeilenumbruch nachspätestens 70 Zeichen. Bei HTML-Nachrichten werden einige potentiellgefährliche Tags still entfernt (Blacklist-Ansatz). </p></li><li><p align="left"> <b>Header:</b>&nbsp;&nbsp;&nbsp; $header <br />Dieser Parameter ist ein assoziatives Datenfeld. Es darf beliebigeX-Header-Daten enthalten, sowie einige unkritische Header-Informationen(Whitelist-Ansatz). </p></li></ul><table style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0"><caption>Die Liste der von Header akzeptierten Parameter lautet</caption><thead> <tr valign="top"><th> Parameter </th><th> Typ </th><th> Default </th><th> Beschreibung </th></tr></thead> <tbody style="text-align:center;"><tr valign="top"><td>from</td><td>mail</td><td>-</td><td style="text-align:left;">Eine gültige Mailadresse</td></tr><tr valign="top"><td>return-path</td><td>mail</td><td>-</td><td style="text-align:left;">Eine gültige Mailadresse</td></tr><tr valign="top"><td>cc</td><td>mixed</td><td>-</td><td style="text-align:left;">Entweder eine gültigeMailadresse oder ein numerisches Datenfeld mit mehreren Mailadressen.An alle angegebenen Adressen wird eine Kopie der Nachricht versandt.Anders als bei &quot;bcc&quot; ist die Liste der Empfänger jedoch für alleEmpfänger sichtbar.</td></tr><tr valign="top"><td>content-type</td><td>string</td><td>text/plain; <br />charset="UTF-8"</td><td style="text-align:left;">Bestimmt den MIME-Type der Nachricht.Nur MIME-Type und Charset sind als Eingaben erlaubt.Andere Werte werden ignoriert.</td></tr><tr valign="top"><td>mime-version</td><td>float</td><td>1.0</td><td style="text-align:left;">Angabe muss entsprechend folgendes regulären Ausdrucks erfolgen(Perl-Syntax): /^\d\.\d$/</td></tr><tr valign="top"><td>content-transfer-encoding</td><td>string</td><td>-</td><td style="text-align:left;">Angabe muss entsprechend folgendes regulären Ausdrucks erfolgen(Perl-Syntax): /^\d{,2}bit$/i</td></tr></tbody></table><p class="abb_descr"> gültige Belegungen für den Parameter$header der Funktion Mailer::mail() </p><p> Die Verwendung von &quot;BCC&quot; ist aus Sicherheitsgründen nichtgestattet. </p><h4 class="western"> Wie sende ich einen Text als Mail?</h4><pre class="codeexample">&lt;?php$recipient = &quot;meineMail@domain.tld&quot;;$subject = &quot;Benachrichtigung&quot;;$mailer = new Mailer(&quot;skins/mein_skin/beispiel.mail&quot;);$mailer-&gt;subject = $subject;$mailer-&gt;sender&nbsp; = $ARGS[&quot;mail&quot;];$mailer-&gt;insert(&quot;NAME&quot;, $ARGS[&quot;name&quot;]);$mailer-&gt;insert(&quot;NACHRICHT&quot;, $ARGS[&quot;nachricht&quot;]);$mailer-&gt;insert(&quot;IP&quot;, $_SERVER[&quot;REMOTE_ADDR&quot;]);$test = $mailer-&gt;send($recipient);if ($test === true) {    print &quot;Versand erfolgreich&quot;;} else if ($test === false) {    print &quot;Versand nicht erfolgreich&quot;;}?&gt;</pre><h4 class="western"> Wie sende ich eine Mail auf Basiseines Templates?</h4><div class="codeexample"> <b> Das Template"beispiel.mail" könnte wie folgt aussehen:</b> <br /><br />Hallo [%$NAME%]! <br /><br />Jemand hat dir eine Nachricht hinterlassen, sie lautet: <br /><br />[%$NACHRICHT%] <br /><br />IP des Besuchers: [%$IP%] <br /><br /><b>Dies ist der Quelltext zum Versenden der Mail:</b> <br /><pre>&lt;?php$recipient = &quot;meineMail@domain.tld&quot;;$subject = &quot;Benachrichtigung&quot;;$mailer = new Mailer(&quot;skins/mein_skin/beispiel.mail&quot;);$mailer-&gt;subject = $subject;$mailer-&gt;sender&nbsp; = $ARGS[&quot;mail&quot;];$mailer-&gt;insert(&quot;NAME&quot;, $ARGS[&quot;name&quot;]);$mailer-&gt;insert(&quot;NACHRICHT&quot;, $ARGS[&quot;nachricht&quot;]);$mailer-&gt;insert(&quot;IP&quot;, $_SERVER[&quot;REMOTE_ADDR&quot;]);$test = $mailer-&gt;send($recipient);if ($test === true) {    print &quot;Versand erfolgreich&quot;;} else if ($test === false) {    print &quot;Versand nicht erfolgreich&quot;;}?&gt;</pre><b>Eine versandte Mail könnte dann wie folgt aussehen:</b> <br /><br />Hallo Thomas! <br /><br />Jemand hat dir eine Nachricht hinterlassen, sie lautet: <br /><br />Hallo Welt <br /><br />IP des Besuchers: 127.0.0.1 </div><p class="western"> Anmerkung: vor dem Versand der E-Mailprüft die Funktion $mailer-&gt;send() die Eingabedaten automatischauf Versuche von Header-Injection und säubert alle Eingaben. Es kannjedoch absolut nichts schaden, wenn Sie die Syntax der Eingabedatentrotzdem auch in Ihrem Skript noch einmal überprüfen bevor Sie dieFunktion aufrufen. </p><h4 class="western"> Wie versende ich Daten aus einemFormular als Mail?</h4><div class="codeexample"> <b>Dies ist der Quelltextzum Versenden der Mail:</b><pre>&lt;?php$formMailer = new FormMailer();// Betreff$formMailer-&gt;subject = &quot;Benachrichtigung&quot;;// Kopf- und Fusszeile$formMailer-&gt;headline = &quot;Inhalte des Kontaktformulars:\n\n&quot;$formMailer-&gt;footline = &quot;\n\nYANA formmailer at &quot;.$_SERVER['SERVER_NAME'];// Formularinhalt$formMailer-&gt;content = $_POST;$test = $formMailer-&gt;send(&quot;meineMail@domain.tld&quot;);if ($test === true) {    print &quot;Versand erfolgreich&quot;;} else if ($test === false) {    print &quot;Versand nicht erfolgreich&quot;;}?&gt;</pre><b>Eine versandte Mail könnte dann wie folgt aussehen:</b> <br /><br />Inhalte des Kontaktformulars: <br /><br />========================================== <br />&nbsp; Benachrichtigung <br />========================================== <br /><br />&nbsp;&nbsp;&nbsp;name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Walter <br />&nbsp;&nbsp;&nbsp;alter:&nbsp;&nbsp;&nbsp;&nbsp; 35 <br />&nbsp;&nbsp;&nbsp; betreff:&nbsp;&nbsp; Neueintrag <br />&nbsp;&nbsp;&nbsp; dringend:&nbsp; [x] <br />&nbsp;&nbsp;&nbsp; nachricht: Bitte Passwort senden! <br /><br />========================================== <br />Datum: 11.08.2006 10:06:41 <br />IP: 127.0.0.1 <br /><br />YANA formmailer at foo.server.tld </div><h3> Formulardaten prüfen</h3><h4 class="western"> Wie kann ich Nutzereingaben vor derVerarbeitung säubern?</h4><p class="western"> Zu diesem Zweck bietet Ihnen YANA dieFunktion untaintInput(). </p><p> Die Funktion verfügt über folgende Parameter: <br /></p><table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0"><thead><tr valign="top"><th><p> Parameter </p></th><th><p> Typ </p></th><th><p> Default </p></th><th><p> Beschreibung </p></th></tr></thead> <tbody style="text-align:center;"><tr valign="top"><td> value </td><td> mixed </td><td> - </td><td style="text-align:left;">zu säuberndes Datum</td></tr><tr valign="top"><td> type </td><td> string </td><td> - </td><td style="text-align:left;">Datentyp<br /><br />Neben den von PHP unterstütztennativen Typen sind noch folgende Werte erlaubt:<ul><li>time: UTC-Zeitcode (Typ Integer, Länge 11)</li><li>ip: IP-Adresse (Typ String, Länge 15)</li><li>mail: Mailadresse (Typ String)</li><li>select: wird behandelt wie &quot;string&quot;</li><li>text: wird behandelt wie &quot;string&quot;</li></ul></td></tr><tr valign="top"><td> length </td><td> integer </td><td> 0 </td><td style="text-align:left;"> Maximale Länge des Datums </td></tr><tr valign="top"><td> escape </td><td> integer </td><td> 0 </td><td style="text-align:left;"> siehe Tabelle </td></tr></tbody></table><p class="abb_descr"> Parameterliste untaintInput </p><p> Der Parameter $escape kann mit einer der folgenden Konstantenbelegt werden. </p><table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0"><col width="103*" /> <col width="153*" /> <thead><tr valign="top"><th width="40%"> Bezeichner </th><th width="60%"> Beschreibung </th></tr></thead> <tbody><tr valign="top"><td width="40%"> YANA_ESCAPE_NONE </td><td width="60%"> keine Änderungen durchführen(Default) </td></tr><tr valign="top"><td width="40%"> YANA_ESCAPE_SLASHED </td><td width="60%"> wandelt einfache und doppelteAnführungszeichen in ihre entsprechenden Escapesequenzen in C-Syntax um</td></tr><tr valign="top"><td width="40%"> YANA_ESCAPE_TOKEN </td><td width="60%"> ersetzt enthaltene Token durch ihreHTML-Entities </td></tr><tr valign="top"><td width="40%"> YANA_ESCAPE_CODED </td><td width="60%"> ersetzt HTML-Symbole,beispielsweise Tagklammern, durch Entities </td></tr><tr valign="top"><td width="40%"> YANA_ESCAPE_LINEBREAK </td><td width="60%"> wandelt alle Whitespace-Zeichen(insbesondere Zeilenumbrüche) in Leerzeichen um </td></tr><tr><td width="40%"> YANA_ESCAPE_USERTEXT </td><td width="60%"> zur Behandlung von Text ausTextarea-Feldern </td></tr></tbody></table><p class="abb_descr"> Gültige Belegungen für den Parameter$escape der Funktion untaintInput </p><p> Für INPUT-Felder sollten Sie stets die FunktionuntaintInput() mit dem Parameter YANA_ESCAPE_LINEBREAK aufrufen. Dasverhindert, dass ein Angreifer Zeilenumbrüche in Ihre Ausgabeschmuggelt. Für TEXTAREA-Felder sollten Sie den ParameterYANA_ESCAPE_USERTEXT verwenden. Dieser verhindert viele Formen vonFlooding, indem Zeichenfolgen die sich ständig wiederholen(Copy'n'Paste Flooding) entfernt werden, oder zum Beispiel ellenlangeTexte oder Leerzeichen nach einer bestimmten Anzahl von Leerzeichen perZwang umgebrochen werden, um das Layout Ihrer Seite nicht zu zerstören.</p><h3>Logging und Fehlermeldungen</h3><h4><a name="logging"></a>Wo finde ich die Log-Daten?</h4><p>YANA schreibt alle Log-Einträge in eine Tabelle derDatenbank. Dies geschieht jedoch nur, wenn Logging aktiviert ist. Siekönnen dies deaktivieren, um Speicherplatz zu sparen. Dieses Feature istnach der Installation per Default deaktiviert.</p><h4> Wie aktiviere ich Logging?</h4><ul><li> Melden Sie sich als Administrator an und öffnen Sie dasAdministrationsmenü im Expertenmodus.</li><li>Öffnen Sie das "Programmsetup".<p class="kommentar"><img src="data/screen15.png" alt="Optionen, Programmsetup" /><br />Abbildung: Optionen, Programmsetup</p></li><li>Aktivieren Sie die Option "Protokollierung".<p class="kommentar"><img src="data/screen16.png" alt="Protokollierung, aktivieren: ja" /><br />Abbildung: Protokollierung aktivieren</p></li><li> Speichern Sie Ihre Änderungen. </li><li>Anschließend können Sie von diesem Menü aus die Log-Einträgeaufrufen. Nach Klick auf die Schaltfläche "Protokolleinträge anzeigen"erhalten Sie eine Übersicht aller Einträge. Ein Beispiel sehen Sie inder folgenden Abbildung.<p class="kommentar"><img src="data/screen25.png" alt="Liste der Protokolleinträge" /><br />Abbildung: Liste der Protokolleinträge</p>Das Protokoll informiert nicht nur über Fehler, es speichertkurzfristig auch gelöschte Datensätze. Falls Sie einmal aus Verseheneinen wichtigen Datensatz löschen sollten, können Sie diesen im Notfallalso mit Hilfe der Informationen in den Logs von Hand wiederherstellen.</li></ul><h4> Wie erstelle ich einen Log-Eintrag?</h4><pre class="codeexample">&lt;?phpglobal $YANA;/* Einen Text in die Logs schreiben */$log = new Log(&quot;Mein Log-Eintrag&quot;);$YANA-&gt;report($log);/* Text und Dump von Daten */$dump = $irgendwelche_daten;$log&nbsp; = new Log(&quot;Mein Log-Eintrag&quot;,$dump);$YANA-&gt;report($log);/* den erzeugten Log-Eintrag ansehen */print $log-&gt;getLog();?&gt;</pre><h4> Wie erzeuge ich eine Fehlermeldung?</h4><h5>Fehlermeldung erzeugen</h5><p> Durch Aufruf von $YANA-&gt;report(Report $report) kanneine Textmeldung erzeugt werden. </p><p> Der Parameter $report ist eine Instanz einer der folgendenKlassen. Diese Klassen haben die gemeinsame Oberklasse "Report". </p><table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0"><tbody><tr><th> Klasse </th><th> Beschreibung </th></tr><tr><td> Log</td><td> für Ausgabe in Log-Datei</td></tr><tr><td> Message</td><td> Erfolgsmeldung (Bildschirm)</td></tr><tr><td> Warning</td><td> Warnung</td></tr><tr><td> Alert</td><td> Hinweis</td></tr><tr><td> Error</td><td> Fehler</td></tr></tbody></table><p class="abb_descr"> akzeptierte Typen für Parameter$report </p><p> Der Konstruktor wird wie folgt aufgerufen: </p><p> new Log(string $text [, mixed $data]); </p><p> Das folgende Beispiel schreibt eine Meldung in die Log-Dateiund erzeugt dann einen Text für die Ausgabe am Bildschirm. </p><p> $YANA-&gt;report( new Log("IO-ERROR: Unable to read file$a") ); <br />$YANA-&gt;report( new Error('NOT_READABLE', array('FILE' =&gt;$a) ) ); </p><h5>Verwendung</h5><p> Der Parameter $text kann ein Error-Code sein, oder auch einbeliebiger Fließtext. Für Bildschirmausgabe sollten Error-Codesverwendet werden. Für Ausgaben in die Log-Datei bietet sich englischerFließtext an. Der Parameter $data ist optional und enthält weitereOptionen. Beispielsweise den Datensatz, der nicht gespeichert werdenkonnte, oder den Namen einer Datei, die gerade nicht geöffnet werdenkann. </p><p> Gültige Error-Codes für den Parameter $text sind unteranderem (AUSZUG): </p><table style="border-color: rgb(0, 0, 0);" border="1" cellpadding="4" cellspacing="0"><tbody><tr><th> Code </th><th> Beschreibung </th><th> Textauszug </th></tr><tr><td> 200</td><td> Erfolg</td><td> Änderungen wurden gespeichert. Vielen Dank !!!</td></tr><tr><td> 500</td><td> Allgemeiner Fehler</td><td> Es ist ein Fehler aufgetreten...</td></tr><tr><td> 403</td><td> Fehler: Zugriff verweigert</td><td> Passwort erforderlich. Sie betreten einen geschütztenBereich...</td></tr><tr><td> INPUT_INVALID</td><td> Fehler: Falsche Eingabe</td><td> Ein gewählter Parameter ist ungültig...</td></tr><tr><td> 404</td><td> Fehler: Datei nicht gefunden</td><td> Bitte überprüfen Sie die angegebene URL und versuchenSie es erneut.</td></tr><tr><td> ALLREADY_EXISTS</td><td> Fehler:&nbsp;Eintrag doppelt</td><td> Es konnte kein neuer Eintrag mit der id "%ID%" erzeugtwerden, weil bereits ein anderes Eintrag mit diesem Namen existiert.</td></tr><tr><td> FILE_NOT_CREATED</td><td> Fehler: IO-Error</td><td> Die Datei "%FILE%" konnte nicht erzeugt werden.</td></tr><tr><td> NOT_WRITEABLE</td><td> Fehler: IO-Error</td><td> Der Schreibzugriff auf die Ressource&nbsp;"%FILE%"ist gescheitert. Daten konnten nicht gespeichert werden.</td></tr><tr><td> NOT_READABLE</td><td> Fehler: IO-Error</td><td> Der Zugriff auf die Ressource&nbsp;"%FILE%" istgescheitert. Daten konnten nicht gelesen werden.</td></tr></tbody></table><p class="abb_descr"> akzeptierte Belegungen für Parameter$text </p><p> Enthaltene Token, wie&nbsp;%FILE% werden ersetzt in derfolgenden Weise: </p><pre class="codeexample">&lt;?php$YANA-&gt;report( new Warning('FILE_NOT_CREATED', array('FILE' =&gt; $a)) );?&gt;</pre><p> Das besondere an $YANA-&gt;report() ist, dass Sie damitgleichzeitig Textmeldungen in die Log-Datei schreiben UND Meldungen amBildschirm ausgeben können. Wird die Methode mehrmals aufgerufen,werden mehrere Textmeldungen erzeugt. </p><div class="codeexample"><pre>&lt;?php$YANA-&gt;report( new Warning('FILE_NOT_CREATED', array('FILE' =&gt; $a)) );/* ... */$YANA-&gt;report( new Alert('NOT_WRITEABLE', array('FILE' =&gt; $a)) );/* ... */$YANA-&gt;report( new Error('500') );$YANA-&gt;report( new Log(&quot;Input/Output Error in File $a.&quot;, $lost_data) );return false;?&gt;</pre></div><p> Der Aufruf von Yana-&gt;report erzeugt nur dieTextmeldung, bricht aber das Programm nicht ab. Um das Programm zuunterbrechen, verwenden Sie die Methode Yana-&gt;exitTo. Bittebeachten Sie: verwenden Sie NICHT die PHP-Methoden exit() oder die().Andernfalls wird keine Ausgabe erzeugt. </p><h5>Das Programm unterbrechen</h5><p> Die Methode Yana-&gt;exitTo( [string $action] ) kannverwendet werden um das Programm zu unterbrechen und anzugeben, welcheAktion anschließend ausgeführt werden soll. Das heißt, die Verarbeitungder aktuellen Aktion wird abgebrochen und stattdessen wird das Skriptmit der Aktion $action fortgesetzt. </p><p> Dabei gibt das Framework alle Textmeldungen an den Browseraus und ruft sich selbst erneut auf. Der Parameter $action entsprichtdabei dem URL-Parameter "action". </p><p> Wenn der Parameter $action nicht angegeben wird, dann wirdstattdessen automatisch die Startseite aufgerufen. </p><p> Sie können für $action die spezielle Aktion "null" verwenden,falls Sie das Programm beenden möchten OHNE dass mit der Verarbeitungeiner anderen Aktion fortgesetzt werden soll. </p><p> Im Folgenden ein einfaches Beispiel: </p><pre class="codeexample">&lt;?php// erzeuge einige Textmeldungen$YANA-&gt;report( new Log('Ein Eintrag für die Log-Files') );$YANA-&gt;report( new Alert('NOT_WRITEABLE', array('FILE' =&gt; $a)) );// stoppe die Bearbeitung des Programms und setze es mit der Aktion 'index' fort$YANA-&gt;exitTo('index');// erzeuge eine Fehlermeldung$YANA-&gt;report( new Error('Access denied!') );// Abbruch des Programm (setze NICHT mit anderer Aktion fort)$YANA-&gt;exitTo('null');// Abbruch des Programms und Aufruf der Startseite$YANA-&gt;exitTo();?&gt;</pre><h3> Profilvariablen lesen und schreiben</h3><h4> Allgemeines zum Verständnis</h4><p> YANA stellt einen globalen Speicherbereich zur Verfügung, dervon allen Plugins gelesen und verändert werden kann. Alle Variablen,die in diesem Bereich gespeichert werden, stehen Ihnen automatisch inallen Skins und Templates für die Ausgabe zur Verfügung. Bitte beachtenSie: der globale Speicherbereich in YANA ist etwas anderes als derglobal Namespace von PHP. </p><p> Innerhalb dieses Speichers werden Werte als ein Baum, in Formvon mehrdimensionalen, assoziativen Arrays gespeichert. Der Zugriff aufdiesen Speicherbereich erfolgt analog zu Smarty &#8211; oder, falls Ihnen derVergleich besser gefällt, ähnlich wie mit XPath &#8211; über einen Schlüssel.</p><p> Zum Beispiel: </p><div class="codeexample"> <b>Angenommen der Baumsieht wie folgt aus:</b> <br /><br />array( <br />&nbsp;&nbsp;&nbsp; "a" =&gt; 2, <br />&nbsp;&nbsp;&nbsp; "b" =&gt; array( <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"c" =&gt; 3, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp; =&gt; 4 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <br />); <br /><br /><b>Dann können Sie folgende Schlüssel verwenden:</b> <br /><pre>&lt;?php$array = $YANA-&gt;getVar(&quot;*&quot;); // mit Hilfe des Schl&uuml;ssels &quot;*&quot; erhalten Sie eine Kopie des gesamten Arrays$int = $YANA-&gt;getVar(&quot;a&quot;);   // Ausgabe: 2$array = $YANA-&gt;getVar(&quot;b&quot;); // Ausgabe: array(&quot;c&quot; =&gt; 3, 1 =&gt; 4)$int = $YANA-&gt;getVar(&quot;b.c&quot;); // Ausgabe: 3/* Anders als in XML-Dateien sind hier numerische Ids erlaubt: */$int = $YANA-&gt;getVar(&quot;b.1&quot;); // Ausgabe: 4?&gt;</pre></div><h4> Wie kann ich Variablen aus dem globalen Speicher lesen?</h4><p> Die Funktion $YANA-&gt;getVar() erlaubt Ihnen das Lesenvon Werten im globalen Speicherbereich. </p><pre class="codeexample">&lt;?phpglobal $YANA;/* alle Werte lesen */$array = $YANA-&gt;getVar(&quot;*&quot;);/* einzelne Werte lesen */$mixed = $YANA-&gt;getVar(&quot;FOO1.FOO2.FOO3&quot;);/* alternativ */$mixed = $YANA-&gt;registry-&gt;getVar(&quot;FOO1.FOO2.FOO3&quot;);?&gt;</pre><h4> Wie kann ich Variablen im globalen Speicher schreiben?</h4><p> Die Funktion $YANA-&gt;setVar() erlaubt Ihnen dasSchreiben von Werten in den globalen Speicherbereich. </p><pre class="codeexample">&lt;?phpglobal $YANA;/* Variable &quot;MEINE_VARIABLE&quot; registrieren */$bool = $YANA-&gt;setVar(&quot;MEINE_VARIABLE&quot;, $neuer_wert);$bool = $YANA-&gt;setVar(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;, $neuer_wert);/* alternativ */$mixed = $YANA-&gt;registry-&gt;setVar(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;, $neuer_wert);?&gt;</pre><h4> Wie kann ich Variablen im globalen Speicher löschen?</h4><p> Dazu bietet YANA die Funktion $YANA-&gt;unsetVar(). EinBeispiel: </p><pre class="codeexample">&lt;?phpglobal $YANA;/* Variable &quot;MEINE_VARIABLE&quot; löschen */$bool = $YANA-&gt;unsetVar(&quot;MEINE_VARIABLE&quot;);$bool = $YANA-&gt;unsetVar(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;);/* alternativ */$mixed = $YANA-&gt;registry-&gt;unsetVar(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;);?&gt;</pre><h4> Wie kann ich den Typ einer Variablen im globalen Speicherändern?</h4><p> Dazu bietet YANA die Funktion $YANA-&gt;setType(). EinBeispiel: </p><pre class="codeexample">&lt;?phpglobal $YANA;/* den Typ der Variable &quot;MEINE_VARIABLE&quot; auf String ändern */$bool = $YANA-&gt;setType(&quot;MEINE_VARIABLE&quot;, &quot;string&quot;);$bool = $YANA-&gt;setType(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;, &quot;string&quot;);/* alternativ */$mixed = $YANA-&gt;registry-&gt;setType(&quot;FOO1.FOO2.MEINE_VARIABLE&quot;, &quot;string&quot;);?&gt;</pre><h4> Welche interessanten Daten liegen im globalen Speicher?</h4><h5>Liste der installierten Plugins</h5><div class="codeexample"> <b>Eine Liste derinstallierten Plugins ausgeben:</b> <br /><pre>&lt;?phpglobal $YANA;$array = $YANA-&gt;getVar(&quot;INSTALLED_PLUGINS&quot;);print_r($array);?&gt;</pre><b>Ausgabe:</b><pre>    Array        (            [CONFIG] =&gt; 1            [DB_ADMIN] =&gt; 1            [DEFAULT_LIBRARY] =&gt; 1            [GUESTBOOK] =&gt; 1            [GUESTBOOK_ADMIN] =&gt; 1            [USER] =&gt; 1        )</pre><b>Prüfen ob ein bestimmtes Plugin installiert ist:</b><pre>&lt;?php$bool = $YANA-&gt;getVar(&quot;INSTALLED_PLUGINS.MEIN_PLUGIN&quot;);if ($bool) {    print &quot;Plugin 'MEIN_PLUGIN' gefunden.&quot;;} else {    print &quot;Plugin 'MEIN_PLUGIN' nicht gefunden.&quot;;}/* alternativ */$YANA-&gt;plugins-&gt;isInstalled('MEIN_PLUGIN');?&gt;</pre></div><h5>aktuelle Profileinstellungen</h5><p> Das "Website-Profil" wird über den URL-Parameter "id"ausgewählt. Jedes Profil kann individuelle Einstellungen haben. DieseEinstellungen werden ebenfalls im globalen Speicherbereich desFrameworks abgelegt. Wird kein Profil gewählt, dann wird das Profil"default" verwendet. De facto müssen Sie als Programmierer sich nichtdarum kümmern, welches Profil gewählt ist. Sie müssen nur wissen, dassin den Profildaten Einstellungen, wie die gewählte Hintergrundfarbe derSeite, die bevorzugte Schriftart und andere interessante Datengespeichert sind, auf die Sie bei Bedarf zugreifen können. </p><div class="codeexample"><pre>&lt;?phpglobal $YANA;/* die aktuellen Profileinstellungen lesen und ausgeben */$array = $YANA-&gt;getVar(&quot;PROFILE&quot;);print_r($array);?&gt;</pre><br /><b>Ausgabe:</b><pre id="line1">Array(&gt;&gt; Layout der Website    [BGCOLOR] =&gt; #F0F0F0    [PFONT] =&gt; Arial, Helvetica, sans-serif    [BGIMAGE] =&gt;    [LOGO] =&gt;    [HSIZE] =&gt;    [HCOLOR] =&gt;    [HFONT] =&gt;    [PSIZE] =&gt;    [PCOLOR] =&gt;&gt;&gt; Gewählte Sprache, Skin und Verzeichnis für Emoticons / Smilies    [LANGUAGE] =&gt; deutsch.config    [SKIN] =&gt; default.config    [SMILEYDIR] =&gt; common_files/smilies/&gt;&gt; Sonstige Einstellungen    [USERMODE] =&gt; 1    [AUTO] =&gt; 1    [TIMEFORMAT] =&gt; 0&gt;&gt; Protokollierung    [LOGGING] =&gt; 1    [LOG_LENGTH] =&gt; 50&gt;&gt; Einstellungen für Plugin &quot;rss to html factory&quot;    [RSS] =&gt; Array        (            [FILE] =&gt; plugins/rss/test.rss            [MAX] =&gt; 5        )&gt;&gt; Einstellungen für Plugin &quot;guestbook&quot; (Gästebuch)    [GUESTBOOK] =&gt; Array        (            [NOREPLY] =&gt; noReply@meineAdresse.tld            [FLOODING] =&gt; 0            [ENTPERPAGE] =&gt; 5            [NOTIFICATION] =&gt;            [SENDMAIL] =&gt;            [MAIL] =&gt; meinName@meineAdresse.tld            [FILE] =&gt;            [SPAMPROTECT] =&gt; 1            [PROFILE] =&gt;            [USE_DB] =&gt;        )&gt;&gt; Einstellungen für Plugin &quot;search&quot; (Stichwortsuche)    [SEARCH] =&gt; Array        (            [TARGET] =&gt; _self        )&gt;&gt; Einstellungen für Plugin &quot;user_admin&quot; (Nutzerverwaltung)    [USER] =&gt; Array        (            [ALLOW_CREATE] =&gt; 0        ))&lt;?php/* die gewählte Hintergrundfarbe auslesen */$string = $YANA-&gt;getVar(&quot;PROFILE.BGCOLOR&quot;);print '&lt;p style=&quot;background-color: '.$string.'&quot;&gt;test&lt;/p&gt;';?&gt;</pre></div><h5>Default-Einstellungen</h5><div class="codeexample"><pre>&lt;?phpglobal $YANA;/* YANA Defaut-Einstellungen ausgeben */$array = $YANA-&gt;getVar(&quot;DEFAULT&quot;);print_r($a);?&gt;</pre><b>Ausgabe:</b><pre>    Array        (&gt;&gt; Legt fest, welche Aktion automatisch aufgerufen werden soll, wenn das   Argument "action" leer oder nicht gesetzt ist.   Voreingestellt ist "sitemap" - man kann aber z.Bsp. auch "guestbook_read"   verwenden für das Gästebuch, oder "search_start" für die Suchmaschine.   Diese Einstellung wurde eingeführt in Version 2.8.0            [HOMEPAGE] =&gt; sitemap&gt;&gt; Legt fest, ob Textmeldungen (Fehler, Hinweise etc.) in einem eigenen Fenster (true)   oder im Text der normalen Seite (false) angezeigt werden sollen.   Diese Einstellung wurde eingeführt in Version 2.8.2            [MESSAGE] =&gt; false&gt;&gt; Default-Event Konfiguration für Ereignisse, die nicht definiert sind            [EVENT] =&gt; Array                (                    [TYPE] =&gt; default                    [MODE] =&gt; 0                    [PERMISSION] =&gt; 0                    [TEMPLATE] =&gt; index                    [INSERT] =&gt;                )&gt;&gt; Default-Interface Konfiguration            [INTERFACE] =&gt; Array                (                    [TEST] =&gt; Array                        (                            [TYPE] =&gt; private                            [MODE] =&gt; 0                            [PERMISSION] =&gt; 0                            [TEMPLATE] =&gt; NULL                        )                )&gt;&gt; Default-Skin Konfiguration            [SKIN] =&gt; Array                (                    [DIRECTORY] =&gt; default/                )&gt;&gt; Default-Language Konfiguration            [LANGUAGE] =&gt; Array                (                    [DIRECTORY] =&gt; de/                )&gt;&gt; Voreingestellung für Datenbankverbindungen            [DATABASE] =&gt; Array                (                    [DSN] =&gt; Array                        (                            [USE_ODBC] =&gt;                            [DBMS] =&gt; mysql                            [HOST] =&gt; localhost                            [PORT] =&gt; 0                            [USERNAME] =&gt; root                            [PASSWORD] =&gt;                            [DATABASE] =&gt; yana                        )&gt;&gt; Konfiguration der Datenbankschnittstelle                    [OPTIONS] =&gt; Array                        (                            [AUTOFREE] =&gt; 1                            [PERSISTENT] =&gt; 1                            [SSL] =&gt;                        )&gt;&gt; Liste der DBMS, welche über die ODBC-Schnittstelle angesprochen werden sollen                    [REQUIRE_ODBC] =&gt; Array                        (                            [0] =&gt; db2                            [1] =&gt; access                        )                )        )</pre></div><h5>Nutzer-Informationen</h5><pre class="codeexample">&lt;?phpglobal $YANA;/* Nutzer IP */print $YANA-&gt;getVar(&quot;REMOTE_ADDR&quot;).&quot;\n&quot;;/* Nutzer Name */print $YANA-&gt;getVar(&quot;SESSION_USER_ID&quot;).&quot;\n&quot;;/* Zugriffslevel des Nutzers */print $YANA-&gt;getVar(&quot;PERMISSION&quot;).&quot;\n&quot;;/* Session-Name */print $YANA-&gt;getVar(&quot;SESSION_NAME&quot;).&quot;\n&quot;;/* Session-ID */print $YANA-&gt;getVar(&quot;SESSION_ID&quot;).&quot;\n&quot;;?&gt;<b>Ausgabe:</b>127.0.0.1ADMINISTRATOR100YSID480f97e69eae2311d3157cc3377a2d73</pre><h3><a name="cookbook_captcha"></a>Verwendungeines CAPTCHA</h3><h4>Allgemeines zum Verständnis</h4><p> Ein CAPTCHA ist eine Methode zum Schutz vor Spam. Dazu wirdeine Grafik mit einem Text angezeigt, welchen der Besucher abtippenmuss. Ein Mensch kann das mit Leichtigkeit, ein Spam-Bot hingegen kanndas nicht. Auf diese Weise kann eine große Menge unerwünschter Werbungvermieden werden. </p><p> Das Framework hat eine Funktion zum Erzeugen einerCAPTCHA-Grafik im PNG-Format (Mime-Type &quot;image/png&quot;), welche einenzufällig erzeugten Code aus Zahlen und Buchstaben enthält. EinParameter gibt an, welche Positionsnummer dieser Code in der aktuellenCode-Tabelle hat. Die Codetabelle enthält 10 Einträge und verfällt ineinem Zeitraum von 10 Minuten bis etwa 3 Stunden nach dem Aufruf derFunktion automatisch. Wenn die Tabelle abgelaufen ist, wird automatischeine neue Tabelle erstellt. </p><h4>Wie benutze ich ein CAPTCHA für mein Plugin?</h4><p> Das Yana Framework hat eine solche Funktion bereitseingebaut. Sie müssen sich also nicht selbst darum kümmern, sondern eslediglich benutzen. </p><p> Das CAPTCHA besteht aus zwei Teilen: einer Grafik mit einemInput-Feld, welche im Template eingebunden werden müssen und einerAbfrage, welche im Quellcode des Plugins eingebunden werden muss unddie true beziehungsweise false liefert, wenn die Eingabe korrektbeziehungsweise falsch war. </p><p> Dazu folgendes Beispiel: </p><div class="codeexample"> <b>Quellcode desTemplates:</b><pre><code><span class="html1-value">[%captcha%]</span></code></pre><p class="kommentar"> <img alt="Screenshot" src="data/screen41.png" /><br />Abbildung: Beispiel für die Darstellung im Browser </p><b>Quellcode des Plugins:</b><pre>&lt;?phpglobal $YANA;/** * zum Prüfen der Eingabe: * * Die Variable $formular_daten kann je nach Bedarf auf * $_POST, $_GET, oder $ARGS gesetzt werden. */$bool = $YANA-&gt;handle(&quot;security_check_image&quot;, $formular_daten);<br />if ($bool) {    print &quot;Eingabe korrekt.&quot;;} else {    print &quot;Eingabe ist falsch.&quot;;}?&gt;</pre></div><h4> Einbau in älteren Versionen vor 2.9.3</h4><p> Die Unterstützung für CAPTCHAs wurde in Version 2.8.0eingeführt. Das obige Beispiel gilt für das Yana Framework ab Version2.9.3. In dieser Version wurde die Handhabung des CAPTCHA deutlichvereinfacht. </p><p> Für die älteren Versionen 2.8.0 bis 2.9.2 verwenden Sie bittedas folgende Beispiel: </p><div class="codeexample"> <b>Quellcode des Template:</b><pre><code><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;security_image_index&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;<span class="mygeneral1-keywords2">[%</span><span class="mygeneral1-keywords1">$SECURITY_IMAGE_INDEX</span><span class="mygeneral1-keywords2">%]</span>&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">img</span><span class="html1-space"> </span><span class="html1-identifier">src</span><span class="html1-symbol">=</span><span class="html1-value">[%&quot;action=security_get_image&amp;security_image_index=$SECURITY_IMAGE_INDEX&quot;|url%]</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;security_image&quot;</span><span class="html1-symbol">&gt;</span></code></pre><b>Quellcode des Plugins:</b><pre>&lt;?phpglobal $YANA;/* zum Erzeugen des Formulars: *//* Die Variable SECURITY_IMAGE_INDEX muss für das Formular gesetzt werden.   Sie kann einen beliebigen Integerwert zwischen 1 und 9 haben. */$YANA-&gt;setVar(&quot;SECURITY_IMAGE_INDEX&quot;, rand(1,9));/** * zum Prüfen der Eingabe: * * Die Variable $formular_daten kann je nach Bedarf auf * $_POST, $_GET, oder $ARGS gesetzt werden. */$bool = $YANA-&gt;handle(&quot;security_check_image&quot;, $formular_daten);<br />if ($bool) {    print &quot;Eingabe korrekt.&quot;;} else {    print &quot;Eingabe ist falsch.&quot;;}?&gt;</pre></div><p> Für noch ältere Versionen (älter als Version 2.8.0) ist einEinbau von Hand erforderlich. </p><h3><a name="cookbook_plugins"></a>Plugins editieren</h3><h4>Wie definiere ich die Schnittstellen?</h4><p> Die Schnittstelle eines Plugins wird als Datei mit der Endung"*.config" gespeichert. Sie finden diese Dateien im Verzeichnis"plugins/". </p><pre class="codeexample">/* <b>in der Schnittstellenbeschreibung plugins/foo.config</b> */&lt;INTERFACE&gt;	&lt;<b>name der aktion</b>&gt;		&lt;TYPE&gt;primary|default|write|read|security|config&lt;/TYPE&gt;<span class="html1-comment">/* Type: - &quot;primary&quot;  für Kernprozesse eines Hauptprogramms - &quot;security&quot; für sicherheitsrelevante Funktionen, wie das Prüfen von Passwörtern - &quot;config&quot;   für Funktionen zum Editieren von Konfigurationsdateien - &quot;write&quot;    für Schreibzugriffe auf dem Dateisystem oder einer Datenbank - &quot;read&quot;     für Lesezugriffe auf dem Dateisystem oder einer Datenbank - &quot;default&quot;  ist gedacht für Entwickler, die sich unschlüssig sind, wo die Aktion einzuordnen ist*/</span>		&lt;MODE&gt;0|1&lt;/MODE&gt;<span class="html1-comment">/* Mode: - 0 (default) normaler Betriebsmodus - 1           Aktion im Default-Konfiguration (&quot;abgesicherter Modus&quot;) starten               (für sicherheitskritische Aufgaben)*/</span>		&lt;TEMPLATE&gt;<b>Id des Templates</b> (z.Bsp. INDEX)&lt;/TEMPLATE&gt;		&lt;INSERT&gt;<b>Id des Templates</b> (z.Bsp. MY_TEMPLATE)&lt;/INSERT&gt;<span class="html1-comment">/* Templates: Namen von Templates für die Ausgabe - das unter &quot;INSERT&quot; angegebene Datei wird in die &quot;TEMPLATE&quot;-Datei eingebettet - &quot;TEMPLATE&quot; bildet also einen statischen &quot;Rahmen&quot; um den Inhalt, Defaultwert ist &quot;INDEX&quot; - Der Name des Templates entspricht dem Namen, der in der Skindatei festgelegt wurde.   Zum Vergleich öffnen Sie bspw. die Datei skins/default/default.config . - Das spezielle Template &quot;NULL&quot; unterbindet dass eine Ausgabe erzeugt wird   (sehr praktisch wenn die Ausgabe keine HTML-Datei sondern bspw. eine PNG-Grafik werden soll) - Das spezielle Template &quot;MESSAGE&quot; erzeugt eine Textmeldung.*/</span>		&lt;PERMISSION&gt;1&lt;/PERMISSION&gt;<span class="html1-comment">/* Permission: Gibt an, welche Zugriffsrechte für einen Nutzer mindestens erforderlich sind, um die Aktion aufrufen zu können. Der Wert liegt zwischen 0 und 100, wobei der Wert 0 = &quot;keine Beschränkung&quot; bedeutet. Sie können eine Funktion temporär deaktivieren, indem Sie die Permission auf -1 setzen. In diesem Fall kann niemand die Aktion aufrufen.*/</span>		&lt;ONSUCCESS&gt;			&lt;TEXT&gt;<b>Name der Textmeldung</b>&lt;/TEXT&gt;			&lt;GOTO&gt;<b>Name der Aktion</b>&lt;/GOTO&gt;		&lt;/ONSUCCESS&gt;		&lt;ONERROR&gt;			&lt;TEXT&gt;<b>Name der Textmeldung</b>&lt;/TEXT&gt;			&lt;GOTO&gt;<b>Name der Aktion</b>&lt;/GOTO&gt;		&lt;/ONERROR&gt;<span class="html1-comment">/* OnSuccess / OnError: Sie können eine Aktion angeben, auf welche automatisch weitergeleitet werden soll, wenn die Aktion erfolgreich war beziehungsweise, wenn ein Fehler aufgetreten ist. Zusätzlich können Sie eine Textmeldung angeben, welche angezeigt werden soll. Eine Liste der Textmeldungen finden Sie in der Datei &quot;languages/de/message.config&quot;.*/</span>	&lt;/<b>name der aktion</b>&gt;/* ein Beispiel */        &lt;foo&gt;		&lt;TYPE&gt;write&lt;/TYPE&gt;		&lt;MODE&gt;0&lt;/MODE&gt;		&lt;TEMPLATE&gt;MESSAGE&lt;/TEMPLATE&gt;		&lt;PERMISSION&gt;75&lt;/PERMISSION&gt;		&lt;ONSUCCESS&gt;			&lt;GOTO&gt;foo_read&lt;/GOTO&gt;		&lt;/ONSUCCESS&gt;		&lt;ONERROR&gt;			&lt;GOTO&gt;foo_edit&lt;/GOTO&gt;		&lt;/ONERROR&gt;        &lt;foo&gt;&lt;/INTERFACE&gt;<b>in der Plugin-Klasse plugins/foo/plugin.php:</b>&lt;?phpclass plugin_foo extends plugin{    /* ... */    function foo($ARGS)    {        /* Quelltext der Aktion &quot;foo&quot; */        if ($test) {            return true; /* true = SUCCESS -&gt; gehe zu Aktion &quot;foo_read&quot; */        } else {            return false; /* false = ERROR -&gt; gehe zu Aktion &quot;foo_edit&quot; */        }    }    function foo_edit($ARGS)    {        /* Quelltext der Aktion &quot;foo_edit&quot; */    }    function foo_read($ARGS)    {        /* Quelltext der Aktion &quot;foo_read&quot; */    }}?&gt;</pre><h4> Wie erstelle ich neue Aktionen?</h4><p> Zuerst sollten Sie mit Hilfe des SDK ein Grundgerüst für Ihrneues Plugin generieren lassen. Dies macht das Anpassen des Quellcodesdeutlich einfacher. </p><p> Für das Erstellen einer neuen Aktion sind zwei Dingeerforderlich. Einerseits das Schreiben des Quellcodes und andererseitsdie Registrierung dieser neuen Aktion im Framework selbst durchPublizieren der Schnittstelle. Dadurch wird es überhaupt erst möglich,die Aktion aufzufinden und zu benutzen. </p><p> Im Folgenden ein Beispiel: Alle öffentlichen Funktionen derKlasse stellen eine Funktion bereit, die ebenso heißt, wie die Funktionselbst. Also: um eine Aktion "foo" zu erzeugen, erstellen Sie eineFunktion "foo()". Diese rufen Sie in der URL auf über:"index.php?action=foo". </p><p> Achten Sie im Folgenden Beispiel auf die "Hot-Spots". Diesemarkieren Stellen im Skelett der Anwendung, welche mit eigenem Codebefüllt werden können. </p><pre class="codeexample">&lt;?phpclass plugin_beispiel extends plugin{    function plugin_beispiel($plugin_name)    {        settype($plugin_name,&quot;string&quot;);        global $YANA;        $this-&gt;plugin_name = $plugin_name;    }    /**     * Default event handler     *     * @param  string $event name of the called event in lower-case     * @param  array  $ARGS  array of params passed to the function     * @return boolean     */    function _default($event, $ARGS)    {        settype($event, &quot;string&quot;);        settype($ARGS, &quot;array&quot;);        # HOT-SPOT &lt;&lt; hier können Sie Aktionen definieren        # zum Beispiel mit einer Switch-Anweisung:        switch ($event)        {            case 'my_action1':                # HOT-SPOT &lt;&lt; Code für Aktion 'my_action1'            break;            case 'my_action2':                # HOT-SPOT &lt;&lt; Code für Aktion 'my_action2'            break;        }        return true;    }    /**     * Type: read     * Permission: 0     * Templates: index entries     *     * @param array $ARGS array of params passed to the function     * @return boolean     */    function guestbook_read_entries ($ARGS)    {        # HOT-SPOT &lt;&lt; Code für Aktion 'guestbook_read_entries'    }/* { ... } */    /**     * Type: write     * Permission: 100     * Templates: MESSAGE     *     * @param array $ARGS array of params passed to the function     * @return boolean     */    function guestbook_write_write ($ARGS)    {        # HOT-SPOT &lt;&lt; Code für Aktion 'guestbook_write_write'        $YANA-&gt;message(&quot;OK&quot;, &quot;200&quot;);    }    function my_action ($ARGS)    {        # HOT-SPOT &lt;&lt; Code für Aktion 'my_action'    }}?&gt;</pre><p> Die &quot;Hot-Spots&quot;, an welchen der Entwickler eigenen Quellcodeschreiben oder ergänzen kann, sind in diesem kurzen Beispielentsprechend hervorgehoben. Die Funktion &quot;my_action&quot; solldemonstrieren, wie man nachträglich eigene Aktionen zur Schnittstelleder Klasse und damit zum Plugin hinzufügen kann. Beachten Sie dieFunktion &quot;_default&quot;. Diese wird von der Basisklasse &quot;plugin&quot; geerbt undfungiert als &quot;Default event handler&quot;, welcher alle Ereignisse abfängt,die an das Plugin gesendet werden, aber über die Schnittstelle derKlasse nicht implementiert sind. Außerdem fängt diese Funktion Exotenab, wie beispielsweise Ereignisse welche ungünstigerweise ebensobenannt sind wie der Konstruktor der Klasse selbst, oder solche, welchevon der Basisklasse &quot;plugin&quot; geerbt wurden und somit nicht zur vomNutzer definierten Schnittstelle der Klasse gehören können. Diesbetrifft aus Sicherheitsgründen auch solche, welche in der abgeleitetenKlasse reimplementiert werden. Der Grund hierfür ist, dass dieseMethoden öffentlich sind. Sie sind somit Teil einer gemeinsamenSchnittstelle aller von der Klasse &quot;plugin&quot; abgeleiteten Klassen. IhreFunktionalität wird folglich gewissermaßen durch die Implementierungder Basisklasse vorgegeben und zugesichert. Sie sollte auch in denabgeleiteten Klassen erhalten bleiben. </p><p> Um eine Funktion zu erzeugen, die nicht in der öffentlichenSchnittstelle auftauchen soll, kennzeichnen sie diese Funktion als "private". </p><p> <img alt="Liste neu Laden" src="data/screen17.png" /></p><p> <b>Bitte beachten:</b> damit die neuenFunktionen verfügbar werden, müssen Sie den Plugin-Cache erneuern. Dazuloggen Sie sich als Administrator ein und klicken imAdministrationsmenü auf "Liste neu laden". </p><h4> Wie erstelle ich ein Setup-Menü?</h4><p> Die "Setup-Menüs" finden Sie im Administrationsmenü in derSpalte "Optionen" (links), wie in folgender Abbildung. </p><p> <img alt="Liste neu Laden" src="data/screen24.png" /></p><p> Um den Menüeintrag und das dazu passende Setup zu erzeugen,genügt ein Eintrag in der Konfigurationsdatei des Plugins und einHTML-Template. Es ist dazu nicht erforderlich PHP-Code zu schreiben.Betrachte Sie folgendes Beispiel der Konfigurationsdatei eines Plugins:</p><pre class="codeexample"><span class="html1-comment"><b>Datei &quot;plugins/beispiel.config&quot;</b></span>&lt;INFO&gt;<span class="html1-comment">	/* Zuerst die obligatorischen Angaben - diese haben mit dem	 * Setup-Menü noch nichts zu tun.	 */</span>	&lt;ID&gt;foo&lt;/ID&gt;	&lt;NAME&gt;Foo plugin&lt;/NAME&gt;	&lt;AUTHOR&gt;Thomas Meyer&lt;/AUTHOR&gt;	&lt;DESCRIPTION&gt;mein Beispiel-Plugin&lt;/DESCRIPTION&gt;	&lt;LOGO&gt;%PLUGINDIR%foo/preview.jpg&lt;/LOGO&gt;	&lt;IMAGE&gt;%PLUGINDIR%foo/icon.png&lt;/IMAGE&gt;	&lt;TYPE&gt;primary&lt;/TYPE&gt;<span class="html1-comment">	/* Hier folgen die Einträge für das Setup-Menü */</span>	&lt;SETUP&gt;<span class="html1-comment">		/* Der folgende Code erzeugt einen Eintrag mit		 * der Beschriftung &quot;Foo Options&quot; und dem Icon		 * &quot;plugins/foo/setup1.gif&quot;. Bei Klick auf die		 * Schaltfläche &quot;Setup&quot; wird die Aktion		 * &quot;foo_setup_1&quot; ausgelöst.		 */</span>		&lt;0&gt;			&lt;ACTION&gt;foo_setup_1&lt;/ACTION&gt;			&lt;TITLE&gt;Foo Options&lt;/TITLE&gt;		&lt;/0&gt;<span class="html1-comment">		/* Ein zweites Beispiel: */</span>		&lt;1&gt;			&lt;ACTION&gt;foo_setup_2&lt;/ACTION&gt;			&lt;TITLE&gt;Bar Options&lt;/TITLE&gt;		&lt;/1&gt;	&lt;/SETUP&gt;&lt;/INFO&gt;&lt;INTERFACE&gt;<span class="html1-comment">	/* Den Aktionen &quot;foo_setup_1&quot; und &quot;foo_setup_2&quot;	 * wird nun noch ein Template zugeordnet	 */</span>	&lt;foo_setup_1&gt;<span class="html1-comment">		/* TYPE=config definiert, dass es ein Setup-Menü ist */</span>		&lt;TYPE&gt;config&lt;/TYPE&gt;<span class="html1-comment">		/* PERMISSION=100 beschränkt den Zugriff auf Nutzer		 * mit der Sicherheitsstufe 100 - das sind Administratoren.		 */</span>		&lt;PERMISSION&gt;100&lt;/PERMISSION&gt;<span class="html1-comment">		/* foo_template_1 ist der Name des Templates */</span>		&lt;INSERT&gt;foo_template_1&lt;/INSERT&gt;	&lt;/foo_setup_1&gt;	&lt;foo_setup_2&gt;		&lt;TYPE&gt;config&lt;/TYPE&gt;		&lt;PERMISSION&gt;75&lt;/PERMISSION&gt;		&lt;INSERT&gt;foo_template_2&lt;/INSERT&gt;	&lt;/foo_setup_2&gt;<span class="html1-comment">	/* ... hier folgen noch eventuell andere Aktionen ... */</span>&lt;/INTERFACE&gt;</pre><p>Nun benötigen Sie noch eine HTML-Seite mit einem Formular, wiein folgendem Beispiel:</p><pre class="codeexample"><b>Datei &quot;skins/default/beispiel.html&quot;</b><code><span style="font: 10pt Courier New;"><span class="html1-comment">&lt;!-- Den Kopf der Datei sollten Sie einfach &uuml;bernehmen. Hier gibt es nichts     zu editieren. Copy'n'Paste reicht v&ouml;llig aus. --&gt;&lt;!-- BEGINN: Kopf --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">form</span><span class="html1-space"> </span><span class="html1-identifier">method</span><span class="html1-symbol">=</span><span class="html1-value">&quot;POST&quot;</span><span class="html1-space"> </span><span class="html1-identifier">enctype</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multipart/form-data&quot;</span><span class="html1-space"> </span><span class="html1-identifier">action</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PHP_SELF%]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">[%if !$ID%][%if $PERMISSION==100%]	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;action&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;set_config_profile&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">[%/if%][%else%]	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;action&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;set_config_profile&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">[%/if%]	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$SESSION_NAME%]&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$SESSION_ID%]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hidden&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;id&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$ID%]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-comment">&lt;!-- ENDE: Kopf --&gt;&lt;!-- Nun folgt der variable Teil, den Sie selbst ausf&uuml;llen k&ouml;nnen --&gt;</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- eine &Uuml;berschrift macht sich gut: --&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h1</span><span class="html1-symbol">&gt;</span><span class="html1-text">Setup</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h1</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- eine Liste mit Optionen --&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 1	</span><span class="html1-comment">&lt;!-- $PROFILE.OPT1 ist der gespeicherte Wert f&uuml;r dieses Feld -	     sofern bereits einmal ein Wert gespeichert wurde.	     Der Modifier |entities sorgt daf&uuml;r, Tag-Klammern und	     Anf&uuml;hrungszeichen in HTML-Entit&auml;ten umgewandelt werden, damit	     keine HTML-Syntaxfehler entstehen k&ouml;nnen.	 --&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;opt1&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.OPT1|entities]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 2	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;path.opt2&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.PATH.OPT2|entities]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">label</span><span class="html1-symbol">&gt;</span><span class="html1-text">Option 3	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;opt3&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$PROFILE.OPT3|entities]&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/label</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">br</span><span class="html1-symbol">&gt;</span><span class="html1-space">	</span><span class="html1-comment">&lt;!-- die Schaltfl&auml;che zu Abschicken nicht vergessen --&gt;</span><span class="html1-space">	</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;submit&quot;</span><span class="html1-space"> </span><span class="html1-identifier">value</span><span class="html1-symbol">=</span><span class="html1-value">&quot;[%$LANGUAGE.SPEICHERN%]&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/form</span><span class="html1-symbol">&gt;</span></span></code></pre><p> Diese HTML-Seite bewirkt, dass nach dem Abschicken desFormulars folgendes Array gespeichert wird: </p><pre class="codeexample">&lt;?php$PROFILE = array(    'opt1' =&gt; &quot;foo&quot;,    'path' =&gt; array(        'opt2' =&gt; &quot;bar&quot;    ),    'opt3' =&gt; &quot;foobar&quot;);?&gt;</pre><p> Sie können in Ihrem Plugin wie folgt auf die gespeichertenOptionen zugreifen: </p><pre class="codeexample">&lt;?phpglobal $YANA;$opt1 = $YANA-&gt;getVar('PROFILE.OPT1');$path_opt2 = $YANA-&gt;getVar('PROFILE.PATH.OPT2');$opt3 = $YANA-&gt;getVar('PROFILE.OPT3');?&gt;</pre><p> Damit das Formular "beispiel.html" bei Klick auf dieSchaltfläche "Setup" auch angezeigt wird, muss es mit der Aktion"foo_setup_1" verknüpft werden. Dies geht wie folgt: </p><pre class="codeexample"><b>Datei &quot;skins/default/beispiel.config&quot;</b><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;!--</span><span class="xml1-comment"> Hier wird zun&auml;chst das Template unter dem Namen &quot;foo_template_1&quot; definiert ... </span><span class="xml1-symbol">--&gt;&lt;</span><span class="xml1-elementname">foo_template_1</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">FILE</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">beispiel.html</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">FILE</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">foo_template_1</span><span class="xml1-symbol">&gt;</span><b>Datei &quot;plugins/beispiel.config&quot;</b>...<span class="xml1-symbol">&lt;</span><span class="xml1-elementname">INTERFACE</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">foo_setup_1</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">TYPE</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">config</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">TYPE</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">PERMISSION</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">100</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">PERMISSION</span><span class="xml1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="xml1-whitespace">	</span></span><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;!--</span><span class="xml1-comment"> ... und hier wird das Template &quot;foo_template_1&quot; der Aktion &quot;foo_setup_1&quot; zugeordnet. </span><span class="xml1-symbol">--&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">INSERT</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">foo_template_1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">INSERT</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">foo_setup_1</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">...</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">INTERFACE</span><span class="xml1-symbol">&gt;</span></span></code></pre><h3> Grafiken und Fotos</h3><h4> Wie lade ich eine Grafik aus einer Datei?</h4><pre class="codeexample">&lt;?php$image = new Image('dateiname');// zum Beispiel:$image = new Image('ordner/datei.png');?&gt;</pre><h4> Wie lade ich eine Grafik aus einem String?</h4><pre class="codeexample">&lt;?php$content = file_get_contents('ordner/datei.png');$image = new Image($content, 'png');?&gt;</pre><h4> Wie erzeuge ich eine neue (leere) Grafik?</h4><pre class="codeexample">&lt;?php$image = new Image();$width = 640;$height = 480;$image-&gt;resize($width, $height);?&gt;</pre><h4> Wie erzeuge ich ein Thumbnail?</h4><pre class="codeexample">&lt;?php$image = new Image('ordner/datei.png');$width = 50;// wenn die Höhe ($height) nicht angegeben wird,// dann wird die Grafik proportional verkleinert$image-&gt;resize($width);$image-&gt;outputToFile('ordner/thumbnail.png');?&gt;</pre><h4> &nbsp;Wie erstelle ich ein Upload-Formular für Bilder?</h4><div class="codeexample">HTML-Code:<pre><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">form</span><span class="html1-space"> </span><span class="html1-identifier">method</span><span class="html1-symbol">=</span><span class="html1-value">&quot;POST&quot;</span><span class="html1-space"> </span><span class="html1-identifier">action</span><span class="html1-symbol">=</span><span class="html1-value">&quot;%PHP_SELF%&quot;</span><span class="html1-space"> </span><span class="html1-identifier">enctype</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multipart/form-data&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text"> (...)Upload image: </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">input</span><span class="html1-space"> </span><span class="html1-identifier">type</span><span class="html1-symbol">=</span><span class="html1-value">&quot;file&quot;</span><span class="html1-space"> </span><span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;my_image&quot;</span><span class="html1-space"> </span><span class="html1-identifier">/</span><span class="html1-symbol">&gt;</span><span class="html1-text"> (...)</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/form</span><span class="html1-symbol">&gt;</span></span></code></pre></div><div class="codeexample">PHP-Code:<pre>&lt;?php// get data from form field 'my_image'$id = 'my_image';// output to directory 'foo/bar/' using filename 'image'// (extension will be determined automatically)$file = 'foo/bar/image';// output as png image$type = 'png';// limit upload to 150 kbyte$size = 150000;// resize to 150px x 200px$width = 150;$height = 200;// leave aspect-ratio untouched$ratio = true;// set background color to gray$color = array(80, 80, 80);// call method$result = Image::uploadFile($id, $file, $type, $size, $width, $height, $ratio, $color);// check for errorsif (is_string($result)) {    print "The image was successfully uploaded to '$result'";// error handling} else {    switch ($result)    {        case UPLOAD_ERR_SIZE:        case UPLOAD_ERR_INI_SIZE:        case UPLOAD_ERR_FORM_SIZE:            die('File too big!');        break;        case UPLOAD_ERR_NO_FILE:            die('No file has been uploaded!');        break;        case UPLOAD_ERR_INVALID_TARGET:            die("Unable to write to file: '$file'");        break;        case UPLOAD_ERR_FILE_TYPE:            die('The file is not a recognized image!');        break;        default:            die('Some unexpected error occured!');        break;    }}?&gt;</pre></div><h4> Wie zeichne ich Linien, geometrische Flächen und Text?</h4><div class="codeexample"><pre>&lt;?php// erzeuge leeres Bild$image = new Image();$width = 180;$height = 120;$image-&gt;resize($width, $height);// setze die Linienbreite auf 3px (optional)$image-&gt;setLineWidth(3);// die Leinwand mit einer Hintergrundfarbe füllen$x = 0;$y = 0;$image-&gt;fill($image-&gt;white, $x, $y);// Zeichne eine Linie$x1 = 10;$y1 = 10;$x2 = 100;$y2 = 30;$image-&gt;drawLine($x1, $y1, $x2, $y2, $image-&gt;black);// Zeichne einen Kreis$x = 30;$y = 50;$width = 50;$image-&gt;drawEllipse($x, $y, $width);// Zeichne ein Rechteck$x = 10;$y = 60;$width = 100;$height = 50;$rahmenFarbe = $image-&gt;black;$fuellFarbe = $image-&gt;navy;$image-&gt;drawRectangle($y, $y, $width, $height, $rahmenFarbe, $fuellFarbe);// Zeichne ein Dreieck (oder anderes Polygon)$points = array(0 =&gt; array( 20, 0 ),1 =&gt; array( 40, 20 ),2 =&gt; array( 0, 20 ));$x = 50;$y = 80;$rahmenFarbe = $image-&gt;black;$fuellFarbe = $image-&gt;yellow;$image-&gt;drawPolygon($points, $x, $y, $rahmenFarbe , $fuellFarbe);// Schreibe einen Text$text = 'Hallo Welt!';$x = 70;$y = 40;$textFarbe= $image-&gt;black;$image-&gt;drawString($text, $x, $y, $textFarbe);// Verwenden von Pinseln// neuen Pinsel erzeugen$brush = new Brush('small star');// setze Größe des Pinsels auf 10px$brush-&gt;setSize(10);// setze die Farbe des Pinsels auf rot$brush-&gt;setColor(255, 0, 0);// den Pinsel auswählen$image-&gt;setBrush($brush);// zeichne einen Punkt und benutze dabei den Pinsel$x = 150;$y = 100;$image-&gt;drawPoint($x, $y, IMG_COLOR_BRUSHED);// Ausgabe der Grafik an den Browser$image-&gt;outputToScreen('png');exit;?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_1.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p></div><h5>Details zur Verwendung von Farben</h5><p> Wenn Sie mit Grafiken arbeiten, dann brauchen Sie Farben, umLinien, Texte oder Flächen zu zeichnen. </p><p> Es gibt 17 vordefinierte Farben. Diese lauten: </p><ol><li>$image-&gt;aqua</li><li>$image-&gt;black</li><li>$image-&gt;blue</li><li>$image-&gt;fuchsia</li><li>$image-&gt;gray</li><li>$image-&gt;green</li><li>$image-&gt;grey (Alias von $image-&gt;gray)</li><li>$image-&gt;lime</li><li>$image-&gt;maroon</li><li>$image-&gt;navy</li><li>$image-&gt;olive</li><li>$image-&gt;purple</li><li>$image-&gt;red</li><li>$image-&gt;silver</li><li>$image-&gt;teal</li><li>$image-&gt;white</li><li>$image-&gt;yellow</li></ol><p> Weitere Farben können Sie erhalten durch Aufruf von: $color =$image-&gt;getColor($rot, $gruen, $blau); Dabei dürfen $rot, $gruenund $blau ganze Zahlen zwischen 0 und 255 sein. </p><p> Es ist wichtig, dass Sie verstehen, dass eine Farbe keinObjekt ist, dass für sich selbst existiert, sondern eine spezifischeEigenschaft einer Grafik. Das kommt daher, dass jede Grafik eine eigeneFarbpalette besitzt und jede Farbe ein Teil (mathematisch gesprochenein "Element") dieser Palette ist. </p><p> Die Palette des Bildes ist eine indexierte Menge aller in derGrafik enthaltenen Farben. Eine Farbe wird dabei dargestellt als ganzeZahl. Genauer: es handelt sich um Indexnummer der Farbe innerhalb derFarbpalette des Bildes. Das heißt, die Zahl 1 bezeichnet beispielsweisedie Farbe, welche in der Farbpalette der Grafik die Positionsnummer 1hat. Diese Farbe könnte am Bildschirm zum Beispiel "rot" aussehen.Beachten Sie jedoch, dass diese Zuordnung abhängig ist von derFarbpalette und somit vom gerade angezeigten Bild. </p><h4> Welche Grafikfilter und -effekte kann ich verwenden?</h4><p> Hier eine Liste interessanter Methoden der Klasse Image undwas diese bewirken: </p><div class="codeexample"><pre>&lt;?php$image = new Image('foo.png');/* Helligkeit einstellen * * Zahl zwischen -1.0 und +1.0 (-100% und +100%) */$ammount = 0.5; /* 0.5 = +50% */$image-&gt;brightness($ammount);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_2.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Kontrast einstellen * * Zahl zwischen -1.0 und +1.0 (-100% und +100%) */$ammount = 0.5; /* 0.5 = +50% */$image-&gt;contrast($ammount);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_3.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Unscharfmaske anwenden * * Zahl zwischen 0.0 und +1.0 (0% und +100%) */$ammount = 0.8; /* 0.8 = 80% */$image-&gt;blur($ammount);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_4.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Bildschärfe erhöhen * * Zahl zwischen 0.0 und +1.0 (0% und +100%) */$ammount = 0.8; /* 0.8 = 80% */$image-&gt;sharpen($ammount);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_5.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* in Graustufen umwandeln */$image-&gt;toGrayscale();?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_6.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Einfärben (Kolorieren) * * $rot, $gruen, $blau = Zahlen zwischen -255 und 255 * * Der Farbwert wird zur Farbe der Grafik addiert */$rot = -80;$gruen = -40;$blau = 120;$image-&gt;colorize($rot, $gruen, $blau);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_7.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Multiplizieren * * $rot, $gruen, $blau = Zahlen zwischen 0 und 255 * * Der Farbwert wird mit der Farbe der Grafik multipliziert */$rot = 100;$gruen = 255;$blau = 50;/* dieses Beispiel reduziert den Rot- und Blaukanal */$image-&gt;multiply($rot, $gruen, $blau);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_8.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Monochromatischer Filter * * $rot, $gruen, $blau = Zahlen zwischen 0 und 255 * * Färbt die Grafik mit der angegeben Farbe ein. */$rot = 130;$gruen = 180;$blau = 200;$image-&gt;monochromatic($rot, $gruen, $blau);?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_9.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p><pre>&lt;?php/* Farbwerte umkehren (Negativeffekt) */$image-&gt;negate();?&gt;</pre><p class="kommentar"> <img src="data/abb_tutorial_10.png" alt="Abbildung" /> <br />Abbildung: Ausgabe des Skripts </p></div><p> Details und Beispiele zu weiteren Funktionen finden Sie inder <a href="api_documentation/index.html">API-Dokumentation</a>.</p><h3> Erzeugen mehrspaltiger Layouts</h3><h4> Allgemeines zum Verständnis</h4><p> Das Yana Framework verfügt über vordefiniertes CSS zumErzeugen von Texten oder Seiten mit 2, 3 oder mehr vertikalen Spalten.Dazu ist keine Programmierung Ihrerseits erforderlich. Dererforderliche CSS-Code wird im "Default"-Skin automatisch geladen. </p><p> Im Folgenden folgen einige Beispiele zur Demonstration </p><h4> Wie erzeuge ich 2 Spalten?</h4><p> <b>Quellcode des Templates:</b> </p><pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">        Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet        commodo, ipsum ligula lacinia orci, non venenatis metus ligula        sit amet turpis. Nunc accumsan tempor nulla. Vivamus eleifend,        lectus eu feugiat consequat, mi lacus vestibulum velit, eu        egestas purus nunc ac est. Mauris massa lorem, lacinia non,        condimentum vel, cursus ac, lectus. Nulla tempor molestie quam.        Aenean dapibus nisl nonummy quam. Mauris pellentesque ornare        ante. Integer a urna ultricies neque bibendum dignissim.        Suspendisse interdum nisl. In rhoncus. Vivamus risus mi, semper        id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.        In vitae augue.    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">        Aliquam auctor viverra ligula. Ut nisi felis, condimentum at,        aliquam eget, tempus id, nisi. Maecenas a libero. Nulla metus        mi, malesuada sit amet, sagittis bibendum, scelerisque a, purus.        Nunc ipsum. Sed vel augue pellentesque ligula pharetra pulvinar.        Class aptent taciti sociosqu ad litora torquent per conubia        nostra, per inceptos hymenaeos. Nam orci. Donec neque pede,        iaculis in, pellentesque ac, commodo eget, libero. Sed vel        magna.    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre><div class="multicol2"><div class="col_left"><div class="h2"> Spalte 1 </div>Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdietcommodo, ipsum ligula lacinia orci, non venenatis metus ligula sit ametturpis. Nunc accumsan tempor nulla. Vivamus eleifend, lectus eu feugiatconsequat, mi lacus vestibulum velit, eu egestas purus nunc ac est.Mauris massa lorem, lacinia non, condimentum vel, cursus ac, lectus.Nulla tempor molestie quam. Aenean dapibus nisl nonummy quam. Maurispellentesque ornare ante. Integer a urna ultricies neque bibendumdignissim. Suspendisse interdum nisl. In rhoncus. Vivamus risus mi,semper id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.In vitae augue. </div><div class="col_right"><div class="h2"> Spalte 2 </div>Aliquam auctor viverra ligula. Ut nisi felis, condimentum at, aliquameget, tempus id, nisi. Maecenas a libero. Nulla metus mi, malesuada sitamet, sagittis bibendum, scelerisque a, purus. Nunc ipsum. Sed velaugue pellentesque ligula pharetra pulvinar. Class aptent tacitisociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos.Nam orci. Donec neque pede, iaculis in, pellentesque ac, commodo eget,libero. Sed vel magna. </div><div class="col_foot"> &nbsp; </div></div><h4> Wie erzeuge ich 3 Spalten?</h4><p> <b>Quellcode des Templates:</b> </p><pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol3&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">        Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdiet        commodo, ipsum ligula lacinia orci, non venenatis metus ligula        sit amet turpis. Nunc accumsan tempor nulla. Vivamus eleifend,        lectus eu feugiat consequat, mi lacus vestibulum velit, eu        egestas purus nunc ac est. Mauris massa lorem, lacinia non,        condimentum vel, cursus ac, lectus. Nulla tempor molestie quam.        Aenean dapibus nisl nonummy quam. Mauris pellentesque ornare        ante. Integer a urna ultricies neque bibendum dignissim.        Suspendisse interdum nisl. In rhoncus. Vivamus risus mi, semper        id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.        In vitae augue.    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_center&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">        Aliquam auctor viverra ligula. Ut nisi felis, condimentum at,        aliquam eget, tempus id, nisi. Maecenas a libero. Nulla metus        mi, malesuada sit amet, sagittis bibendum, scelerisque a, purus.        Nunc ipsum. Sed vel augue pellentesque ligula pharetra pulvinar.        Class aptent taciti sociosqu ad litora torquent per conubia        nostra, per inceptos hymenaeos. Nam orci. Donec neque pede,        iaculis in, pellentesque ac, commodo eget, libero. Sed vel        magna.    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">        Morbi eget dolor. Etiam ut velit sollicitudin massa laoreet        lobortis. Ut vel sem id enim ornare ultrices. Morbi justo        tortor, blandit sed, euismod at, eleifend nec, tortor. Lorem        ipsum dolor sit amet, consectetuer adipiscing elit. Etiam eget        enim. Maecenas vel nisl dapibus metus venenatis volutpat.        Integer ipsum ante, porta eu, porta vel, euismod in, magna.        Fusce dolor quam, lacinia eget, rutrum at, lacinia pulvinar,        risus. Nulla imperdiet, lorem facilisis lacinia suscipit, diam        mi aliquet dui, at fringilla lectus mauris sit amet ipsum.        Morbi eget sem quis est congue pulvinar. Vivamus fermentum        dolor nec nisi convallis posuere. Aliquam eu diam. Ut suscipit,        nisi quis vehicula ullamcorper, lectus lorem fermentum tellus,        ut egestas arcu sapien aliquam massa.    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre><div class="multicol3"><div class="col_left"><div class="h2"> Spalte 1 </div>Nulla ultrices lacinia mi. Nulla dapibus, risus vitae imperdietcommodo, ipsum ligula lacinia orci, non venenatis metus ligula sit ametturpis. Nunc accumsan tempor nulla. Vivamus eleifend, lectus eu feugiatconsequat, mi lacus vestibulum velit, eu egestas purus nunc ac est.Mauris massa lorem, lacinia non, condimentum vel, cursus ac, lectus.Nulla tempor molestie quam. Aenean dapibus nisl nonummy quam. Maurispellentesque ornare ante. Integer a urna ultricies neque bibendumdignissim. Suspendisse interdum nisl. In rhoncus. Vivamus risus mi,semper id, lobortis et, auctor in, nulla. Sed placerat posuere tortor.In vitae augue. </div><div class="col_center"><div class="h2"> Spalte 2 </div>Aliquam auctor viverra ligula. Ut nisi felis, condimentum at, aliquameget, tempus id, nisi. Maecenas a libero. Nulla metus mi, malesuada sitamet, sagittis bibendum, scelerisque a, purus. Nunc ipsum. Sed velaugue pellentesque ligula pharetra pulvinar. Class aptent tacitisociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos.Nam orci. Donec neque pede, iaculis in, pellentesque ac, commodo eget,libero. Sed vel magna. </div><div class="col_right"><div class="h2"> Spalte 3 </div>Morbi eget dolor. Etiam ut velit sollicitudin massa laoreet lobortis.Ut vel sem id enim ornare ultrices. Morbi justo tortor, blandit sed,euismod at, eleifend nec, tortor. Lorem ipsum dolor sit amet,consectetuer adipiscing elit. Etiam eget enim. Maecenas vel nisldapibus metus venenatis volutpat. Integer ipsum ante, porta eu, portavel, euismod in, magna. Fusce dolor quam, lacinia eget, rutrum at,lacinia pulvinar, risus. Nulla imperdiet, lorem facilisis laciniasuscipit, diam mi aliquet dui, at fringilla lectus mauris sit ametipsum. Morbi eget sem quis est congue pulvinar. Vivamus fermentum dolornec nisi convallis posuere. Aliquam eu diam. Ut suscipit, nisi quisvehicula ullamcorper, lectus lorem fermentum tellus, ut egestas arcusapien aliquam massa. </div><div class="col_foot"> &nbsp; </div></div><h4> Wie erzeuge ich 4 und mehr Spalten?</h4><p> Es ist möglich mehrspaltige Layouts ineinander zu schachteln.Das folgende Beispiel demonstriert, wie zwei 2-spaltige Layoutsineinander verschachtelt werden, um ein 4-spaltiges Layout zu erzeugen.</p><p> <b>Quellcode des Templates:</b> </p><pre class="codeexample"><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">                Vestibulum tempor commodo mi. Integer sed nisi. Donec                nulla elit, commodo porttitor, semper eget, sagittis                viverra, urna. Duis pretium dui facilisis turpis.                Mauris vel arcu. Donec ut lorem vel lorem aliquet                commodo. Donec sollicitudin mattis lacus. Ut non magna                sit amet tortor viverra sagittis. Ut venenatis.                Vestibulum sodales sapien scelerisque erat. Integer                accumsan orci et tortor vulputate mollis. Curabitur                lacinia quam id libero. Nulla eu lorem eget mi mattis                tempus. Suspendisse consectetuer. Vivamus at risus.                Aenean malesuada.            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">                Morbi id nisi. Proin fringilla eleifend mi. Nunc eget                elit. Nam ligula nibh, euismod blandit, nonummy eu,                porta non, magna. Ut id nisi id metus consectetuer                euismod. Vestibulum ante ipsum primis in faucibus orci                luctus et ultrices posuere cubilia Curae; Mauris                blandit ultrices eros. Fusce in nisl sit amet enim                consequat tristique. Sed facilisis eros convallis magna.                Pellentesque justo. Praesent nec libero at velit                malesuada nonummy. Mauris vitae lectus eget elit                euismod bibendum. Nulla nec ligula. Curabitur metus.                Integer lectus nulla, iaculis molestie, venenatis non,                suscipit commodo, est. Sed pulvinar, justo eu pulvinar                convallis, mi tellus pellentesque elit, eu aliquet                sapien ligula non mauris.            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;multicol2&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_left&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">                Praesent eu risus. Fusce feugiat. Maecenas eget lacus                quis nisi blandit porttitor. Pellentesque sed turpis.                Nulla facilisi. Aenean convallis dolor eget elit. Donec                elementum, pede nec euismod varius, ante diam elementum                lectus, vitae iaculis orci libero quis tortor.                Vestibulum justo est, laoreet eu, consequat sed,                molestie at, mi. Fusce luctus, odio eu imperdiet                viverra, nunc arcu gravida ante, iaculis lacinia tortor                arcu ac felis. Quisque sagittis aliquam nisi. Aliquam                nonummy. Nulla mattis orci vel nunc. Nunc in odio.                Proin mi risus, lobortis ac, mollis vitae, lacinia                vehicula, nulla. Nunc nibh. Morbi laoreet pellentesque                justo. Praesent ultrices.            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_right&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">                </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">Spalte 4</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/h2</span><span class="html1-symbol">&gt;</span><span class="html1-text">                Nullam eget lectus. Aenean non augue auctor erat luctus                fermentum. Quisque aliquam eros vel ligula. Mauris pede                velit, mollis eget, adipiscing non, placerat nec, erat.                Vestibulum vel sem non orci porttitor congue. Cras                pretium eros eget dui. Donec gravida. Sed mattis                tincidunt enim. Donec aliquam, quam eu rhoncus gravida,                nibh nunc egestas nulla, lobortis interdum nisi dui id                nisi. Praesent tristique velit sit amet ante. Nam                malesuada, nisi in laoreet venenatis, dolor pede                vehicula nunc, tempus accumsan ante purus eget sapien.                Praesent aliquam, lorem sit amet volutpat faucibus,                ligula lorem auctor diam, vitae vulputate pede ligula                et leo.            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;col_foot&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span></span></code></pre><div class="multicol2"><div class="col_left"><div class="multicol2"><div class="col_left"><div class="h2"> Spalte 1 </div>Vestibulum tempor commodo mi. Integer sed nisi. Donec nulla elit,commodo porttitor, semper eget, sagittis viverra, urna. Duis pretiumdui facilisis turpis. Mauris vel arcu. Donec ut lorem vel lorem aliquetcommodo. Donec sollicitudin mattis lacus. Ut non magna sit amet tortorviverra sagittis. Ut venenatis. Vestibulum sodales sapien scelerisqueerat. Integer accumsan orci et tortor vulputate mollis. Curabiturlacinia quam id libero. Nulla eu lorem eget mi mattis tempus.Suspendisse consectetuer. Vivamus at risus. Aenean malesuada. </div><div class="col_right"><div class="h2"> Spalte 2 </div>Morbi id nisi. Proin fringilla eleifend mi. Nunc eget elit. Nam ligulanibh, euismod blandit, nonummy eu, porta non, magna. Ut id nisi idmetus consectetuer euismod. Vestibulum ante ipsum primis in faucibusorci luctus et ultrices posuere cubilia Curae; Mauris blandit ultriceseros. Fusce in nisl sit amet enim consequat tristique. Sed facilisiseros convallis magna. Pellentesque justo. Praesent nec libero at velitmalesuada nonummy. Mauris vitae lectus eget elit euismod bibendum.Nulla nec ligula. Curabitur metus. Integer lectus nulla, iaculismolestie, venenatis non, suscipit commodo, est. Sed pulvinar, justo eupulvinar convallis, mi tellus pellentesque elit, eu aliquet sapienligula non mauris. </div></div></div><div class="col_right"><div class="multicol2"><div class="col_left"><div class="h2"> Spalte 3 </div>Praesent eu risus. Fusce feugiat. Maecenas eget lacus quis nisi blanditporttitor. Pellentesque sed turpis. Nulla facilisi. Aenean convallisdolor eget elit. Donec elementum, pede nec euismod varius, ante diamelementum lectus, vitae iaculis orci libero quis tortor. Vestibulumjusto est, laoreet eu, consequat sed, molestie at, mi. Fusce luctus,odio eu imperdiet viverra, nunc arcu gravida ante, iaculis laciniatortor arcu ac felis. Quisque sagittis aliquam nisi. Aliquam nonummy.Nulla mattis orci vel nunc. Nunc in odio. Proin mi risus, lobortis ac,mollis vitae, lacinia vehicula, nulla. Nunc nibh. Morbi laoreetpellentesque justo. Praesent ultrices. </div><div class="col_right"><div class="h2"> Spalte 4 </div>Nullam eget lectus. Aenean non augue auctor erat luctus fermentum.Quisque aliquam eros vel ligula. Mauris pede velit, mollis eget,adipiscing non, placerat nec, erat. Vestibulum vel sem non orciporttitor congue. Cras pretium eros eget dui. Donec gravida. Sed mattistincidunt enim. Donec aliquam, quam eu rhoncus gravida, nibh nuncegestas nulla, lobortis interdum nisi dui id nisi. Praesent tristiquevelit sit amet ante. Nam malesuada, nisi in laoreet venenatis, dolorpede vehicula nunc, tempus accumsan ante purus eget sapien. Praesentaliquam, lorem sit amet volutpat faucibus, ligula lorem auctor diam,vitae vulputate pede ligula et leo. </div></div></div><div class="col_foot"> &nbsp; </div></div><h3> Baummenüs erstellen</h3><h4> Allgemeines zum Verständnis</h4><p> Das&nbsp; Yana Framework bietet Ihnen zum Erstellenaufklappbarer Baummenüs mehrere Lösungen an. Aufwendige Programmierungist dazu nicht erforderlich. </p><p> Folgende Möglichkeiten stehen Ihnen zur Verfügung: </p><ol><li> Sie können diese Menüs im HTML-Code selbst schreiben. DasFramework kümmert sich um die Darstellung. Sie behalten volle Kontrolleüber den Code.</li><li> Sie können den HTML-Code des Menüs automatisch generierenlassen und geben nur die Liste der Einträge an. In diesem Fall müssenSie sich um den Code nicht mehr kümmern, sondern nur um die Inhalte.</li></ol><p> Für beide Varianten haben Sie die Wahl zwischen derzeit zweiverschiedenen Layouts. Dieses Kapitel enthält folglich drei Abschnitte.Zuerst wird Ihnen jeweils für&nbsp; 1. und 2. Layout gezeigt, wieSie den HTML-Quellcode der Menüs von Hand schreiben können.&nbsp;Danach wird Ihnen demonstriert, wie Sie die Template-Funktion"printUnorderedList" verwenden können, um sich diese Menüs automatischgenerieren zu lassen. </p><h4><a name="menu_layout1"></a> Wie erstelleich ein aufklappbares Menü?</h4><p> In diesem Abschnitt wird beschrieben, wie Sie einaufklappbares Menü direkt im HTML erstellen können. Um dieFunktionalität und die Darstellung kümmert sich das Yana Frameworkautomatisch. </p><p> Dies ist der 1. Layoutvorschlag. Er verwendet JavaScript undCSS zur Darstellung des Menüs. Im Anschluss wird ein 2. Layoutvorschlagvorgestellt, welcher alternativ verwendet werden kann undausschließlich CSS verwendet. </p><p> Das Layout wird in der Datei "skins/default/styles/menu.css"festgelegt und kann über folgende CSS-Klassen gesteuert werden: </p><ul><li>"root" - das Wurzelelement</li><li>"menu" - ein Menü / Submenü</li><li>"entry" - ein Menüeintrag</li></ul><p> Die Darstellung des Menüs entspricht den gängigenEmpfehlungen und ist suchmaschinenfreundlich. </p><p> Gehen Sie wie folgt vor: </p><div class="codeexample"><p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_gui_3.png" /> <br />Abbildung: Darstellung des Menüs </p><pre><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu root&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;ziel.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Men&uuml; 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Men&uuml; 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Submen&uuml; 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span></span><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span></span><span style="font: 10pt Courier New;"><span class="html1-symbol"></span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">onclick</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaMenu(this)&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">geschlossen</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu&quot;</span><span class="html1-space"> </span><span class="html1-identifier">style</span><span class="html1-symbol">=</span><span class="html1-value">&quot;display: none;&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">(unsichtbar)</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;&nbsp;&nbsp;    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">&nbsp;  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></span></code></pre></div><p> Das Attribut "onclick" enthält hier den Aufruf zum Öffnen undSchließen des Menüs. "Style"-Attribute legen abweichende Eigenschaftenfest, wobei "display: none" das Menü ausblendet. Menüs sind von einemElement der CSS-Klasse "menu" umschlossen. Menüeinträge sindumschlossen von einem Element der CSS-Klasse "entry". Die Überschrifteines Menüs wird mit "div"-Tags umschlossen, welche auch das Attribut"onclick" erhalten. Durch Anklicken der Überschrift kann das Menügeschlossen oder geöffnet werden. </p><p> Tipp: es ist in der Regel einfacher, zunächst eine einfacheListe mit den Tags "ul", "li" zu erstellen und die CSS-Klassen undJavaScript-Codes nachträglich zu ergänzen, anstatt das Menü Zeile fürZeile zu beschreiben. Dadurch bleibt der Code während der Bearbeitungübersichtlicher. </p><p> Es gilt folgende Voreinstellung: alle Menüs sind zunächstgeöffnet, wenn Sie nicht explizit als geschlossen gekennzeichnet sind.Es können mehrere Menüs gleichzeitig geöffnet sein. </p><p> Falls Sie wünschen, dass stets nur 1 Menü gleichzeitiggeöffnet ist, fügen Sie folgenden Quellcode hinzu: </p><div class="codeexample"> <code> &lt;scripttype="text/javascript"&gt; <br />&nbsp;&nbsp;&nbsp; yana_menu_auto_close = true; <br />&lt;/script&gt; </code> </div><p> Falls Sie wünschen, dass zu Beginn alle Menüs geschlossensind, verwenden Sie folgenden Quellcode: </p><p class="codeexample"> <code> &lt;scripttype="text/javascript"&gt; <br />&nbsp;&nbsp;&nbsp; yanaCloseAll(); <br />&lt;/script&gt; </code> </p><p> Beide Varianten können kombiniert werden. </p><p class="codeexample"> <code> &lt;scripttype="text/javascript"&gt; <br />&nbsp;&nbsp;&nbsp; yana_menu_auto_close = true; <br />&nbsp;&nbsp;&nbsp; yanaCloseAll(); <br />&lt;/script&gt; </code> </p><h4> Wie erstelle ich ein horizontales Menü?</h4><div class="codeexample"><p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_menu_4.png" /> <br />Abbildung: Darstellung des Menüs </p><pre><code><span style="font: 10pt Courier New;"><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;ziel.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-space">  </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      Men&uuml; 1    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-space">  </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      Men&uuml; 2    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;yanaHMenu(this,true)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-space">      </span><span class="html1-value">&quot;yanaHMenu(this,false)&quot;</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;menu_head&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">          Submen&uuml; 2.1        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;hmenu&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;entry&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></span></code></pre></div><p> Das Menü funktioniert vollständig mit CSS und ohneJavaScript. Allerdings wird hier zusätzlich JavaScript verwendet, damitältere Browser und Browser mit unvollständiger CSS-Unterstützung, wiezum Beispiel der Internet Explorer 6.0, die Seite trotzdem wie erwartetdarstellen. </p><p> Jedes Menü ist zunächst geschlossen und wird temporärgeöffnet, wenn der Nutzer mit der Maus darauf zeigt. </p><p> Wenig Unterschiede zum vertikalen Menü gibt es bei denCSS-Klassen. Achten Sie lediglich darauf, dass hier statt der Klasse"menu" die Klasse "hmenu" verwendet wird. </p><h4><a name="menu_layout2"></a>Wie erstelleich ein Baummenü?</h4><p> Dies ist der 2. Layoutvorschlag. Die Menüs öffnen sichautomatisch wenn Sie mit der Maus berührt werden. In Firefox, Opera undCo. funktioniert das Ein- und Ausklappen des Menüs vollständig über CSS(ohne JavaScript). Lediglich im Internet Explorer einschließlichVersion 7 muss JavaScript aktiviert sein, da dieser Browser dieerforderlichen CSS 2.1 Pseudoklassen noch nicht vollständigunterstützt. </p><p> Das Layout wird in der Datei"skins/default/styles/gui_array.css" festgelegt und kann über folgendeCSS-Klassen gesteuert werden: </p><ul><li>"gui_array_list" - ein Menüeintrag</li><li> "gui_array_head" - ein geschlossenes Menü / Submenü</li><li> "gui_array_head_open" - ein geöffnetes Menü / Submenü</li><li> "gui_array_value" - eine Beschriftung</li></ul><p> Gehen Sie wie folgt vor: </p><div class="codeexample"><p class="kommentar" style="float: right; margin-top: 60px;"><img alt="" src="data/abb_menu_1.png" /> <br />Abbildung: Darstellung des Menüs </p><pre><code><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;ziel.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;</span><span class="html1-space">      </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;</span><span class="html1-space">      </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Men&uuml; 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;</span><span class="html1-space">      </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;</span><span class="html1-space">      </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Men&uuml; 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_head&quot;</span><span class="html1-space">          </span><span class="html1-identifier">onmouseover</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head_open'&quot;</span><span class="html1-space">          </span><span class="html1-identifier">onmouseout</span><span class="html1-symbol">=</span><span class="html1-value">&quot;this.className='gui_array_head'&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">span</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_key&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Submen&uuml; 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/span</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">ul</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_1.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.1</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_2.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">            </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;2_3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Eintrag 2.3</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">          </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">        </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">      </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">li</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_list&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">    </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">a</span><span class="html1-space"> </span><span class="html1-identifier">class</span><span class="html1-symbol">=</span><span class="html1-value">&quot;gui_array_value&quot;</span><span class="html1-space"> </span><span class="html1-identifier">href</span><span class="html1-symbol">=</span><span class="html1-value">&quot;3.html&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">Link 2</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/a</span><span class="html1-symbol">&gt;</span><span class="html1-text">  </span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/li</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/ul</span><span class="html1-symbol">&gt;</span></code></pre></div><p> Das Attribut "onmouseover" dient hier zum Öffnen des Menüsund das Attribut "onmouseout" zum Schließen. Diese Attribute sindjedoch nicht zwingend erforderlich sondern dienen lediglich derAbwärtskompatibilität mit dem Internet Explorer und veraltetenBrowsern. </p><h4> Wie kann ich Menüs automatisch erstellen lassen?</h4><p> Mit der Template-Funktion "printUnorderedList" können Sieautomatisch den Inhalt eines mehrdimensionales Arrays als Menüdarstellen lassen. </p><p> Dazu sind 2 Schritte erforderlich. Zunächst legen Sie imPHP-Quellcode Ihres Plugins ein Array mit den Einträgen Ihres Menüs an.Danach lassen Sie sich im Template über den Aufruf der Funktion"printUnorderedList" das gewünschte Menü aus diesem Array generieren. </p><p> Gehen Sie wie folgt vor: </p><ol><li>Öffnen Sie die PHP-Datei mit dem Quellcode Ihres Plugins.</li><li>Suchen Sie die Aktion, für welche das Menü angezeigt werdensoll.</li><li> Folgendes ist ein Beispiel für ein Array, welches Sie imPHP-Quellcode anlegen sollten:</li></ol><div class="codeexample"><p class="kommentar" style="margin: 10px; float: right;"><img alt="" src="data/abb_menu_2.png" /> <br />Abbildung: Darstellung des Menüs </p><pre>&lt;?phpglobal $YANA;$array = array(  'ziel.html' => 'Link 1',  'Menü 1' => array(    '1.html' => 'Eintrag 1'  ),  'Menü 2' => array(    '2.html' => 'Eintrag 2',    'Submenü 2.1' => array(      '2_1.html' => 'Eintrag 2.1',      '2_2.html' => 'Eintrag 2.2',      '2_3.html' => 'Eintrag 2.3' ),  ),  '3.html' => 'Link 2');$YANA-&gt;setVar('myMenu', $array);?&gt;</pre></div><p> Wie Sie sehen, enthalten Schlüssel des Arrays die URLs unddie Werte enthalten die Beschriftung. </p><p> Um das eigentliche Menü generieren zu lassen, gehen Sie wiefolgt vor: </p><ol><li> Öffnen Sie nun das HTML-Template, welches Sie für dieseAktion verwendet haben.</li><li> Suchen Sie im HTML-Quellcode die Stelle, an welcher dasMenü eingefügt werden soll.</li><li>Fügen Sie den folgenden Quellcode ein:</li></ol><div class="codeexample"> [%printUnorderedListvalue=$myMenu keys_as_href="true" layout="2"%] </div><p> Dem Parameter "value" übergeben Sie das Array welches dieEinträge des Menüs enthält. Über den Parameter "layout" können Siezwischen dem <a href="#menu_layout1">1.</a> und <a href="#menu_layout2">2.</a> Layout wählen. DenParameter "keys_as_href" sollten Sie auf den Wert "true" setzen. </p><h3><a name="cookbook_misc"></a>SonstigeFunktionen</h3><h4>Wie rufe ich eine Aktion eines anderen Plugins auf?</h4><p> Zum Bearbeiten von Aktionen bietet YANA die Funktion$YANA-&gt;handle(), welche bei Erfolg bool(true) und sonstbool(false) zurück gibt. </p><pre class="codeexample">&lt;?phpglobal $YANA;/* Aktion &quot;foo&quot; aufrufen */$bool = $YANA-&gt;handle(&quot;foo&quot;, $parameter);if ($bool) {    print &quot;Die Aktion 'foo' wurde erfolgreich ausgeführt.&quot;;} else {    print &quot;Der Aufruf von 'foo' hat einen Fehler erzeugt.&quot;;}?&gt;</pre><h4>Wie leere ich den Template-Cache des Servers?</h4><p> Dies bewirkt, dass alle Dateien im Verzeichnis &quot;cache/&quot; desFrameworks gelöscht werden. </p><pre class="codeexample">&lt;?phpglobal $YANA;/* den Template-Cache des Servers leeren */$YANA-&gt;handle(&quot;clear_server_cache&quot;, array());?&gt;</pre><h4>Wie erzeuge ich, z.Bsp. in einem Forum, eine Vorschau auf denEintrag?</h4><div class="codeexample"><pre><code><span class="html1-comment">&lt;!-- <b>der folgende Eintrag im Template gen&uuml;gt:</b> --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">textarea</span> <span class="html1-identifier">id</span><span class="html1-symbol">=</span><span class="html1-value">&quot;eingabefeld&quot;</span> <span class="html1-identifier">name</span><span class="html1-symbol">=</span><span class="html1-value">&quot;text&quot;</span><span class="html1-symbol">&gt;&lt;</span><span class="html1-reservedword">/textarea</span><span class="html1-symbol">&gt;</span>[%preview%]</code></pre><p class="kommentar"> <img alt="Screenshot" src="data/screen40.png" /><br />Abbildung: Beispiel für die Darstellung im Browser </p></div><h4>Wie erzeuge ich Microsummaries für Firefox 2.0 und höher?</h4><p> "Microsummaries" sind "aktive Lesezeichen", dass heißt Linksin den Bookmarks, deren Text sich dynamisch aktualisieren kann, wennsich der Inhalt der Webseite ändert, auf die der Link verweist. DerFirefox-Browser bietet dem Nutzer automatisch die Verwendung vonMicrosummaries an, wenn dieser einen Bookmark einer Seite erzeugt,welche über dieses Feature verfügt. </p><p> Beispiele hierfür wären: </p><ul><li>die Anzahl der Downloads einer Datei auf einer Downloadseite</li><li>die neueste Schlagzeile auf einer Nachrichtenseite</li><li> die Anzahl der neuen, ungelesenen Nachrichten imPosteingang eines Webmail Service</li><li> die aktuelle Höhe der Spenden auf der Webseite einergemeinnützigen Initiative</li><li>das Datum der letzten Änderung einer Datei</li><li>oder auch die Zeit des neuesten Eintrags in einem Gästebuchoder Forum</li></ul><p> Weitere Varianten sind natürlich denkbar. </p><p> Microsummaries werden vom Yana Framework unterstützt. Siewerden mit Hilfe der Utility-Klasse "Microsummary" erzeugt. ImFolgenden einige Beispiele: </p><pre class="codeexample">&lt;?php/* in einem Plugin ein Mircosummary erzeugen */Microsummary::set($this-&gt;name, 'Text des Links');/* Bitte beachten:&nbsp;* der erste Parameter ist eine Id, welche den Eintrag&nbsp;* eindeutig identifiziert.&nbsp;* Hier wird $this-&gt;name als Id verwendet,&nbsp;* weil der Name eines Plugins eindeutig sein sollte.&nbsp;* Es ist natürlich auch möglich einen anderen Text zu wählen,&nbsp;* Zum Beispiel um mehrere verschiedene Einträge pro Plugin&nbsp;* zu erzeugen.&nbsp;*//* in einem Plugin ein Mircosummary lesen */$microsummary = Microsummary::get($this-&gt;name);/* in einem Plugin ein Mircosummary &quot;veröffentlichen&quot;,&nbsp;* damit der Browser dieses beim Öffnen der Seite findet&nbsp;*/Microsummary::publish($this-&gt;name);/* Aufruf der Microsummary im Browser */index.php?action=get_microsummary&amp;target=guestbook/* Zum Testen muss die URL vervollständigt und im Browser in die Adresszeile eingegeben werden.&nbsp;* Das Argument &quot;target&quot; bezeichnet hier die Id der anzuzeigenden Microsummary.&nbsp;*/?&gt;</pre><h4>Wie erzeuge ich RSS-Feeds?</h4><p> "RSS-Feeds" sind elektronische, (meist) automatischgenerierte und aktualisierte Verzeichnisse, welche verschiedeneInformationen bereithalten können. Diese Verzeichnisse kann einBesucher mit Programmen, die "RSS-Reader" genannt werden, lesen. Inmodernen Browsern ist diese Funktion bereits eingebaut, so dass derBesucher keine zusätzliche Software mehr benötigt. </p><p> Beispiele für RSS-Feeds: </p><ul><li>die letzten Meldungen einer elektronischen Zeitung</li><li>die neuesten Einträge eines Weblogs</li><li>die neuen Kommentare eines Gästebuches</li></ul><p> Das Yana Framework unterstützt das Erzeugen von RSS-Feeds fürIhre Anwendungen. Dazu können Sie die für Sie vorbereiteten Klassen"RSS", bzw. "RSSitem" benutzen. Im Folgenden einige Beispiele. </p><pre class="codeexample">&lt;?php/* Um in einem Plugin einen RSS-Feed zu erzeugen, legen Sie eine neue Funktion an.   (Den Namen bitte Ihren Wünschen entsprechend ändern, er muss eindeutig sein.) */function mein_rss_feed($ARGS){    $rss = new RSS();    // einen Titel und Beschreibung festlegen    $rss-&gt;title = 'Max Muster\'s Neuigkeiten';    $rss-&gt;description = 'das ist mein RSS-Feed zu meiner Homepage';    // einen Eintrag erzeugen    $item = new RSSitem();    $item-&gt;title = '1. Eintrag';    $item-&gt;link = 'http://beliebige.url';    $item-&gt;description = 'Ein kurzer Text, welcher den Inhalt beschreibt, oder ein Textauszug.';    // den Eintrag zum RSS-Feed hinzufügen    $rss-&gt;addItem($item);    // ein 2. Eintrag    $item = new RSSitem();    $item-&gt;title = 'noch ein Eintrag';    $item-&gt;link = 'http://beliebige.andere.url';    $item-&gt;description = 'zweite Beschreibung';    $rss-&gt;addItem($item);    // so geben Sie den RSS-Feed an den Browser aus    print utf8_encode($rss-&gt;toString());    exit(0);}/* Sie können einen Link auf Ihren RSS-Feed in der Anwendung anzeigen lassen.   Dazu benutzen Sie die Funktion RSS::publish() und den Namen der Funktion,   welche Ihren RSS-Feed erzeugt.   Tipp: Am Einfachsten ist es, den Link über den Konstruktor Ihres Plugins   einzubinden.*/function plugin_mein_test($name){    RSS::publish('mein_rss_feed');    // hier kann weiterer Quellcode folgen}?&gt;</pre><!-- NEXT CHAPTER --><h2>Tutorials</h2><h3><a name="mein_erstes_Plugin"></a>mein erstes Plugin</h3><div class="box"><h4>Kapitel 1: Vorbereitung</h4><p> Das folgende Tutorial wird demonstrieren, wie Sie eigenePlugins für das Yana Framework schreiben können. Dazu wird im Verlaufdes Textes ein einfaches Plugin zum Schreiben von so genannten "Blogs"erstellt. Den Quellcode finden Sie als Anhang am Ende dieses Tutorials.</p><p> Der Zeitaufwand um alle Schritte nachzuvollziehen beläuftsich auf etwa 1 Stunde. Literaturhinweise zu thematisch verwandtenArtikeln finden Sie jeweils am Ende eines Abschnitts. Falls Sie einenAbschnitt überspringen wollen, finden Sie zudem fertigeQuellcodeauszüge, welche Sie kopieren können. </p></div><p> Bevor Sie mit diesem Tutorial beginnen, sollten Siesicherstellen, dass Sie einige Vorbereitungen abgeschlossen haben, daSie andernfalls an eine Stelle gelangen könnten, an der Sie dasTutorial nicht fortsetzen können. </p><p> Zunächst benötigen Sie Zugang zu einem Webserver mit PHP.Vorzugsweise sollte dies eine lokale Installation sein, da dadurch die Arbeitvereinfacht wird. Allerdings genügt auch ein Zugang zu einem Webserver via FTP. </p><ul><li> Ein Installationspaket für Apache und PHP (XAMPP) findenSie kostenlos im Internet unter: <a target="_blank" href="http://www.apachefriends.org">www.apachefriends.org</a></li></ul><p> Außerdem sollten Sie vorab das Yana Framework bereitsinstalliert haben und als Administrator darauf zugreifen können. Siemüssen außerdem das "Software Development Kit" für das Yana Frameworkinstalliert und aktiviert haben. </p><ul><li>Eine Einführung in Installation und Bedienung des <acronym title="Software Development Kit"> SDK </acronym>finden Sie im <a href="#developer_plugin"> Kapitel"Plugins und Anwendungen erstellen"</a></li></ul><p> Optional empfehle ich Ihnen, einen geeigneten Editor für dasFramework, wahlweise die Software " <a href="#pspad">PSPad</a>" oder alternativ " <a href="#context">ConTEXT</a>", zu installieren. Für diese beiden Editoren stehen Syntax-Highlighterund Code-Templates zur Verfügung. Lesen Sie vorab das <a href="#editor"> Kapitel über Editoren</a>, falls Sieeine Installationsanleitung wünschen. Für den Zweck dieses Tutorials,wird die Software "PSPad" verwendet. </p><p> Grundlegende Kenntnisse im Aufbau und der Funktion von PHPund MySQL-Datenbanken werden vorausgesetzt. </p><div class="box"><ul><li> "PSPad" finden Sie kostenlos im Internet unter: <a target="_blank" href="http://www.pspad.com">www.pspad.com</a></li><li> "ConTEXT" finden Sie kostenlos im Internet unter: <a target="_blank" href="http://www.context.cx">www.context.cx</a></li><li>Syntax-Highlighter und Code-Templates finden Sie im <a href="#editor"> Kapitel "Editoren für das Yana Framework"</a></li></ul></div><h4>Kapitel 2: Erstellen der Datenbank</h4><div class="box"><p> Datenbanken werden im Yana Framework repräsentiert durch sogenannte "Datenbankschemata". Diese Schemata sind Beschreibungen derStruktur einer Datenbank. Das heißt, der enthaltenen Tabellen, derenSpalten, Indexes und Constraints. Diese Informationen werden in Dateiengespeichert. Diese Dateien werden "Datenbankstrukturdateien" genanntund im Verzeichnis "config/db" des Frameworks abgelegt. </p><p> Darüber hinaus - und das unterscheidet das Yana Frameworkgrundlegend von anderen Frameworks - enthalten diese Dateien auch dieBeschreibung der Semantik einer Datenbank. Das heißt, in welchemKontext eine Spalte sichtbar oder unsichtbar sein sollte, wie dieInformationen für den Nutzer dargestellt werden sollen oder welcheBeschriftung die Spalte haben sollte. </p><p> Sie benötigen zum Erstellen einer Datenbank für das YanaFramework also kein teures Modellierungswerkzeug und keineSQL-Kenntnisse, sondern lediglich einen einfachen Texteditor. </p></div><p> Um eine neue Datenbank zu erzeugen, öffnen Sie zunächst eineleere Textdatei in PSPad. Stellen die Syntax der Datei auf "YanaFramework" um (sollten Sie den Highlighter und die Code-Templates nochnicht installiert haben, lesen Sie dazu das Kapitel <a href="#editor"> "Editoren für das Yana Framework"</a>). </p><p> Die neue Datenbank wird eine Tabelle "blog" enthalten, welchedie Einträge eines Weblogs speichern soll. Jeder Eintrag wird eineeindeutige Id (Primärschlüssel) besitzen, den Namen des Autors, Datumder Erstellung, einen Titel und einen Text. </p><p> Bei der Erstellung der Datenbank können Ihnen Code-Templateshelfen. Geben Sie den Text "db" ein und drücken Sie die Tasten&lt;STRG&gt; + &lt;SPACE&gt; gleichzeitig. Dadurch wirddie Liste der Vorlagen geöffnet. Diese Liste hat zwei Spalten: links inFettdruck ein "Shortcut", den Sie eingeben können um das Templatedirekt aufzurufen (wie in diesem Fall "db") und rechts eineBeschreibung des Templates. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_1.png" /> <br />Abbildung: Einfügen von Code-Templates </p><p> Wählen Sie die Vorlage "database definition" und drücken Sie&lt;ENTER&gt;. Das Dokument sollte nun so aussehen wie infolgender Abbildung: </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_2.png" /><br />Abbildung: Rumpf der Datenbank </p><p> Fügen Sie nun eine Tabelle ein. Drücken Sie dazu&lt;STRG&gt; + &lt;SPACE&gt; und wählen Sie den Eintrag"table definition" (Shortcut "tbl"). Benennen Sie die Tabelle indem Sieden Tabellennamen als Bezeichnung des öffnenden und schließenden Tagseinsetzen. In diesem Tutorial soll die Tabelle den Namen "blog"erhalten. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_3.png" /><br />Abbildung: Tabelle "blog" </p><p> Fügen Sie der Tabelle nun einen Primärschlüssel hinzu. EineTabelle kann stets nur 1 Primärschlüssel besitzen. Der Primärschlüsselmuss stets aus genau einer Spalte bestehen und diese Spalte muss vomTyp "integer", "float" oder "string" sein. So genannte "compoundprimary keys" werden nicht unterstützt. </p><p> Um eine Spalte hinzuzufügen, klicken Sie in den Container"CONTENT" der Tabelle und fügen Sie das Code Template "primary key" ein(Shortcut "id"). Nennen Sie die Spalte "blog_id". </p><p> Um zu definieren, dass die Spalte "blog_id" einPrimärschlüssel ist, müssen Sie den Namen der Spalte im Feld"PRIMARY_KEY" eintragen. </p><p> Haben Sie diese Schritte erfolgreich durchgeführt, sollteIhre Datei wie folgt aussehen: </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_4.png" /><br />Abbildung: Einfügen des Primärschlüssels </p><p> Auf die gleiche Weise fügen Sie nun noch eine Spalte vom Typ"string" für den Titel ein, eine Spalte vom Typ "text" für den Text desEintrags. Eine Spalte vom Typ "time" für das Erstellungsdatum und eineweitere Spalte vom Typ "string" für den Namen des Autors. </p><p> Der Quellcode sollte nun wie folgt aussehen: </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">false</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;blog&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;blog_id&lt;/</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_id&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">integer</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">8</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_id&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_title&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Titel&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_title&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_text&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">text</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">3000</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Text&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_text&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_created&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">time</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Datum&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_created&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_author&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Autor&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_author&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/blog&gt;&lt;/</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span></span></code></pre></div><p> Vergleichen Sie den obigen Quellcode mit Ihrem Ergebnis. </p><h5>Einführung in die wichtigsten Eigenschaften einerTabellenspalte</h5><p> Die Eigenschaft " <b>TYPE</b> " gibt den Typ derSpalte an, " <b>DESCRIPTION</b> " eine Beschriftung derSpalte für den Nutzer. Die Eigenschaft "LENGTH" gibt an wie groß derInhalt für das Feld sein darf. Bei Spalten vom Typ "string" (in MySQLwerden diese als "VARCHAR" umgesetzt) ist dies die Anzahl der Zeichen,welche der Eintrag maximal lang sein darf. </p><p> Die Eigenschaft " <b>REQUIRED</b> " gibt an, obein Wert zwingend erforderlich ist. Sie kann drei Werte annehmen:"true", "false" und "AUTO". Dabei bedeutet: "true" = ein Pflichtfeld,"false" = eine optionale Angabe und "AUTO" = falls der Nutzer keineAngaben macht, wird der Wert automatisch erzeugt. </p><p> Oder anders formuliert: die&nbsp; Eigenschaft "REQUIRED"gibt an, ob eine Spalte "Nullable" ist. Hat "REQUIRED" den Wert "true",wird die Spalte in MySQL zu "NOT NULL" umgesetzt und umgekehrt. </p><p> Wenn Sie zum Beispiel den Wert "AUTO" auf eine Spalte vom Typ"integer" anwenden, so erhalten Sie in MySQL eine Spalte, welche dasAutoinkrementfeature verwendet. Die Spalte "blog_id" in obigem Beispielist somit eine Spalte mit Autoinkrement. (In MSSQL und DB2 wird diesals "Identity", als "Sequenz" in PostgreSQL und in Oracle als Triggerrealisiert). Der Wert "AUTO" auf einer Spalte vom Typ "time" bewirkt,dass die aktuelle Zeit als Wert eingetragen wird. </p><p> Eine Eigenschaft, welche Sie in dem obigen Beispiel bishernoch nicht verwendet haben, heißt " <b>DEFAULT</b> ".Diese kann verwendet werden, um einen "Defaultwert" anzugeben, welcherautomatisch verwendet werden soll, falls der Nutzer keine anderenAngaben macht. </p><p> Zum Abschluss, die Eigenschaft " <b>DISPLAY</b>". Diese Eigenschaft hat keine Entsprechung in SQL. Sie dient derSteuerung der Darstellung der Spalte im Framework. Sie gibt an, inwelchen Formularen die Spalte: sichtbar, sichtbar und editierbar, odernicht sichtbar sein soll. Dabei wird unterschieden zwischen Formularenzum: Anzeigen, Suchen, Erstellen und Editieren von Datensätzen in derTabelle. </p><h5>Verfeinern der Angaben</h5><p> Die obige Tabelle sollte noch um einige Angaben ergänztwerden. </p><p> Beispielsweise sollte festgelegt werden, dass die Spalten"blog_title" (Titel) und "blog_text" (Text) immer ausgefüllt werdenmüssen. Dazu ergänzen Sie die Eigenschaft "REQUIRED" mit dem Wert"true" (Shortcut "req"). </p><p> Die Angabe zum Erstellungsdatum wird automatisch eingefügt.Sie sollte daher beim Schreiben des Eintrags für den Nutzer nichtsichtbar sein und nicht nachträglich editiert werden können. Fügen Siefür die Spalte "blog_created" (Datum) eine Eigenschaft "DISPLAY" ein(Shortcut "disp"). Setzen Sie die Werte "HIDDEN.NEW" und"READONLY.EDIT" auf "true". Setzen Sie alle anderen Werte auf "false". </p><h5>Mehrere Blogs in einer Tabelle</h5><p> Sie können selbstverständlich mehrere Blogs in einer Tabellespeichern. Dazu benötigen Sie eine zusätzliche Spalte, welcheidentifiziert, zu welchem Blog ein Eintrag gehört. Dies kann zumBeispiel nützlich sein, falls Sie mehrere Webseiten haben und proWebseite einen eigenen Blog speichern möchten. </p><p> Die Unterscheidung in mehrere Blogs und die Zuordnung zueinzelnen Webseiten müssen Sie nicht von Hand programmieren. DasFramework besitzt für diesen Zweck ein vorbereitetes Template. </p><p> Fügen Sie zunächst eine neue Spalte vom Typ "profile" ein(Shortcut "pid"). Die Spalte sollte den Namen "profile_id" haben.Anschließend fügen Sie für die Tabelle, unter der Eigenschaft"PRIMARY_KEY" die Eigenschaft "PROFILE_KEY" ein (Shortcut "prf") undsetzen den Wert dieser Eigenschaft auf den Namen der Spalte:"profile_id". </p><p> Vergleichen Sie Ihr Ergebnis mit dem folgenden Quellcode. </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">USE_STRICT</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">false</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;blog&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;blog_id&lt;/</span><span class="general1-key">PRIMARY_KEY</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PROFILE_KEY</span><span class="general1-symbol">&gt;profile_id&lt;/</span><span class="general1-key">PROFILE_KEY</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_id&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">integer</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">8</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_id&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_title&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Titel&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_title&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_text&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">text</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">3000</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Text&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_text&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_created&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">time</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Datum&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-space">  						</span><span class="general1-symbol">&lt;</span><span class="general1-key">NEW</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">NEW</span><span class="general1-symbol">&gt;</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-space">  						</span><span class="general1-symbol">&lt;</span><span class="general1-key">EDIT</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">EDIT</span><span class="general1-symbol">&gt;</span><span class="general1-space">  					</span><span class="general1-symbol">&lt;/</span><span class="general1-key">READONLY</span><span class="general1-symbol">&gt;</span><span class="general1-space">  				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_created&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;blog_author&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">string</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">255</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;Autor&lt;/</span><span class="general1-key">DESCRIPTION</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/blog_author&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;profile_id&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">profile</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-number">128</span><span class="general1-symbol">&lt;/</span><span class="general1-key">LENGTH</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">AUTO</span><span class="general1-symbol">&lt;/</span><span class="general1-key">REQUIRED</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">					</span><span class="general1-symbol">&lt;</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">true</span><span class="general1-symbol">&lt;/</span><span class="general1-key">HIDDEN</span><span class="general1-symbol">&gt;</span><span class="general1-space">				</span><span class="general1-symbol">&lt;/</span><span class="general1-key">DISPLAY</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;/profile_id&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">CONTENT</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/blog&gt;&lt;/</span><span class="general1-keywords2">TABLES</span><span class="general1-symbol">&gt;</span></span></code></pre></div><p> Damit ist das Erstellen der Datenbank abgeschlossen.Speichern Sie Ihre Änderungen unter der Datei "blog.config" undschließen Sie das Programm. </p><h5>Literaturhinweise</h5><div class="box"><p> Falls Sie sich tiefer mit den in diesem Abschnitt behandeltenThemen beschäftigen wollen, finden Sie Anleitung in folgenden Artikeln:</p><ul><li> <a href="#cookbook_database"> Kochbuch fürEntwickler, Kapitel "Arbeiten mit Datenbanken"</a></li></ul></div><p>Der folgende Abschnitt wird sich mit der Erstellung desProgrammcodes beschäftigen.</p><h4><a name="tutorial_new_plugin"></a>Kapitel 3: Erstellen eines neuen Plugins</h4><div class="box"><p> Sofern Sie das Tutorial bis zu diesem Punkt nachvollzogenhaben, besitzen Sie zu diesem Zeitpunkt bereits eine einfacheDatenbank. Um diese jedoch "zum Leben zu erwecken", fehlt Ihnen nochdie Business-Logik der eigentlichen Anwendung, sowie eine Oberflächezur Darstellung von Formularen und Nutzereingaben. Beides werden Sie imfolgenden Abschnitt erstellen. </p></div><p> Öffnen Sie nun die Startseite des Yana Frameworks in einemjavascriptfähigen Webbrowser, beispielsweise Firefox 2.0. Melden Siesich über den Link "Login" am System als "Administrator" an. Sie werdenAdministratorrechte benötigen, um mit dem nächsten Schritt fortfahrenzu können. </p><p> Öffnen Sie auf der Startseite des Frameworks den Link"Software Development Kit". Sollten Sie dieses bis jetzt noch nichtinstalliert, bzw. aktiviert haben, holen Sie dies bitte jetzt nach.Lesen Sie dazu das Kapitel <a href="#developer_plugin">"Plugins und Anwendungen erstellen"</a>. </p><p> Haben Sie den Link geöffnet, sollten Sie folgendes Formularsehen können. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_1.png" /> <br />Abbildung: Startseite des "Software Development Kit" </p><p> Zunächst können Sie einen Namen (zum Beispiel "mein Blog"),eine beliebige Beschreibung und ein Logo für Ihr Plugin auswählen.Unter der Registerkarte "Autor" können Sie Angaben zu Ihrem Namen,Ihrer Webseite und Kontaktadresse machen. </p><p> Auf der Seite "sonstige Daten" können Sie den "Typ derAnwendung" auf den Wert "primary" ändern. Dadurch wird das Plugin als"Hauptprogramm" deklariert. Diese Angabe ist optional und keinePflicht, kann jedoch die Performance erhöhen. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_1_3.png" /><br />Abbildung: Setzen des Typs der Anwendung </p><p> Klicken Sie anschließend direkt auf die Registerkarte "Datenbank". </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_sdk_3_2.png" /><br />Abbildung: Auswählen der Datenbankstrukturdatei </p><p> Klicken Sie auf die Schaltfläche "Durchsuchen". Wählen Sieals Quelle die von Ihnen erstellte Datei "blog.config" aus. </p><p> Weitere Angaben zu Ihrem Plugin sind an dieser Stelle nichterforderlich. Klicken Sie auf die Schaltfläche "Fertigstellen", um denQuellcode und die Eingabeoberflächen für Ihr erstes Plugin generierenzu lassen. Anschließend können Sie das gerade erstellte Plugin sofortausprobieren. </p><h5>Das neue Plugin ausprobieren</h5><p> Öffnen Sie das Administrationsmenü im Expertenmodus. KlickenSie im Menü "Plugins" auf den Link "Liste neu laden". Anschließendwählen Sie aus der Liste der Plugins den Namen Ihres Plugins aus undaktivieren Sie dieses durch anklicken der Checkbox links neben demNamen. Klicken Sie auf die Schalfläche "Änderungen speichern" unterhalbdes Menüs. </p><p> Zum Vergleich zeigt die folgende Abbildung das oben genannteMenü. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_5.png" /><br />Abbildung: Aktivieren des Plugins </p><div class="box"><h5>Hinweise für Nutzer mit Datenbankunterstützung</h5><p> <img alt="Achtung:" src="data/icon2.gif" style="margin: 10px; float: left;" /> </p><p> <span style="font-weight: bold;"> Achtung! </span>Falls Sie die Datenbankunterstützung NICHT aktiviert haben, müssen Siediesen Schritt NICHT durchführen. <br />Falls Sie die Datenbankunterstützung aktiviert haben und beispielsweiseeine MySQL-Datenbank zum Speichern der Einträge benutzen, dann müssenSie die Tabellen für das Plugin zuerst installieren. Öffnen Sie dazudas Menü "Datenbank Setup" und wählen Sie aus dem Dropdownmenü denEintrag "markierte Datenbanken installieren". Es erscheint eineAuswahlliste. Aktivieren Sie nur den Eintrag der Datenbank IhresPlugins und klicken Sie auf die Schaltfläche "Änderungen speichern". </p><p> Siehe folgende Abbildung: </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_12.png" /><br />Abbildung: die Tabelle des Plugins auf der Datenbank installieren </p></div><p> Anschließend wechseln Sie zurück auf die Sitemap desFrameworks. Dort sollte nun der Name Ihres Plugins im Auswahlmenüauftauchen. Klicken Sie auf diesen Link. Sie sollten nun die StartseiteIhrer Anwendung sehen, wie die folgende Abbildung zeigt. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_6.png" /><br />Abbildung: Startseite des neuen Plugins </p><p> Der Text "keine Einträge gefunden" zeigt an, dass zur Zeitkeine Einträge in Ihrem Blog gespeichert sind. Klicken Sie auf den Link"new" um einen neuen Eintrag zu erstellen. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_7.png" /><br />Abbildung: Erstellen eines neuen Eintrags </p><p> Anschließend sollte Ihnen folgende Übersichtsseite angezeigtwerden. (Die Abbildung zeigt das Formular mit zwei Einträgen) </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_8.png" /><br />Abbildung: Übersichtsdarstellung </p><p> Es gibt weitere, alternative Ansichten. Am Ende der Tabelle finden Sie eineListe mit 4 verschiedenen Layouts. Sie können sichentscheiden, welche Darstellung Ihnen besser gefällt. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_9.png" /><br />Abbildung: Detaildarstellung </p><p> Klicken Sie auf den Link "bearbeiten" um Einträge zu editieren. Siesollten das folgende Formular angezeigt bekommen. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_10.png" /> <br />Abbildung: Editieren von Einträgen </p><h5>Hinweise zur Bedienung des Editors</h5><p> Durch Anklicken der Spalten, ändern Sie die Sortierung.Zeilen, die Sie ändern möchten, markieren Sie in der linken Spaltedurch Anklicken der Checkbox. In der letzten Zeile befinden sich leereFelder, welche Sie benutzen können um schnell einen neuen Eintrag zuerstellen. </p><p> Dieses Formular verfügt über ein besonderes Feature. Wenn Sieaus dem Menü "Einträge pro Seite" den Wert "1" wählen, vergrößert sichdie Ansicht des Editors für den jeweiligen Eintrag, was größerenKomfort bei der Eingabe der Daten ermöglicht, wie die folgendeAbbildung zeigt. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_11.png" /><br />Abbildung: Editieren eines einzelnen Eintrags </p><p> Falls Sie dies wünschen, können Sie die weiteren FunktionenIhres neuen Plugins an dieser Stelle ebenfalls probieren. </p><h5>Literaturhinweise</h5><div class="box"> Falls Sie sich tiefer mit den in diesemAbschnitt behandelten Themen beschäftigen wollen, finden Sie Anleitungin folgenden Artikeln:<ul><li> <a href="#developer_plugin"> Anleitung fürEntwickler, Kapitel Plugins und Anwendungen erstellen</a></li></ul></div><p> Wie Sie sehen konnten, hat das Yana Framework Ihnen bereitseinen großen Teil der notwendigen Arbeiten abgenommen. Allerdings gibtes sicher einige Details, welche Sie nachträglich Ihren Bedürfnissenanpassen möchten. Mit diesen Anpassungen wird sich der folgendeAbschnitt des Tutorials beschäftigen. </p><h4>Kapitel 4: Editieren von Templates und Konfigurationsdateien</h4><div class="box"><p> Im folgenden Abschnitt werden die Definitionsdatei vonPlugins und Templates vorgestellt. Es wird demonstriert, wie dieseDateien editiert werden können, um sie persönlichen Bedürfnissenanzupassen. </p></div><h5>Einfügen von Smilies und embedded Tags</h5><p> Als ersten Schritt soll demonstriert werden, wie Sie Smilies(Emoticons) und embedded Tags (zum Formatieren von Text) einfügenkönnen. Öffnen Sie dazu die Datei"skins/default/blog/blog_default_new_blog.html" in PSPad. Beachten Siedabei, dass Sie den Text "blog" durch den Namen Ihres Projektesersetzen müssen. Wählen Sie den Highlighter "Yana Framework Templates"aus der Liste der verfügbaren Highlighter. </p><p> Zum Vergleich dazu siehe auch die folgende Abbildung: </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_13.png" /> <br />Abbildung: Darstellung des Templates in PSPad </p><p> Der Aufruf der Funktion "import" lädt das Baummenü aus derDatei "index.html". Die Funktion "create" ruft den Formulargeneratordes Yana Frameworks auf, um das Formular zum Erzeugen eines neuenEintrags zu generieren. </p><p class="kommentar"> Eine Erläuterung der Funktion"create" finden Sie in der <a href="#func_create">Referenz der Template-Funktionen und -Modifier</a>. </p><p> Auch in Templates können Sie wiederum Code-Templatesverwenden. Fügen Sie nun hinter dem Funktionsaufruf "create" einenAufruf der Funktion "embeddedTags" (Shortcut "embTag").Argumente brauchen Sie für diese Funktion zunächst nicht angeben. </p><p class="kommentar"> Eine Erläuterung der Funktion"embeddedTags" finden Sie in der <a href="#func_embeddedtags">Referenz der Template-Funktionen und -Modifier</a>. </p><p> Der Quellcode sollte nun wie folgt aussehen: </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="general1-symbol">&gt;[%</span><span class="general1-key">import</span><span class="general1-space"> </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;index.html&quot;</span><span class="general1-symbol">%]&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;margin-left: 260px;&quot;</span><span class="general1-symbol">&gt;[%</span><span class="general1-key">create</span><span class="general1-space">  </span><span class="general1-identifier">template=</span><span class="general1-string">&quot;new&quot;</span><span class="general1-space">  </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;</span><span class="general1-space">  </span><span class="general1-reservedword">table</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">where=$WHERE</span><span class="general1-space">  </span><span class="general1-identifier">titles=</span><span class="general1-string">&quot;&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_edit=</span><span class="general1-string">&quot;blog_write_edit_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_delete=</span><span class="general1-string">&quot;blog_write_delete_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_new=</span><span class="general1-string">&quot;blog_write_new_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_search=</span><span class="general1-string">&quot;blog_read_search_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_download=</span><span class="general1-string">&quot;blog_blog_download&quot;</span><span class="general1-space">  </span><span class="general1-identifier">sort=$SORT</span><span class="general1-space">  </span><span class="general1-identifier">desc=$DESC</span><span class="general1-space">  </span><span class="general1-identifier">page=$PAGE</span><span class="general1-space">  </span><span class="general1-identifier">entries=$ENTRIES</span><span class="general1-space"> </span><span class="general1-symbol">%][%</span><span class="general1-key">embeddedTags</span><span class="general1-symbol">%]&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;clear: both;&quot;</span><span class="general1-symbol">&gt;&amp;nbsp;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">your text here</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span></span></code></pre></div><p> Vergleichen Sie den obigen Quellcode mit Ihrem Ergebnis. </p><p> Wenn Sie die Seite Ihres Plugins nun erneut im Browseraufrufen, präsentiert diese sich wie folgt. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_14.png" /><br />Abbildung: Darstellung im Browser (Firefox 3) </p><p> Es ist angebracht, diese Darstellung optisch anzupassen. Daes dafür verschiedene Lösungen gibt und Geschmäcker bekanntlichverschieden sind, dazu folgender Vorschlag. </p><div class="codeexample"><pre><code><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;legend</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;font-size: 12px; font-weight: bold;&quot;</span><span class="general1-symbol">&gt;Text</span><span class="general1-space"> </span><span class="general1-identifier">formatieren:&lt;/legend&gt;</span><span class="general1-space">    </span><span class="general1-symbol">[%</span><span class="general1-key">embeddedTags</span><span class="general1-space"> </span><span class="general1-reservedword">show</span><span class="general1-symbol">=</span><span class="general1-string">&quot;b,i,u,|,h,emp,code,hide,|,small,big,|,img,url,mail,-,mark,color,smilies&quot;</span><span class="general1-symbol">%]</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;</span></code></pre></div><p> Falls die Tags "fieldset" und "legend" Ihnen bis jetzt nochnicht vertraut waren: Diese Tags erzeugen Unterabschnitte innerhalb vonFormularen. Der Tag "legend" legt eine Beschriftung fest.Dargestellt werden "Fieldsets" standardmäßig als umrahmte Blockabschnitte.Der Text innerhalb des Tags "Legend" wird dabei innerhalb der Umrandungdargestellt. <br />Zudem demonstriert dieser Quellcode die Verwendung derArgumente der Funktion "embeddedTags". Achten Sie besonders auf das Argument"show" der Funktion "embeddedTags".Diese akzeptiert die beiden besonderen Werte "|" und "-". Dabei erzeugt "|"einen senkrechten Trennstrich und "-" kann verwendet werden, um einenZeilenumbruch zu erzeugen. </p><p> Abschließend soll oberhalb der beiden Fieldsets eine Vorschauauf den neuen Blogeintrag erzeugt werden (verwenden Sie dazu denShortcut "preview"). Sie können das Template übernehmen, die Parameter"height" und "width" werden nicht benötigt und können entfernt werden. </p><p> Der daraus resultierende Quellcode sieht wie folgt aus:</p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="general1-symbol">&gt;[%</span><span class="general1-key">import</span><span class="general1-space"> </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;index.html&quot;</span><span class="general1-symbol">%]&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">menu</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;margin-left: 260px;&quot;</span><span class="general1-symbol">&gt;[%</span><span class="general1-key">create</span><span class="general1-space">  </span><span class="general1-identifier">template=</span><span class="general1-string">&quot;new&quot;</span><span class="general1-space">  </span><span class="general1-keywords3">file</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;</span><span class="general1-space">  </span><span class="general1-reservedword">table</span><span class="general1-symbol">=</span><span class="general1-string">&quot;blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">where=$WHERE</span><span class="general1-space">  </span><span class="general1-identifier">titles=</span><span class="general1-string">&quot;&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_edit=</span><span class="general1-string">&quot;blog_write_edit_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_delete=</span><span class="general1-string">&quot;blog_write_delete_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_new=</span><span class="general1-string">&quot;blog_write_new_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_search=</span><span class="general1-string">&quot;blog_read_search_blog&quot;</span><span class="general1-space">  </span><span class="general1-identifier">on_download=</span><span class="general1-string">&quot;blog_blog_download&quot;</span><span class="general1-space">  </span><span class="general1-identifier">sort=$SORT</span><span class="general1-space">  </span><span class="general1-identifier">desc=$DESC</span><span class="general1-space">  </span><span class="general1-identifier">page=$PAGE</span><span class="general1-space">  </span><span class="general1-identifier">entries=$ENTRIES</span><span class="general1-space"> </span><span class="general1-symbol">%]<span class="general1-space">  </span><span class="general1-symbol">[%</span><span class="general1-key">preview</span><span class="general1-symbol">%]</span></span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;legend</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;font-size: 12px; font-weight: bold;&quot;</span><span class="general1-symbol">&gt;Text</span><span class="general1-space"> </span><span class="general1-identifier">formatieren:&lt;/legend&gt;</span><span class="general1-space">    </span><span class="general1-symbol">[%</span><span class="general1-key">embeddedTags</span><span class="general1-space"> </span><span class="general1-reservedword">show</span><span class="general1-symbol">=</span><span class="general1-string">&quot;b,i,u,|,h,emp,code,hide,|,small,big,|,img,url,mail,-,mark,color,smilies&quot;</span><span class="general1-symbol">%]</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">fieldset</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">content</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">Begin:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-keywords3">style</span><span class="general1-symbol">=</span><span class="general1-string">&quot;clear: both;&quot;</span><span class="general1-symbol">&gt;&amp;nbsp;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">your</span><span class="general1-space"> </span><span class="general1-keywords3">text</span><span class="general1-space"> </span><span class="general1-identifier">here</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-identifier">End:</span><span class="general1-space"> </span><span class="general1-identifier">foot</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span></span></code></pre></div><p> Als Quelle verwendet die Vorschau automatisch das zuletztaktivierte Textarea-Feld der Seite. Die Darstellung wird via AJAX vomServer geholt und direkt angezeigt, ohne das Formular neu laden zumüssen. </p><p> Im Browser präsentiert sich das Ergebnis wie folgt: </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_15.png" /><br />Abbildung: Darstellung im Browser (Firefox 3) </p><h5>Ändern der Sortierreihenfolge</h5><p> Klicken Sie noch einmal auf den Menüpunkt &quot;anzeigen&quot;. BeachtenSie die Reihenfolge der Einträge. Per Voreinstellung sind dieseaufsteigend nach dem Primärschlüssel sortiert. Dies ist für einen Blogin der Regel nicht erwünscht. Stattdessen sollten die Einträgeabsteigend nach dem Datum ihrer Erstellung sortiert sein. Um dies zukorrigieren, öffnen Sie nun die Datei"skins/default/blog/blog_read_read_blog.html" in PSPad.Beachten Sie dabei, dass Sie den Text "blog" durch den Namen IhresProjektes ersetzen müssen. Wählen Sie den Highlighter "Yana FrameworkTemplates" aus der Liste der verfügbaren Highlighter. </p><p> Wie bereits erwähnt, dient die Funktion "create" zum Aufrufendes Formulargenerators. Dieser nimmt einige Parameter, mit welchen dieAusgabe gesteuert wird. Setzen Sie den Parameter "sort" auf"blog_created" um nach der Spalte "blog_created" der Tabelle "blog" zusortieren, welche das Datum der Erstellung der Einträge enthält. SetzenSie den Parameter "desc" auf den Wert "true", was bewirkt, dassabsteigend (eng. "descending") sortiert wird. </p><p> <a name="code_2"></a> Beachten Sie, dass der Parameter "where" auf dieVariable "$WHERE" gesetzt ist. Dies wird zu einem späteren Abschnittdieses Tutorials eine wichtige Rolle spielen. </p><p> Der folgende Quellcodeauszug illustriert das Ergebnis. </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="html1-comment">&lt;!-- Begin: menu --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;width: 250px; overflow: auto; float: left;&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">[%import file=&quot;index.html&quot;%]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-comment">&lt;!-- End: menu --&gt;&lt;!-- Begin: content --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;margin-left: 260px;&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-text">[%create  template=&quot;view&quot;  layout=3  file=&quot;blog&quot;  table=&quot;blog&quot;  where=$WHERE  titles=&quot;&quot;  on_edit=&quot;blog_write_edit_blog&quot;  on_delete=&quot;blog_write_delete_blog&quot;  on_new=&quot;blog_write_new_blog&quot;  on_search=&quot;blog_read_search_blog&quot;  on_download=&quot;blog_blog_download&quot;  sort=&quot;blog_created&quot;  desc=$DESC  page=$PAGE  entries=$ENTRIES %]</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-comment">&lt;!-- End: content --&gt;&lt;!-- Begin: foot --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">div</span><span class="html1-space"> </span><span class="html1-identifier">style=</span><span class="html1-value">&quot;clear: both;&quot;</span><span class="html1-symbol">&gt;</span><span class="html1-escapeampersand">&amp;nbsp;</span><span class="html1-comment">&lt;!-- your text here --&gt;</span><span class="html1-symbol">&lt;</span><span class="html1-reservedword">/div</span><span class="html1-symbol">&gt;</span><span class="html1-comment">&lt;!-- End: foot --&gt;</span></span></code></pre></div><p> Vergleichen Sie den obigen Quellcode mit Ihrem Ergebnis. </p><h5>Editieren der Einträge des Baummenüs</h5><p> Als nächstes soll das Baummenü so angepasst werden, dass dieEinträge "neu" und "&Uuml;ber dieses Plugin ..." nur Nutzern angezeigt werden,die am System angemeldet sind und über ein ausreichend hohes Sicherheitslevelverfügen. Außerdem möchten Sie möglicherweise die Beschriftung der Optionenändern. </p><p> <a name="code_1"></a> Der Quellcode derDatei sieht zunächst wie folgt aus: </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu root&quot;</span><span class="general1-space"> </span><span class="general1-identifier">id=</span><span class="general1-string">&quot;_menu&quot;</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-identifier">onclick=</span><span class="general1-string">&quot;yanaMenu(this)&quot;</span><span class="general1-symbol">&gt;blog&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">75</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_edit_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.EDIT%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_default_new_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.NEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_search_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.SEARCH%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">0</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_read_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.VIEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=about&amp;target=mein_plugin&amp;type=plugin&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.ABOUT%]</span><span class="general1-space"> </span><span class="general1-symbol">...&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;</span></span></code></pre></div><p> Dass die IF-Verzweigungen hier in Kommentare eingebettet sinddient der besseren Lesbarkeit des Codes und der Darstellung desTemplates im Browser. Für das Template selbst macht es keinenUnterschied, ob Sie diese Kommentare verwenden wollen oder nicht. </p><p> Die Variable $PERMISSION enthält die Sicherheitsstufe IhresBesuchers. Gäste erhalten in der Voreinstellung automatisch dieSicherheitsstufe "0", Administratoren die Stufe "100". Dazwischenkönnen weitere Stufen vergeben werden. Voreingestellt ist fürModeratoren beispielsweise die Stufe "30". Sie können diese Variableverwenden um zu entscheiden, wann bestimmte Menüpunkte angezeigt werdensollen und wann nicht. Ändern Sie den Wert für "Permission" für dieOptionen "new" und "about" beispielsweise auf "&gt;= 30" (der Wert30 steht per Default für die Gruppe der Moderatoren). </p><p> Da die Variable $PERMISSION stets einen Wert &gt;= 0 hat,können Sie die entsprechenden Prüfungen zum Zweck besserer Performanceauch entfernen. </p><p> Vergleichen Sie Ihr Ergebnis mit dem folgenden Code. </p><div class="codeexample"><pre><code><span style="font: 10pt Courier New;"><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu root&quot;</span><span class="general1-space"> </span><span class="general1-identifier">id=</span><span class="general1-string">&quot;_menu&quot;</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">div</span><span class="general1-space"> </span><span class="general1-identifier">onclick=</span><span class="general1-string">&quot;yanaMenu(this)&quot;</span><span class="general1-symbol">&gt;blog&lt;/</span><span class="general1-reservedword">div</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">ul</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;menu&quot;</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">75</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_edit_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.EDIT%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%</span><span class="general1-key">if</span><span class="general1-space"> </span><span class="general1-symbol">$PERMISSION</span><span class="general1-space"> </span><span class="general1-symbol">&gt;=</span><span class="general1-space"> </span><span class="general1-number">30</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_default_new_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.NEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;!--</span><span class="general1-space"> </span><span class="general1-symbol">[%/</span><span class="general1-key">if</span><span class="general1-symbol">%]</span><span class="general1-space"> </span><span class="general1-identifier">--&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_search_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.SEARCH%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;</span><span class="general1-space">      </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=mein_plugin_read_read_blog&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.MENU.VIEW%]&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;</span><span class="general1-space">    </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;</span><span class="general1-space">  </span><span class="general1-symbol">&lt;</span><span class="general1-reservedword">li</span><span class="general1-space"> </span><span class="general1-identifier">class=</span><span class="general1-string">&quot;entry&quot;</span><span class="general1-symbol">&gt;&lt;</span><span class="general1-reservedword">a</span><span class="general1-space"> </span><span class="general1-keywords3">href</span><span class="general1-symbol">=[%</span><span class="general1-string">&quot;action=about&amp;target=mein_plugin&amp;type=plugin&quot;</span><span class="general1-symbol">|</span><span class="general1-keywords3">href</span><span class="general1-symbol">%]&gt;[%$LANGUAGE.ABOUT%]</span><span class="general1-space"> </span><span class="general1-symbol">...&lt;/</span><span class="general1-reservedword">a</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">li</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-reservedword">ul</span><span class="general1-symbol">&gt;</span></span></code></pre></div><h5>Anpassen der Konfigurationsdateien</h5><div class="box"><p> Wie Sie vielleicht bereits vermutet haben, war dies lediglichder erste Schritt. Zwar ist der Menüpunkt zum Anlegen eines neuen Eintrags nunfür Gäste ausgeblendet, allerdings ist er durch Eingabe der richtigen URL in dieAdresszeile des Browsers immer noch aufrufbar. Ein geschickter Nutzer könntesich diesen Umstand zunutze machen, um die Prüfung seines Sicherheitslevelszu umgehen. Der folgende Abschnitt wird demonstrieren, wie Sie dieKonfigurationsdatei Ihres Plugins editieren können, um dies zu verhindern. </p></div><p> Von HTML-Templates nun zurück zu Konfigurationsdateien.Öffnen Sie die Datei "plugins/blog.config" in PSPad (beachten Sie, dasssie den Namen "blog" durch den Namen Ihres Plugins ersetzen müssen).Wählen Sie den Highlighter "Yana Framework" aus. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_16.png" /><br />Abbildung: Darstellung der Konfigurationsdatei in PSPad </p><p> Der Container "INFO" enthält den Header derKonfigurationsdatei. Dieser Block kann, je nachdem welche Eingaben beimErstellen des Plugins gemacht wurden, in Ihrem Fall geringfügig andersaussehen. </p><p> Zunächst einmal sehen Sie hier unter dem Eintrag "START" diegewählte Startseite des Plugins (blog_read_read_blog). Ihr Wert entspricht demWert des Arguments "action", welches an die URL angehängt wird. Der Wertidentifiziert eindeutig das Plugin und die Aktion, welchedas Plugin ausführen soll. Der Name wurde automatisch generiert. FallsSie eine andere Seite als Startseite wünschen, rufen Sie die diese Seite inIhrem Browser auf. Schauen Sie in der Adressleiste des Browsers nach dem Wertdes Arguments "action" und kopieren Sie diesen Wert aus der Adressleiste in dasFeld "START". </p><p> Der Container "INTERFACE" beschreibt alle Aktionen, welcheIhr Plugin verarbeiten kann. Für jede Aktion existiert ein Tag, welcherweitere Tags enthält, welche dessen Eigenschaften beschreiben. DieNamen wurden auch hier automatisch erstellt. Beachten Sie, dass dieseNamen eindeutig sein müssen. Es ist folglich nicht sinnvoll, eineAktion beispielsweise "insert" zu nennen, weil diese Bezeichnungvermutlich nicht eindeutig wäre. </p><p class="kommentar"> Eine Erläuterung aller Tags dieserKonfigurationsdatei, sowie Codebeispiele, finden Sie im <a href="#cookbook_plugins"> Kochbuch für Entwickler, Kapitel"Plugins editieren"</a>. </p><p> Im nächsten Schritt werden die Änderungen in der Datei"index.html" in der Konfigurationsdatei nachvollzogen, um ein Umgehender Sicherheitsprüfung unmöglich zu machen. </p><p> Suchen Sie dazu zunächst in dem Dokument die Aktion"blog_default_new_blog" und setzen Sie im Feld "PERMISSION" den Wertauf "30", analog zur Datei "index.html". Wiederholen Sie dies für dieAktion "blog_write_new_blog". Zum Verständnis: Die Aktion"blog_default_new_blog" dient dem Anzeigen des Formulars, die Aktion"blog_write_new_blog" dient dem Speichern der Eingaben. Beide Aktionengehören somit zum gleichen Formular und beide Werte müssen daherentsprechend geändert werden. </p><p> In der Datei "index.html" war die Option "list" enthalten,welche entfernt wurde (vergleichen Sie mit dem <a href="#code_1">obigenQuellcode</a> ). Diese Option war verbunden mit der Aktion"blog_read_read_blog". Suchen Sie nun diese Aktion und entfernen Siediese. </p><p> Der Container "INTERFACE" sollte nun den folgenden Inhalthaben. </p><div class="codeexample"><pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_EDIT_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_EDIT_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_EDIT_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_EDIT_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_EDIT_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_DELETE_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">75</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_edit_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_DELETE_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_DEFAULT_NEW_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;default&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_NEW_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">30</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_DEFAULT_NEW_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_WRITE_NEW_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;write&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">MESSAGE</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">30</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_default_new_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_WRITE_NEW_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_SEARCH_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_SEARCH_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_search_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_search_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_SEARCH_BLOG&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_READ_READ_BLOG&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;BLOG_READ_BLOG&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;blog_read_read_blog&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_READ_READ_BLOG&gt;&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre></div><p> Vergleichen Sie den obigen Quellcode mit Ihrem Ergebnis. </p><h5>Literaturhinweise</h5><div class="box"> Falls Sie sich tiefer mit den in diesemAbschnitt behandelten Themen beschäftigen wollen, finden Sie Anleitungin folgenden Artikeln:<ul><li> <a href="#developer_plugin"> Anleitung fürEntwickler, Kapitel Templates und Skins erstellen</a></li><li> <a href="#cookbook_plugins"> Kochbuch fürEntwickler, Kapitel Plugins editieren</a></li><li>SelfHTML <a target="_blank" href="http://de.selfhtml.org/">http://de.selfhtml.org/</a></li><li> Smarty-Dokumentation <a target="_blank" href="http://smarty.net/docs.php">http://smarty.net/docs.php</a></li></ul></div><h4>Kapitel 5: Editieren des PHP-Quellcodes</h4><div class="box"><p> Der folgende Abschnitt soll Ihnen zeigen, wie Sie denPHP-Quellcode eines Plugins editieren können, um neue Funktionenhinzuzufügen oder existierende Funktionen Ihren Bedürfnissenanzupassen. </p></div><p> In diesem Abschnitt des Tutorials soll ein automatischgenerierter RSS-Feed für die 10 neuesten Einträge des Blogimplementiert werden. Das Tutorial führt Sie durch die verschiedenenSchritte der Erstellung. </p><h5>Definieren einer neuen Aktion im Interface-Abschnitt derKonfigurationsdatei</h5><p> Bevor Sie den PHP-Quellcode editieren, sollten Sie die neueAktion in der Schnittstelle des Plugins eintragen. Nur dann kann dieseauch über den Webbrowser aufgerufen werden. Dies ist dient einerseitsder Performance und ist andererseits eine zusätzlicheSicherheitsmaßnahme, um das absichtliche Einschleusen fremdenPHP-Codes in die Anwendung zu erschweren, das versehentliche Ausführenvon Code zu verhindern und insgesamt Plugins damit sicherer zu machen. </p><p> Um diesen Schritt durchzuführen, öffnen Sie die Datei"plugins/blog.config" in PSPad (beachten Sie, dass sie den Namen "blog"durch den Namen Ihres Plugins ersetzen müssen). Wählen Sie denHighlighter "Yana Framework" aus. </p><p> Fügen Sie im Container "INTERFACE" eine neue Aktion ein(Shortcut "act"). Nennen Sie diese Aktion "blog_rss". </p><p> Ihr Quellcode sollte nun die folgende neue Aktion enthalten: </p><div class="codeexample"><pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;[...]</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_RSS&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;default&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-key">INDEX</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">INSERT</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-number">200</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONSUCCESS</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;ALERT&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-number">500</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEXT</span><span class="general1-symbol">&gt;</span><span class="general1-space">			</span><span class="general1-symbol">&lt;</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;&lt;/</span><span class="general1-key">GOTO</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;/</span><span class="general1-keywords2">ONERROR</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_RSS&gt;[...]&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre></div><p> Nicht alle der automatisch eingefügten Felder werdenbenötigt. Passen Sie die Definition der Aktion nun wie folgt an: </p><div class="codeexample"><pre><code><span class="general1-symbol">&lt;</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;[...]</span><span class="general1-space">	</span><span class="general1-symbol">&lt;BLOG_RSS&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;read&lt;/</span><span class="general1-key">TYPE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">MODE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-reservedword">NULL</span><span class="general1-symbol">&lt;/</span><span class="general1-key">TEMPLATE</span><span class="general1-symbol">&gt;</span><span class="general1-space">		</span><span class="general1-symbol">&lt;</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-number">0</span><span class="general1-symbol">&lt;/</span><span class="general1-key">PERMISSION</span><span class="general1-symbol">&gt;</span><span class="general1-space">	</span><span class="general1-symbol">&lt;/BLOG_RSS&gt;[...]&lt;/</span><span class="general1-keywords2">INTERFACE</span><span class="general1-symbol">&gt;</span></code></pre></div><p> Das Feld "TYPE" mit dem Wert "read" hat etwas mit demVerhalten dieser Aktion zu tun. Dieser Typ drückt aus, dass dieseAktion lediglich lesend auf die Datenbank zugreifen muss. DieseInformation kann für eine bessere Performance ausgenutzt werden. </p><p> Das Feld "MODE" mit dem Wert "0" sagt aus, dass der normaleBetriebsmodus verwendet wird. (Mit dem Wert "1" startet das Programmfür diese Aktion im "abgesicherten Modus"). </p><p> Das Feld "PERMISSION" mit dem Wert "0" sagt aus, dass jederBesucher auf diese Aktion zugreifen darf, ohne besondere Anforderungenan seinen Sicherheitslevel. </p><p> Das Feld "TEMPLATE" gibt an, welches Template für die Aktionausgewählt werden soll. Zwar ist es möglich das Template auch aus demPHP-Code heraus auszuwählen, allerdings ist die Verwendung diesesFeldes in der Konfigurationsdatei übersichtlicher und einfacher. <br />Das hier ausgewählte Template "NULL" ist ein vordefinierterSpezialwert. Er drückt aus, dass "kein Template" ausgewählt werdensoll. Dies ist in diesem Fall auch nicht erforderlich, weil die Ausgabedurch einen automatischen RSS-Generator, ohne Template, erzeugt werdenwird. </p><p> Damit sind die Vorbereitungen abgeschlossen der folgendeAbschnitt wird sich mit der Implementierung im PHP-Quellcodebeschäftigen. </p><h5>Schreiben des PHP-Quellcodes</h5><p> Öffnen Sie die Datei "plugins/blog/plugin.php" in PSPad(beachten Sie, dass sie den Namen "blog" durch den Namen Ihres Pluginsersetzen müssen). Wählen Sie den Highlighter "PHP" aus. </p><p> Fügen Sie in die Klasse "plugin_blog" eine neue Funktion mitdem Namen "blog_rss" ein. Um sich Schreibarbeit zu ersparen, können Siefolgende Vorlage verwenden. </p><pre class="codeexample">&lt;?phpclass plugin_blog extends plugin{// [...]    /**     * blog_rss     *     * returns bool(true) on success and bool(false) on error     *     * Type:        read     * Permission:  0     * Templates:   NULL     *     * @access  public     * @return  bool     * @name    plugin_blog::blog_rss()     * @param   array  $ARGS  array of params passed to the function     */    function blog_rss ($ARGS)    {    }// [...]}?&gt;</pre><p> Meine persönliche Empfehlung ist, Quellcode, denn Siegeschrieben haben, stets sofort zu dokumentieren, solange Ihnen derAufbau und die Funktionsweise noch frisch im Gedächtnis sind. Dies hatzudem den unschätzbaren Vorteil, dass Sie sich dadurch zwangsweise nocheinmal mit dem gerade beschriebenen Code beschäftigen müssen. </p><h5>Abfrage der Datenbank</h5><p> Um einen RSS-Feed der 10 aktuellsten Beiträge zu erstellen,müssen Sie zunächst erst einmal die 10 aktuellsten Beiträge aus derDatenbank laden. Dazu erstellen Sie ein Datenbankabfrage der Tabelle"blog". Durch Setzen der Limit-Klausel auf "10" limitieren Sie dieAnzahl der Einträge des Resultsets auf maximal 10 Stück. Damit Sietatsächlich die 10 neuesten Einträge erhalten, sortieren Sie dieEinträge absteigend nach dem Datum Ihrer Erstellung. Das heißt nach derSpalte "blog_created". Verwenden Sie dazu "order_by" und "desc". </p><p> Der folgende Quellcode demonstriert diese Abfrage. </p><pre class="codeexample">&lt;?php/* get entries from database */$query = array(    'key' =&gt; 'blog.*',    'order_by' =&gt; 'blog_created',    'desc' =&gt; true,    'limit' =&gt; 10);$rows = $this-&gt;database-&gt;get($query);?&gt;</pre><p> Wie Sie in diesem Beispiel sehen, verfügt das Yana Frameworküber einen Query-Generator zum Erzeugen einfacher SQL-Statements. Siebenötigen also keinerlei SQL-Kenntnisse, um mit dem Yana FrameworkAbfragen auf einer Datenbank durchführen zu können. Das Mapping dertatsächlichen SQL-Statements auf die passende Syntax des eigentlichenDBMS erledigt das Framework ebenfalls automatisch. </p><p> Der Query-Generator ist außerdem in der Lage, automatisierteinfache Sicherheitsprüfungen durchzuführen, automatisches Quoting fürEingabewerte zu realisieren und SQL-Abfragen auf Plausibilität zuprüfen, ohne diese an die Datenbank zu senden. Dies reduziertzusätzlich das Risiko von SQL-Injections und erhöht dadurch dieSicherheit Ihrer Anwendung. </p><p> Das Resultset, hier $rows, besteht aus einemmehrdimensionalen, assoziativen Array. Jeder Eintrag entspricht einerZeile. Jede Zeile wiederum hat jeweils einen Eintrag pro Spalte. </p><p> Ein Aufruf von var_export($rows) demonstriert dies. DieAusgabe lautet wie folgt: </p><pre class="codeexample">&lt;?phparray (  2 =&gt;  array (    'BLOG_TITLE' =&gt; 'Testeintrag',    'BLOG_TEXT' =&gt; 'Das ist ein Test[br]Das ist ein Test[br]Das ist ein Test[br]Das ist ein Test',    'BLOG_AUTHOR' =&gt; 'Thomas Meyer',    'BLOG_CREATED' =&gt; '1173276511',    'PROFILE_ID' =&gt; 'default',    'BLOG_ID' =&gt; 2,  ),  1 =&gt;  array (    'BLOG_TITLE' =&gt; 'Testeintrag',    'BLOG_TEXT' =&gt; 'Das ist ein Test.[br]Nur ein Test.[br][br]Neue Zeile.',    'BLOG_AUTHOR' =&gt; 'Thomas Meyer',    'BLOG_CREATED' =&gt; '1173276442',    'PROFILE_ID' =&gt; 'default',    'BLOG_ID' =&gt; 1,  ),)?&gt;</pre><p> Wie Sie am Index des Arrays sehen, sind die Einträge inumgekehrter Reihenfolge, also absteigend, sortiert. Die Spaltennamenwerden in Großbuchstaben ausgegeben. </p><p class="kommentar"> Weitere Details und Codebeispielefinden Sie im <a href="#cookbook_database"> Kochbuch fürEntwickler, Kapitel Datenbanken</a> und in der API-Dokumentationder Klasse "DbStream". </p><p> Zur Repräsentation von RSS-Feeds dient die Klasse "RSS". Umeinen neuen Feed zu erzeugen, sollte als nächster Schritt eine Instanzdieser Klasse erzeugt werden. </p><pre class="codeexample">&lt;?php$rss = new RSS();$rss-&gt;title = 'Blog';$rss-&gt;description = 'the 10 most recent blog entries';?&gt;</pre><p> Den Titel und die Beschreibung des RSS-Feed können Sie freiwählen. Verwenden Sie dazu die Eigenschaften "title" und "description",wie im Beispiel gezeigt. </p><p> Anschließend ist für jeden Eintrag der Datenbank ein Eintragim RSS-Feed zu erstellen. Ein Eintrag wird repräsentiert durch dieKlasse "RSSitem". Um einen Eintrag zu erzeugen, wird eine neue Instanzdieser Klasse erzeugt und diese mithilfe der Methode RSS::addItem() demRSS-Feed hinzugefügt. Die Einträge werden im RSS-Feed in derReihenfolge abgelegt, in welcher Sie eingefügt werden - unabhängig vomDatum, da das Datum lediglich ein optionales Feld ist. </p><p> Der folgende Quellcode demonstriert das Erzeugen derEinträge. </p><pre class="codeexample">&lt;?phpforeach ($rows as $row){    $item = new RSSitem();    // Titel    $item-&gt;title = $row['BLOG_TITLE'];    // Link    $action = 'blog_read_read_blog';    $blog_id = $row['BLOG_ID'];    $link = DisplayUtility::url(&quot;action=$action&amp;blog_id=$blog_id&quot;, true);    $link = str_replace(session_name() . '=' . session_id(), '', $link);    $item-&gt;link = $link;    // Text    $item-&gt;description = $row['BLOG_TEXT'];    // Datum    $item-&gt;pubDate = date('r', $row['BLOG_CREATED']);    // Eintrag hinzufügen    $rss-&gt;addItem($item);} /* end foreach */?&gt;</pre><p> Beachten Sie den Code zum Erzeugen des Links. Dieser verweistauf die Aktion, welche zur Darstellung von Einträgen des Blogsverwendet wird. Die Aktion lautet "blog_read_read_blog". Wiebereits erwähnt, wurde dieser Name automatisch generiert. Die Funktion"url()" der Utility-Klasse "DisplayUtility" erzeugt, wie der Name sagt,eine URL inklusive der Adresse des Servers, Name und Pfad des Skriptsund aller erforderlicher Parameter. </p><p> Der daraus entstehende Link enthält allerdings auch dieaktuelle Session-Id. Diese ändert sich naturgemäß bei jedem Aufruf.Eigentlich sollte dies kein Problem darstellen, allerdings gibt esbedauerlicherweise eine Schwäche moderner RSS-Reader. Denn einige(nicht alle) von diesen sind so programmiert, dass Sie den Link einesRSS-Eintrags gleichzeitig als eindeutige Id verwenden. Sogar wennexplizit eine <acronym title="general unified identifier">GUID </acronym> vorhanden ist, wird diese in der Regel ignoriertund trotzdem der Link benutzt. Aus diesem Grund darf er sich nichtverändern, weil diese Programme andernfalls durcheinander geraten. Dasist der Grund, warum die Session-Id unbedingt aus dem Link entferntwerden muss und das ist auch der Grund, warum der Primärschlüssel desEintrags im Link auftauchen muss. Dies ist keine Einschränkung desFrameworks, sondern eine unangenehme Eigenschaft der RSS-Reader. Leiderwerden Sie, wohl oder übel, vorerst mit diesem Problem leben müssen. </p><p class="kommentar"> Weitere Details zur Verwendungdieser Klasse finden Sie in der API-Dokumentation der Klassen "RSS" und "RSSitem".</p><p> Zum Vergleich zeigt der folgende Auszug den gesamtenQuellcode der Aktion im Zusammenhang: </p><pre class="codeexample">&lt;?php/* get entries from database */$query = array(    'key' =&gt; 'blog.*',    'order_by' =&gt; 'blog_created',    'desc' =&gt; true,    'limit' =&gt; 10);$rows = $this-&gt;database-&gt;get($query);$rss = new RSS();$rss-&gt;title = 'Blog';$rss-&gt;description = 'the 10 most recent blog entries';foreach ($rows as $row){    $item = new RSSitem();    // Titel    $item-&gt;title = $row['BLOG_TITLE'];    // Link    $action = 'blog_read_read_blog';    $blog_id = $row['BLOG_ID'];    $link = DisplayUtility::url(&quot;action=$action&amp;blog_id=$blog_id&quot;, true);    $link = str_replace(session_name() . '=' . session_id(), '', $link);    $item-&gt;link = $link;    // Text    $item-&gt;description = $row['BLOG_TEXT'];    // Datum    $item-&gt;pubDate = date('r', $row['BLOG_CREATED']);    // Eintrag hinzufügen    $rss-&gt;addItem($item);} /* end foreach */print utf8_encode($rss-&gt;toString());exit(0);?&gt;</pre><p> Wie Sie aus dem obigen Quellcode sehen konnten, wird in jedemEintrag auf die Aktion "blog_read_read_blog" mit demParameter "blog_id" verwiesen. Bis jetzt besitzt diese Aktionallerdings diesen Parameter noch nicht. Der folgende Abschnitt wirddemonstrieren, wie dieser Parameter dieser Aktion hinzugefügt wird. </p><h5>Hinzufügen eines neuen Parameters</h5><p> Suchen Sie in dem Dokument die Aktion"blog_read_read_blog". Diese sollte momentan den folgendenQuellcode aufweisen: </p><pre class="codeexample">&lt;?php/** * blog_read_read_blog * * returns bool(true) on success and bool(false) on error * * Type:        read * Permission:  0 * Templates:   BLOG_READ_BLOG * * @access  public * @return  bool * @name    plugin_blog::blog_read_read_blog() * @param   array  $ARGS  array of params passed to the function */function blog_read_read_blog ($ARGS){    /* check input data */    assert('is_array($ARGS);');    settype($ARGS, 'array');    /* global variables */    global $YANA;    /* do something */    return true;}?&gt;</pre><p> Zunächst sollten Sie prüfen, ob der Parameter "blog_id"überhaupt gesetzt ist, da dies nicht immer der Fall sein muss. Weil dieSpalte "blog_id" in der Tabelle "blog" vom Typ "integer" ist, solltenSie außerdem prüfen, ob der Eingabewert numerisch ist. Außerdem solltenSie den Typ des Eingabewertes in einen Integerwert ändern. Der folgendeQuellcode demonstriert dies. </p><pre class="codeexample">&lt;?phpif (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {    $id = (int) $ARGS['blog_id'];}?&gt;</pre><p> An dieser Stelle kommt nun zum Tragen, dass Sie zuvor ( <a href="#code_2"> siehe oben</a> ) im Template dieserAktion für die Funktion "create" den Wert des Parameters "where" aufdie Variable "$WHERE" gesetzt haben, denn dadurch können Sie nun durchSetzen der Variable "$WHERE" diesen Parameter beeinflussen. </p><p> Um den Wert einer Variable zu setzen rufen Sie die FunktionYana::setVar auf. Setzen Sie den Wert der Variable auf "blog_id=$id". </p><pre class="codeexample">&lt;?phpif (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {    $id = (int) $ARGS['blog_id'];    $YANA-&gt;setVar('WHERE', &quot;blog_id=$id&quot;);}?&gt;</pre><p> Abschließend soll noch ein weiteres Feature demonstriertwerden. Das Framework kann, falls ein RSS-Feed vorhanden ist,automatisch eine Grafik mit der Aufschrift "RSS" und einen Link auf denRSS-Feed der Anwendung einblenden. Um dieses Feature zu aktivieren,muss lediglich eine Variable gesetzt werden. Der Name dieser Variablelautet "RSS_ACTION" und ihr Wert sollte der Name der Aktion sein,welche den RSS-Feed erzeugt. In diesem Fall "blog_rss". </p><p> Die folgende Abbildung zeigt, wie dieses Symbol im Browserdargestellt wird. </p><p class="kommentar"> <img alt="Screenshot" src="data/abb_tutorial2_17.png" /><br />Abbildung: Darstellung des Plugins mit RSS-Symbol (Firefox 2.0) </p><p> Zum Vergleich noch einmal der gesamte Quellcode der Aktion imZusammenhang. </p><pre class="codeexample">&lt;?php/** * blog_read_read_blog * * returns bool(true) on success and bool(false) on error * * Type:        read * Permission:  0 * Templates:   BLOG_READ_BLOG * * @access  public * @return  bool * @name    plugin_blog::blog_read_read_blog() * @param   array  $ARGS  array of params passed to the function */function blog_read_read_blog ($ARGS){    /* check input data */    assert('is_array($ARGS);');    settype($ARGS, 'array');    /* global variables */    global $YANA;    $YANA-&gt;setVar('RSS_ACTION', 'blog_rss');    if (isset($ARGS['blog_id']) &amp;&amp; is_numeric($ARGS['blog_id'])) {        $id = (int) $ARGS['blog_id'];        $YANA-&gt;setVar('WHERE', 'blog_id=' . $id);    }    return true;}?&gt;</pre><p> Vergleichen Sie Ihr Ergebnis mit dem obigen Quellcode. </p><p> Mit diesem Schritt ist die Erstellung Ihres ersten Pluginserfolgreich abgeschlossen. </p><h5>Literaturhinweise</h5><div class="box"> Falls Sie sich tiefer mit den in diesemAbschnitt behandelten Themen beschäftigen wollen, finden Sie Anleitungin folgenden Artikeln:<ul><li> <a href="#cookbook_plugins"> Kochbuch fürEntwickler, Kapitel Plugins editieren</a></li><li> <a href="#cookbook_database"> Kochbuch fürEntwickler, Kapitel Datenbanken</a></li><li>API-Dokumentation der Klasse "DbStream"</li><li>Self-PHP, <a target="_blank" href="http://www.selfphp.info">http://www.selfphp.info</a></li><li> Offizielles PHP Handbuch, <a target="_top" href="http://www.php.net/download-docs.php">http://www.php.net/download-docs.php</a></li></ul></div><h4>Kapitel 6: Zusammenfassung</h4><p> In diesem Tutorial haben Sie gelernt, wie Sie: </p><ul><li>Datenbankstrukturdateien erstellen und editieren</li><li> das Gerüst eines neuen Plugins mithilfe des SoftwareDevelopment Kit generieren</li><li>HTML-Templates editieren und Funktionsaufrufe einfügen</li><li>die Schnittstelle eines Plugins editieren und erweitern</li><li>Datenbankabfragen durchführen und RSS-Feeds erstellen</li></ul><p> Damit ist dieses Tutorial beendet. Weitere Informationen undCodebeispiele finden Sie unter anderem im Kochbuch für Entwickler undder API-Dokumentation des Yana Frameworks. </p><h5>Quellcodes</h5><div class="box"> <img alt="" src="data/icon-download.png" style="margin: 0px 50px;" align="left" /><p> Alle in diesem Tutorial verwendeten Quellcodes finden Sieauch in folgendem Paket: <a href="files/tutorial01.zip">Blog-Plugin</a></p></div><h3>PHP-Programme auf CD-ROM brennen</h3><div class="box"><p> Das folgende Tutorial wird erläutern, wie Sie IhreWebanwendung mit dem Yana PHP-Framework und Server2Go auf eineCD/DVD-ROM brennen und direkt von dort starten können. </p><p> Der Zeitaufwand um alle Schritte nachzuvollziehen beläuftsich auf etwa 1/2 Stunde, nicht gerechnet die Zeit für eventuellnotwendige Downloads. Literaturhinweise zu thematisch verwandtenArtikeln finden Sie jeweils am Ende eines Abschnitts. </p></div><h4> Systemvoraussetzungen</h4><div class="box"><ul><li> Betriebssystem: Windows 98 SE oder höher </li><li> kompatibler Webbrowser (z.Bsp. IE 6.0, oder Firefox) </li><li> CD-ROM Laufwerk </li></ul></div><h4>Kapitel 1: Quellen downloaden</h4><p> Bevor Sie mit diesem Tutorial beginnen, sollten Siesicherstellen, dass Sie einige Vorbereitungen abgeschlossen haben, daSie andernfalls an eine Stelle gelangen könnten, an der Sie dasTutorial nicht fortsetzen können. </p><ul><li> Sie benötigen ein Installationspaket für Server2Go. Diesesfinden Sie kostenlos im Internet unter: <a target="_blank" href="http://www.server2go-web.de">http://www.server2go-web.de</a></li></ul><p> Server2Go ist Donationware und darf auch für kommerzielleAnwendungen kostenlos verwendet werden. Die Software wird von TimoHaberkern entwickelt und betreut. </p><p> Grundlegende Kenntnisse im Aufbau und der Funktion von PHPund MySQL-Datenbanken werden in diesem Artikel vorausgesetzt. </p><div class="box"> Hier einige vorbereiteteKonfigurationsdateien für Server2Go. Diese Dateien basieren auf Version1.5.0. Die Angaben gelten ohne Gewähr.<ul><li> <a href="server2go/server2go_cdrom.zip">Server2Go-Konfigurationsdateienfür Programme auf CD-ROM</a> </li><li> <a href="server2go/server2go_local.zip">Server2Go-Konfigurationsdateienfür Desktop-Anwendungen</a> </li><li> <a href="server2go/server2go_portable.zip">Konfigurationfür Server2Go mit Firefox Portable auf CD-ROM</a> </li></ul>Hier finden Sie Links zu einigen weiteren nützlichen Quellen:<ul><li> <a target="_blank" href="http://www.server2go-web.de">Server2Go Website</a></li><li> <a target="_blank" href="http://portableapps.com/apps/internet/firefox_portable">FirefoxPortable (Englisch)</a> </li><li> <a target="_blank" href="http://stadt-bremerhaven.de/2006/09/24/firefox-portabel-machen/">FirefoxPortable (Deutsch)</a> </li></ul></div><h4>Kapitel 2: CD-ROM vorbereiten</h4><p>Um ein PHP-Programm mit dem Yana PHP-Framework direkt von CDstarten zu können gehen Sie bitte wie folgt vor.</p><ol><li><h5>Grundinstallation</h5><ol><li>Entpacken Sie Server2Go.</li><li>Kopieren Sie das Yana PHP-Framework in das Verzeichnis"htdocs/" des Webservers.</li><li>Editieren Sie die Datei "server/config_tpl/php.ini" ineinem Texteditor Ihrer Wahl. Ändern Sie den Wert "memory_limit" von"8M" auf mindestens "16M". Empfohlen sind "128M", der tatsächliche Wertist jedoch abhängig von Ihrer PHP-Anwendung. Da bei einer CD-Anwendungnicht mehrere Nutzer gleichzeitig auf das Programm zugreifen sondernstets nur eine Person allein, brauchen Sie sich nicht zu scheuen, hiereinen hohen Wert einzutragen.</li><li>Öffnen Sie die Konfigurationsdatei"htdocs/yana/library.php" in einem Texteditor (z.Bsp. ConTEXT, oderPSPad).</li></ol><p>Die Datei "library.php" ändern Sie wie folgt: <code>define('YANA_CDROM',true);</code> </p></li><li><h5>Datenbankkonfiguration</h5><p>Falls Ihr Programm eine MySQL-Datenbank benötigt, gehenSie wie folgt vor:</p><ol><li>Editieren Sie die Datei "pms_config.ini" imServer2Go-Verzeichnis und aktivieren Sie MySQL, indem Sie "UseMySQL"auf "1" setzen.</li><li>Starten Sie Server2Go durch Ausführen der Datei"Server2Go.exe".</li><li>Es wird automatisch Ihr Browser geöffnet. Auf derStartseite finden Sie im rechten Seitenmenü einen Link zu PHPMyAdmin.Die Adresse lautet: http://127.0.0.1:4001/phpmyadmin/ Klicken Siediesen Link an, oder rufen Sie die Adresse direkt über die AdressleisteIhres Browsers auf.</li><li>Installieren Sie mit PHPMyAdmin Ihre Datenbanken.Achten Sie darauf, dass Sie den gleichen Namen für Ihre Datenbankverwenden, den Sie für Ihre lokale Installation verwendet haben.Andernfalls müssen Sie die Datenbankverbindungseinstellungen des YanaPHP-Framework entsprechend anpassen.</li><li>Falls Sie die Datenbankverbindung für das Frameworkändern müssen, finden Sie die Verbindungseinstellungen in der Datei"htdocs/yana/config/".</li><li>Installieren Sie PEAR-DB. Gehen Sie dazu auf die <a target="_blank" href="http://pear.php.net/package/DB/download">DownloadSite</a> und kopieren Sie das Archiv für DB und das <a href="http://pear.php.net/package/PEAR/download">PEAR Package</a>auf Ihren Rechner. Sie werden ein Programm benötigen, dass die beidenTGZ-Archive entpacken kann. Sollten Sie keines besitzen, finden Sie zumBeispiel auf <a target="_blank" href="http://www.7-zip.org/">7-Zip</a>ein kostenloses Open-Source Programm, mit welchem Sie die Archiveöffnen können.</li><li>Die Archive sind 2 mal verpackt - Sie müssen alsonachdem Sie die erste Datei entpackt haben die zweite Datei ebenfallsentpacken. Darin enthalten sind XML-Dateien, welche Sie ignorierenkönnen, und jeweils ein Verzeichnis mit Installationsdateien. KopierenSie den Inhalt beider Installationsverzeichnisse in das Verzeichnis"server/php/pear/", so dass die Dateien "DB.php" und "PEAR.php" beidedirekt in diesem Verzeichnis liegen. Damit ist die Installation fürPEAR-DB abgeschlossen. Sie können dies testen indem Sie Server2Gostarten und das Yana PHP-Framework mit dem Parameter"yana/index.php?action=test" aufrufen. Auf der Seite sollte in grünerSchrift bestätigt sein, dass PEAR-DB erfolgreich gefunden wurde.</li></ol></li><li><h5>Server2Go - Konfiguration</h5><p>Nach der Installation Ihrer Datenbanken fahren Sie mit derKonfiguration fort.</p><ol><li>Um Ihnen die Aufgabe zu erleichtern, wurden für diesesHandbuch alle Einstellungen vorkonfiguriert, welche Sie für Ihre CD-ROMbenötigen. Sie müssen die Dateien lediglich in dasServer2Go-Installationsverzeichnis entpacken. Überschreiben Sie dabeidie alten Konfigurationsdateien. <a href="server2go/server2go_cdrom.zip">Das ZIP-Archiv findenSie hier</a>.</li><li>Konfigurieren Sie anschließend dieDatenbankeinstellungen in der Datei "pms_config.ini" und denAutostart-Eintrag gemäß Ihren Wünschen. Eventuell möchten Sie auch Ihreigenes Logo einbinden.</li></ol></li></ol><p>Anschließend kann das Paket direkt auf CD-ROM gebrannt undsofort verwendet werden.</p><p>Im nächsten Kapitel werden Sie erfahren, wie Sie Server2Go unddas Yana PHP-Framework zusammen mit der Portable-Edition des FirefoxBrowser verwenden können.</p><h4>Kapitel 3: Verwendung mit Firefox-Portable</h4><p>Sie haben die Möglichkeit mit Server2Go auch einenFirefox-Browser direkt von CD zu starten. Die folgende Anleitungerklärt Ihnen, was dazu nötig ist.</p><div class="box"><b>Achtung:</b>&nbsp;Firefox-Portablekann (soweit&nbsp;bekannt) mit Version 1.5.1 von Server2Go zur ZeitNICHT auf CD-ROM, sondern nur auf USB-Stick oder Festplatte verwendetwerden. Das Problem wird in einer kommenden Version beseitigtsein.&nbsp;In der Zwischenzeit ist es möglich einen alternativenBrowser zu verwenden. Eine von mehreren Möglichkeiten ist dasZusatzprogramm "SimpleBrowser" von der <a target="_blank" href="http://www.server2go-web.de/">Server2Go Website</a>zu verwenden. Der Autor erwartet im Gegenzug eine geringe Spende fürdie Weiterentwicklung der Software.</div><ol><li><h5>Firefox Portable installieren</h5><ol><li>Zuerst benötigen Sie eine aktuelle, portable Versiondes Browsers. Diese finden Sie auf der Website <a target="_blank" href="http://portableapps.com/apps/internet/firefox_portable">http://portableapps.com</a>.Laden Sie diese Datei aus dem Netz und entpacken Sie sie in dasServer2Go-Installationsverzeichnis (dort, wo sich "Server2Go.exe"befindet). </li><li>Der Browser wird auf dieser Seite in Englischangeboten. Sie können diesen jedoch in eine deutsche Version umwandeln.Laden Sie dazu das deutsche Sprachpaket herunter. Sie finden diesesunter anderem auf <a href="http://www.firefox-browser.de/sprachpaket.php">www.firefox-browser.de</a>.Kopieren Sie die Datei "de.xpi" auf Ihren Rechner. </li><li> Starten Sie FirefoxPortable, indem Sie die Datei"FirefoxPortable/FirefoxPortable.exe" ausführen. Installieren Sie dieDatei "de.xpi", indem Sie sie mit entweder mit der Maus auf dasFirefox-Fenster ziehen, oder indem Sie das Menü "Datei / Datei öffnen..." anklicken und die Datei "de.xpi" aus dem Explorer-Fenster wählen. </li><li> Starten Sie den Browser anschließend 1 Mal neu. </li></ol></li><li><h5>Server2Go für Firefox Portable konfigurieren</h5><p><b>Achtung:</b> Es gibt ein <a href="server2go/server2go_portable.zip">ZIP-Archiv</a>mit allen erforderlichen Konfigurationsdateien, welches Sie verwendenkönnen. Entpacken Sie das Archiv und überschreiben Sie alleOriginaldateien. Danach sind Sie bereits fertig und können IhreAnwendung direkt auf CD-ROM brennen.</p><p>Falls Sie das Archiv nicht verwenden und die Schrittestattdessen von Hand durchführen wollen, fahren Sie mit derKonfiguration wie folgt fort.</p><ol><li>Öffnen Sie die Datei "pms_config.ini".</li><li>Ändern Sie den Wert "BrowserType" auf "EXTERNAL"</li><li>Ändern Sie den Wert "BrowserPath" auf"FirefoxPortable/FirefoxPortable.exe"</li><li>Speichern Sie die Datei.</li><li>Erzeugen Sie eine neue Datei:"FirefoxPortable/FirefoxPortable.ini" mit folgendem Inhalt:<pre><code>[FirefoxPortable]FirefoxDirectory=App\firefoxProfileDirectory=Data\profilePluginsDirectory=Data\pluginsSettingsDirectory=Data\settingsFirefoxExecutable=firefox.exeAdditionalParameters=-contentLocale de-DE -UILocale de-DELocalHomepage=DisableSplashScreen=trueDisableIntelligentStart=falseAllowMultipleInstances=trueSkipChromeFix=falseSkipCompregFix=falseWaitForFirefox=trueRunLocally=true</code></pre>Eine Anleitung zu den verwendeten Optionen finden Sie in der Datei"FirefoxPortable/Other/FirefoxPortableSource/Readme.txt". Diese Dateiwird mit Firefox Portable ausgeliefert. Die Option"AdditionalParameters" sorgt hier für das Starten der deutschenVersion. </li></ol></li></ol><p>Anschließend kann das Paket auf CD-ROM gebrannt werden.</p><div class="box"><b>Warnung:</b> es bestehtdie Möglichkeit, dass Server2Go auf einigen Rechnern aufgrund lokalerFirewalls oder eingeschränkter Nutzerrechte nicht korrekt funktioniert.Es ist daher dringend empfohlen, dass Sie Ihre CD-ROM auf mindestenseinem anderen Testsystem ausprobieren. Unter einigen Betriebssystemenkönnen Administratorrechte notwendig sein um die CD zu starten. </div><div class="box"><b>Windows Vista:</b>Unterstützung für MS Vista wurde für Server2Go ab Version 1.5.0eingeführt. Es kann passieren, dass der Nutzer gefragt wird, ob dieAnwendung auf das System zugreifen darf. Bis Version 1.5.0 sind unterVista Administratorrechte erforderlich um Server2Go von einer CD-ROM zustarten. </div><div class="box"><b>Windows 98:</b> FürRechner mit Windows 98, welche KEIN Microsoft Office Paket installierthaben, muss ein Patch von Microsoft installiert werden. Sie findendiesen Patch unter folgender URL:http://www.microsoft.com/downloads/details.aspx?FamilyID=6c050fe3-c795-4b7d-b037-185d0506396c&amp;DisplayLang=de<br />Um einen stabilen Betrieb sicherzustellen ist außerdem ein Downgradeder MySQL-Datenbank auf Version 4 erforderlich. Dazu genügt es, dieDateien der Datenbankanwendung im Verzeichnis "server/mysql/"auszutauschen. Ein passendes Installationspaket kann von der <a target="_blank" href="http://www.server2go-web.de">Server2GoWebsite</a> bezogen werden. </div><!-- NEXT CHAPTER --><h1>Artikel</h1><h2><a name="article_xddl"></a>XML Data Definition Language Format</h2><h3>Abstrakt</h3><div class="box">Dieses Dokument definiert das <abbr title="XML Data Definition Language Format">XDDL</abbr> Dateiformat.Dieses Format dient der herstellerunabhängigen Darstellung der Struktur von Datenbanken und deren Repräsentation im Kontext einer Anwendung.Begleitend zu diesem Dokument existieren <abbr title="Document Type Definitions">DTDs</abbr>, welche die Struktur einer gültigen XDDL-Datei beschreiben.Das Dokument beinhaltet eine syntaktische und semantische Beschreibung der Elemente.Ergänzend werden informelle Empfehlungen zur Darstellung der Elemente durch einen Client gegeben.</div><h3>Status dieses Dokumentes</h3><p>Dieser Abschnitt beschreibt den Status des Dokumentes zum Zeitpunkt der Veröffentlichung.Spätere Dokumente können den vorliegenden Stand ersetzen.Die jeweils aktuelle Version finden Sie online auf der Projekt-Webseite des Yana Frameworks.</p><div class="box"><p>Dieses Dokument ist noch keine endgültige Fassung (Final Release) und seine Inhalte können sich ändern. Kommentierungen der gegenwärtigen Version dieser Arbeit sind erwünscht.</p><p>Die aktuelle Version dieses Dokumentes wird innerhalb des Subversion-Repository gepflegt. Eine Liste von Änderungen kann aus dem Repository jederzeit exportiert werden.</p><dl>    <dt>Working Draft</dt>    <dd>Ein Zustand, in welchem alle Elemente kontinuierlichen Änderungen unterworfen sein können.</dd>    <dt>Call for Comments</dt>    <dd>Das Dokument ist gesperrt und jegliche Änderungen (abgesehen von Korrekturen an Rechtschreibung und Grammatik) sind untersagt. Kommentare zum gegenwärtigen Stand des Dokumentes werden aufgenommen. Der nachfolgende Zustand ist wahrscheinlich &quot;Working Draft&quot; (um Änderungsvorschläge einzuarbeiten), oder &quot;Final Call&quot;, falls es keine Anmerkungen gab.</dd>    <dt>Final Call</dt>    <dd>Das Dokument ist gesperrt und jegliche Änderungen (abgesehen von Korrekturen an Rechtschreibung und Grammatik) sind untersagt. Falls keine Anmerkungen aufgenommen werden, wird das folgende Dokument ohne Änderungen veröffentlicht.</dd>    <dt>Released Candidate Recommendation / Unstable</dt>    <dd>Das Dokument ist eine veröffentlichte Version, aber Anmerkungen zum gegenwärtigen Zustand des Dokumentes werden weiter aufgenommen, als Vorbereitung für spätere Versionen.</dd>    <dt>Released Recommendation / Stable</dt>    <dd>Das Dokument ist eine veröffentlichte, stabile Version. Es wird noch aktiv gepflegt.</dd>    <dt>Superseded</dt>    <dd>Das Dokument ist durch eine spätere, stabilere Version ersetzt worden. Es wird nicht mehr aktiv gepflegt.</dd></dl><table class="syntax"><thead><tr><th>Version</th><th>State</th><th>Date</th></tr></thead><tbody><tr><td>nicht versioniert</td><td>Working Draft</td><td>2009-07-01 - 2009-08-31</td></tr><tr><td>0.5</td><td>Call for Comments</td><td>2009-09-17 - 2009-10-05</td></tr><tr><td>0.5.1</td><td>Working Draft</td><td>2009-10-06 - 2010-09-13</td></tr><tr style="font-weight: bold;"><td>0.6</td><td>Working Draft</td><td>2010-09-14 - heute</td></tr><tr><td>0.7</td><td>Call for Comments</td><td>nachfolgend</td></tr></tbody></table><dl>    <dt>Autoren</dt>    <dd>Thomas Meyer</dd>    <dt>Änderungsdatum</dt>    <dd>$Date: 2010-09-14 16:06:25 +0200 (Mo, 14 Aug 2010) $</dd></dl></div><h3>Definitionen</h3><h4>Terminologie</h4><p>Dieser Abschnitt definiert in diesem Dokument verwendete, feststehende Bezeichnungen.</p><div class="box">    <dl>      <dt>Darf</dt>      <dd>Eine optionale Definition. Programmierer können entscheiden, ob Sie diese befolgen wollen oder auch nicht.</dd>      <dt>Muss</dt>      <dd>Eine verpflichtende Anforderung. Implementierungen müssen diese Bedingungen erfüllen.</dd>      <dt>Optional</dt>      <dd>siehe &quot;Darf&quot;</dd>      <dt>Soll</dt>      <dd>siehe &quot;Muss&quot;</dd>      <dt>Sollte</dt>      <dd>Eine Empfehlung. Programmierer werden ermutigt, diese Regel zu befolgen, aber sie können sich dennoch entscheiden sie zu ignorieren.</dd>      <dt>Unterstützt</dt>      <dd>Ein unterstütztes Feature muss von der Implementierung bereitgestellt werden und sich wie festgelegt verhalten.</dd>      <dt>Undefiniert / nicht spezifiziert</dt>      <dd>Keine Anforderungen sind spezifiziert. Der Entwickler kann entscheiden ob und wie auf diese Situation reagiert werden soll.      Jedoch darf die Implementierung für eine undefinierte Situation kein spezifisches Verhalten voraussetzen.</dd>    </dl></div><h4>Glossar</h4><div class="box">    <dl>      <dt>DTD</dt>      <dd>Eine Definition der gültigen Struktur, der Elemente, und Attribute für ein valides XML Dokument, welches die Regeln der DTD erfüllt.</dd>      <dt>Element</dt>      <dd>Ein Teil der in der DTD definierten Dokumentstruktur. Jedes Element kann mehrere Attribute besitzen.</dd>      <dt>Attribute</dt>      <dd>Ein Teil der in der DTD definierten Dokumentstruktur. Im Wesentlichen ein Schlüssel-Wert-Paar.</dd>      <dt>Dokument</dt>      <dd>Bezieht sich auf eine gültige XML-Datei, welche die durch die DTD definierten Regeln erfüllt. Jedes Dokument kann mehrere Elemente enthalten.</dd>      <dt>PCData</dt>      <dd>Ein Teil der in der DTD definierten Dokumentstruktur. Besagt, dass ein Element Textinhalt haben kann.</dd>      <dt>Empty</dt>      <dd>Ein Teil der in der DTD definierten Dokumentstruktur. Besagt, dass ein Element keinen Inhalt haben darf.</dd>    </dl></div><h4>Sonstiges</h4><div class="box">Eine Referenzimplementierung dieses Formats ist durch das Yana Framework gegeben.Diese ist eine Empfehlung und nicht Teil der XDDL-Definition.Das Dokument erläutert optionale Elemente anhand dieser Referenzimplementierung.Dieser Erläuterungen haben informellen Charakter.Hinweise zur Darstellung im Client, Abbildungen von Möglichkeiten der Darstellung undBeispiele für HTML-Code sind stets Empfehlungen und sind rein informell.</div><h3>Datenbank</h3><div class="box">Database ist der Wurzelknoten eines XDDL Dokuments. Er kann mehrere Kindelemente enthalten. Diese können aufgeteilt werden auf 5 grundlegende Gruppen : <a href="#article_xddl_tables">Tabellen</a>, <a href="#article_xddl_views">Views</a>, <a href="#article_xddl_forms">Formulare</a>, <a href="#article_xddl_functions">Funktionen</a> und <a href="#article_xddl_changelogs">Change-logs</a>. Das Element Database definiert grundlegende Eigenschaften der Datenbank selbst, sowie Information für den Client und Anwendungen, die sich mit der Datenbank verbinden wollen.</div><h4><a name="article_xddl_database"></a>Element Database</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_database">ELEMENT database</a> (<a href="#article_xddl_description">description?</a>, (<a href="#article_xddl_include">include</a> | <a href="#article_xddl_table">table</a> | <a href="#article_xddl_view">view</a> | <a href="#article_xddl_form">form</a> | <a href="#article_xddl_function">function</a> |                     <a href="#article_xddl_sequence">sequence</a> | <a href="#article_xddl_initialization">initialization</a>)*, <a href="#article_xddl_changelog">changelog</a>?)  ATTRIBUTE       name        string       title       string       charset     string       datasource  string       readonly    bool  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Ein eindeutiger Name welcher diese Datenbank identifiziert. Default ist der Dateiname. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Title ist eine Beschriftung, welche in der Nutzeroberfläche angezeigt werden sollte wenn das Objekt anzeigt wird.<br/> Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>    </tr>    <tr>      <td>charset</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Der bevorzugte Zeichensatz welcher verwendet wird wenn Datenbankobjekte erstellt werden und/oder mit der Datenbank kommuniziert wird. Der Zeichensatz kann nur zum Zeitpunkt der Erstellung der Datenbank gesetzt werden. Wenn Sie sich dafür entscheiden, eine vorhandene Datenbank zu verwenden, beachten Sie bitte, dass der tatsächlich verwendete Zeichensatz ein anderer sein könnte.</td>    </tr>    <tr>      <td>datasource</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Interpretation des Attributs datasource (Datenquelle) hängt von der Implementierung ab. Für das Yana Framework ist es eine benannte Datenquelle. Sie können benannte Datenbankverbindungen über das Administrationsmenü setzen.</td>    </tr>    <tr>      <td>readonly</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Sie können die Datenbank auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Tun Sie dies wenn Sie ein Datenbakviewer erstellen möchten, oder eine Anwendung auf CD-ROM.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Ein Wurzelknoten, welcher die wichtigsten Eigenschaften und/oder Anforderungen spezifiziert. Diese können verwendet werden, wenn die Datenbank über ein Skript erstellt wird, oder ein Datenbankclient eine Verbindung herstellt.</p>  <h5>Implementierung</h5>  <p>Der Zeichensatz (charset) soll während des Anlegens der Datenbank gesetzt werden. Typische Zeichensätze sind: utf-8, ascii, iso-8859-1. Beachten Sie, dass einige DBMS verschiedene Schreibweisen desselben Zeichensatzes haben, oder Zeichensätze unterstützen, die andere DBMS nicht anbieten. Die Implementierung muss eine Liste von gültigen Zeichensätzen zur Verfügung stellen und automatisch auf die korrekte Schreibweise für das Ziel-DBMS abbilden. Die Implementierung kann einen Fehler melden, wenn ein nicht unterstützter Zeichensatz verwendet wird.<br/> Die Datenquelle (datasource) ist im Allgemeinen ein Bezeichner für einen bestimmten Satz von Verbindungsparametern zu einer spezifischen Datenbank. Das kann eine JNDI Data-Source für Java, eine ODBC Data-Source für C#, oder eine andere benannte Datenquelle für eine andere Sprache sein.</p>  <h5>Darstellung</h5>  <p>Wenn eine Oberfläche für eine Datenbank dargestellt wird, kann die Implementierung das Attribut title der Datenbank als Überschrift wählen.</p></div><h4><a name="article_xddl_description"></a>Element Description</h4><div class="box">  <div class="codeexample"><pre>  ELEMENT description (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Die Beschreibung dient zwei Zwecken: 1. der Offline-Dokumentation  2. der Online-Dokumentation.<br/> Eine Beschreibung ist stets optional. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</p>  <h5>Darstellung</h5>  <p>Der Formulargenerator kann die Beschreibung verwenden, um auf einer generierten Oberfläche kontextsensitive Hilfe, oder Zusatzinformation zur Verfügung zu stellen (abhängig von der Implementierung).</p></div><h4><a name="article_xddl_include"></a>Element Include</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_include">ELEMENT include</a> (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Datenbankdefinitionen können in mehrere Dateien geteilt und rekursiv eingebunden werden. Zum Beispiel kann das notwendig sein, wenn Sie eine Referenz auf eine Tabelle erstellen möchten, welche an einer anderen Stelle definiert worden ist.</p>  <p>Die Liste der eingebundenen Dateien (Inlcudes) kann entweder Dateinamen, oder Bezeichner enthalten, welche durch die Anwendung zu Dateinamen umgewandelt werden können.<br/> Beachten Sie, dass Sie nur Datenbankdefinitionen einbinden sollten, welche dieselbe Datenquelle (datasource) verwenden.</p>  <h5>Implementierung</h5>  <p>Die Kindknoten der Database-Tags der eingebundenen Dateien sollten in der Reihenfolge ihres Auftretens zum Datenbankknoten der Quelldatei hinzugefügt werden. Die Database-Elemente selbst sollen ignoriert werden. Wenn die eingebundene Datei weitere Dateien einbindet, dann sollten diese rekursiv behandelt werden. Sollte eine Datei mehrfach gelistet sein, so muss sie genau 1 Mal eingebunden werden. Falls eine Datei rekursiv eine weitere einbindet, welche jedoch bereits geladen wurde, so muss diese übersprungen und darf nicht zum zweiten Mal geladen werden. Eingebettete Dateien dürfen keine bereits vorhandenen Objekte redefinieren. z.B. darf eine eingeschlossene Datei nicht eine Tabellendefinition der Quelldatei überschreiben. Wenn ein bereits vorhandenes Element gefunden wird, muss ein Fehler gemeldet werden.</p></div><h4><a name="article_xddl_sequence"></a>Element Sequence</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_sequence">ELEMENT sequence</a> (<a href="#article_xddl_description">description?</a>)  ATTRIBUTE       name        string       start       integer       increment   string       min         integer       max         integer       cycle       bool    </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Zahlenfolge identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>start</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Eine Zahlenfolge (Sequence) fängt immer mit einem Startwert an. Default ist der Minimalwert für aufsteigende, bzw. der Maximalwert für absteigende Zahlenfolgen. <br/> Hinweis: der Startwert muss im Bereich der minimalen und maximalen Zahl liegen.</td>      </tr>      <tr>        <td>increment</td>        <td>string</td>        <td>-</td>        <td>1</td>        <td>Ein Inkrement (oder Schrittweite) spezifiziert die Zahl, welche zur Zahlenfolge addiert wird, zur Berechnung des Nachfolgers ihres aktuellen Wertes.</td>      </tr>      <tr>        <td>min</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Der Minimalwert ist eine Untergrenze für die Werte einer Zahlenfolge. Alle Werte müssen größer oder gleich dem Minimalwert sein. Der Minimalwert kann nicht größer als der Maximalwert sein. Default ist 1 für aufsteigende und PHP_INT_MIN für absteigende Zahlenfolgen.</td>      </tr>      <tr>        <td>max</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Der Maximalwert ist eine Obergrenze für die Werte einer Zahlenfolge. Alle Werte müssen kleiner oder gleich dem Maximalwert sein. Der Maximalwert kann nicht kleiner als der Minimalwert sein. Default ist PHP_INT_MAX für aufsteigende und -1 für absteigende Zahlenfolgen.</td>      </tr>      <tr>        <td>cycle</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Wenn eine Zahlenfolge ein Nummernkreis (cycle) ist und der Wert der Zahlenfolge eine Ober- oder Untergrenze erreicht, so wird diese zurückgesetzt auf den Minimalwert für eine aufsteigende, bzw. den Maximalwert für eine absteigende Zahlenfolge.</td>      </tr>    </table>    <h5>Beschreibung</h5>    <p>Zahlenfolgen (Sequence) sind ganze Zahlen (Integer), in Verbindung mit einer Funktion zur Berechnung des Nachfolgers. Sie erfüllen verschiedene Aufgaben. Gewöhnlich werden sie verwendet, um eindeutige Id's automatisch zu generieren.<br/> Beachten Sie, dass es implizite und explizite Zahlenfolgen gibt. Z.Bsp. wird implizit eine Zahlenfolge erzeugt, wenn eine Tabellenspalte mit der Eigenschaft Autoincrement angelegt wird. Implizite Zahlenfolgen dürfen nicht manuell definiert werden, da diese durch das DBMS selbst angelegt und verwaltet werden.<br/> Beachten Sie auch, dass einige DBMS die Zahl 0 und den Wert NULL als gleich behandeln. Daher sollten Sie darauf achten, KEINE Zahlenfolge zu erzeugen, welche zu irgendeinem Zeitpunkt den Wert 0 annehmen kann. Außerdem können einige Anwendungen den Index 0 für Standardwerte reservieren (z.Bsp. ein Data-Warehouse).</p>    <h5>Implementierung</h5>    <p>Obwohl Zahlenfolgen Teil des SQL-2003 Standards sind, werden sie von den meisten Herstellern nicht unterstützt. Mit Ausnahme von PostgreSQL, wo diese ein bekanntes Feature darstellen. Sie können jedoch für andere DBMS simuliert werden.</p>  </div><h4><a name="article_xddl_initialization"></a>Element Initialization</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_initialization">ELEMENT initialization</a> (#PCDATA)  ATTRIBUTE       dbms        string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>dbms</td>        <td>string</td>        <td>-</td>        <td>generic</td>        <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>SQL-Anweisungen zum Initialisieren der Datenbank, welche ausgeführt werden sollen, direkt nachdem die Datenbankstruktur publiziert wurde. Die Syntax kann entweder allgemein gültig (generic) sein oder DBMS-spezifisch.</p>  <h5>Implementierung</h5>  <p>Die folgenden Werte werden für das DBMS-Attribut vorgeschlagen: 'generic', 'db2', 'dbase', 'frontbase', 'informix', 'interbase', 'msaccess', mssql,'' mysql,'' oracle,'' postgresql,'' sybase,'' sqlite'.</p></div><h3><a name="article_xddl_tables"></a>Tabellen</h3><div class="box">Dieser Abschnitt definiert die Syntax aller erforderlichen Elemente, um die Struktur von Tabellen und damit verwandten Objekten innerhalb einer Datenbank zu beschreiben. Dies beinhaltet Spalten, Constraints, Trigger und Indexes.</div><h4><a name="article_xddl_table"></a>Element Table</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_table">ELEMENT table</a> (<a href="#article_xddl_description">description?</a>, (<a href="#article_xddl_grant">grant</a>* | <a href="#article_xddl_primarykey">primarykey</a> | <a href="#article_xddl_foreign">foreign</a>* | <a href="#article_xddl_trigger">trigger</a>* |                 <a href="#article_xddl_constraint">constraint</a>* | <a href="#article_xddl_declaration">declaration</a> | <a href="#article_xddl_index">index</a>)*)  ATTRIBUTE       name        string       title       string       readonly    bool       inherits    string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name, welcher die Tabelle identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Title ist eine Beschriftung, welche in der Nutzeroberfläche angezeigt werden sollte wenn das Objekt anzeigt wird.<br/> Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>    </tr>    <tr>      <td>readonly</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Sie können die Tabelle auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden.</td>    </tr>    <tr>      <td>inherits</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Name der Elterntabelle.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Ein Tabelle ist eine Reihe von Spaltendefinitionen und Eigenschaften, welche alle Spalten der Tabelle gemeinsam haben, z. Bsp.: Trigger und Indexes.</p>  <h5>Implementierung von Vererbung</h5>  <p>Vererbung hat für Tabellen folgende Bedeutung: eine Kindtabelle AB erweitert die Struktur und Daten einer Elterntabelle A um die Elemente B. Alle Zeilen in AB besitzen sämtliche Spalten definiert in A + sämtliche Spalten aus B.  B bleibt dabei unverändert. Wenn sich die Struktur von A ändert, ändert sich die Struktur von AB ebenso. Jedes Element von AB kann auch als ein Element von A interpretiert werden, aber nicht umgekehrt.<br/> Technisch gesprochen: der Primärschlüssel der Kindtabelle ist ein Fremdschlüssel, der auf den Primärschlüssel der Elterntabelle verweist.<br/> Dies ist ein Unterschied zu PostgreSQL, welches multiple Vererbung mit n Elterntabellen unterstützt - verbunden mit allen Konsequenzen und Problemen, welche dieses Verhalten verursacht.</p></div><h4><a name="article_xddl_grant"></a>Element Grant</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_grant">ELEMENT grant</a> EMPTY  ATTRIBUTE       role        string       user        string       level       integer       select      bool       insert      bool       update      bool       delete      bool       grant       bool  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>role</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Die Rolle die ein Benutzer innerhalb einer Benutzergruppe spielt.</td>      </tr>      <tr>        <td>user</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Die Gruppe zu der ein Benutzer gehört.</td>      </tr>      <tr>        <td>level</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Das Sicherheitslevel ist eine ganze Zahl zwischen 0 und 100. Dies kann als ein Wert von 0-100 Prozent verstanden werden, wobei 0 dem niedrigsten und 100 dem höchsten Zugang entspricht.</td>      </tr>      <tr>        <td>select</td>        <td>bool</td>        <td>-</td>        <td>yes</td>        <td>Gibt Auskunft ob der Nutzer Select-Abfragen auf dem Datenbankobjekt ausführen darf.</td>      </tr>      <tr>        <td>insert</td>        <td>bool</td>        <td>-</td>        <td>yes</td>        <td>Gibt Auskunft ob der Nutzer Insert-Anweisungen auf dem Datenbankobjekt ausführen darf.</td>      </tr>      <tr>        <td>update</td>        <td>bool</td>        <td>-</td>        <td>yes</td>        <td>Gibt Auskunft ob der Nutzer Update-Anweisungen auf dem Datenbankobjekt ausführen darf</td>      </tr>      <tr>        <td>delete</td>        <td>bool</td>        <td>-</td>        <td>yes</td>        <td>Gibt Auskunft ob der Nutzer Delete-Anweisungen auf dem Datenbankobjekt ausführen darf</td>      </tr>      <tr>        <td>grant</td>        <td>bool</td>        <td>-</td>        <td>yes</td>        <td>Gibt Auskunft ob der Nutzer seine Sicherheitsprivilegien vorübergehend anderen Nutzern gewähren darf.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Die Rechteverwaltung bietet 3 Schichten, wovon in diesem Dokument alle optional sind.     Eine Implementierung muss jedoch mindestens eine oder mehrere dieser Möglichkeiten umsetzen.</p>    <dl>     <dt>Nutzergruppen</dt><dd>wie Sales, Human Resources</dd>     <dt>Nutzerrollen</dt><dd>wie der Project Manager</dd>     <dt>Sicherheitslevel</dt><dd>eine ganze Zahl von 0 bis 100</dd>    </dl>    <p>In Analogie zu Datenbanken gibt es auch eine &quot;grant&quot;-Option, welche es Nutzern gestattet, Sicherheitsprivilegien, welche sie besitzen, vorübergehend anderen Nutzern zu gewähren. Folglich kann ein Manager alle seine Rechte auf einen Assistenten übertragen (und dies später widerrufen), während er im Urlaub ist.</p>  <h5>Beispiele</h5>    <p>Sie können festlegen, dass jeder Manager des Bereichs Human Resources mit einem Sicherheitslevel von 50 oder höher, einen neuen Mitarbeiter anlegen und Lohndaten einsehen kann, aber mindestens ein Manager der Gruppe Human Resources mit einem Sicherheitslevel von 80 erforderlich ist, um diese Daten nachträglich zu verändern.</p>    <p>Sie können auch einige der Angaben auslassen, um vielleicht jedem Nutzer mit einem Sicherheitslevel von 1 das Anzeigen eines Katalogformulars zu gestatten, oder allen Mitgliedern der Verkaufsabteilung Zugriff auf Verkaufsdaten zu erlauben.</p>    <p>Sie können genau festlegen, was ein Nutzer tun darf oder auch nicht: select (anzeigen), insert (erstellen), update (editieren), delete (löschen).</p>    <p>Beachten Sie, dass mehrere Grant-Elemente angegeben werden können, um mehrere Alternativen zu definieren.      Z.Bsp. können Nutzer entweder ein Mitglied der Gruppe Sales, oder in der Rolle eines Geschäftsleiters sein, um Verkaufsinformationen abrufen und editieren zu können.</p>  <h5>Implementierung</h5>    <p>Wenn kein Grant-Element vorhanden ist, soll das Element öffentlich sein. Dies bedeutet, dass keine Sicherheitsüberprüfung durchgeführt wird. Wenn mindestens 1 Grant-Element existiert, darf keinem Benutzer erlaubt sein eine Operation auszuführen, sofern kein Grant existiert welcher ihm dies ausdrücklich erlaubt.</p>    <p>Das Yana Framework implementiert zusätzlich zu den genannten Einstellungen ein System von Anwendungsprofilen. Anwendungsprofile können verschiedene Tochtergesellschaften innerhalb Ihrer Firma definieren. Z.Bsp. Europa oder Asien.       Falls Implementierungen, die Verwaltung mehrerer unabhängiger Mandanten auf einer gemeinsamen Installation unterstützen sollen, wird empfohlen ein vergleichbares System zu übernehmen.</p></div><h4><a name="article_xddl_primarykey"></a>Element Primarykey</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_primarykey">ELEMENT primarykey</a> (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Der Primärschlüssel ist der Name einer einzelnen Spalte innerhalb der Tabelle, die eindeutige Werte besitzt und verwendet wird, um jede Zeile innerhalb der Tabelle zu identifizieren.</p>  <h5>Implementierung</h5>  <p>Die Software muss überprüfen, ob die angegebene Spalte existiert. Andernfalls muss ein Fehler gemeldet werden.<br/> Jede Tabelle muss genau 1 Primärschlüssel besitzen. Zusammengesetzte Primärschlüssel (Compound Primary Keys) werden nicht unterstützt.</p></div><h4><a name="article_xddl_declaration"></a>Element Declaration</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_declaration">ELEMENT declaration</a> (<a href="#article_xddl_array">array</a> | <a href="#article_xddl_bool">bool</a> | <a href="#article_xddl_color">color</a> | <a href="#article_xddl_date">date</a> | <a href="#article_xddl_enum">enum</a> | <a href="#article_xddl_file">file</a> | <a href="#article_xddl_float">float</a> |                       <a href="#article_xddl_html">html</a> |<a href="#article_xddl_image">image</a> | <a href="#article_xddl_inet">inet</a> | <a href="#article_xddl_integer">integer</a> | <a href="#article_xddl_list">list</a> | <a href="#article_xddl_mail">mail</a> |                       <a href="#article_xddl_password">password</a> | <a href="#article_xddl_range">range</a> | <a href="#article_xddl_reference">reference</a> | <a href="#article_xddl_set">set</a> | <a href="#article_xddl_string">string</a> | <a href="#article_xddl_text">text</a> |                       <a href="#article_xddl_time">time</a> | <a href="#article_xddl_timestamp">timestamp</a> |<a href="#article_xddl_url">url</a>)*  </pre></div>  <h5>Beschreibung</h5>  <p>Das Declaration-Element ist ein einfacher Container, der mehrere Spaltendefinitionen enthalten kann.</p></div><h4><a name="article_xddl_trigger"></a>Element Trigger</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_trigger">ELEMENT trigger</a> (#PCDATA)  ATTRIBUTE       name        string       dbms        string       on          string       insert      bool       update      bool       delete      bool  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diesen Trigger identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>dbms</td>        <td>string</td>        <td>-</td>        <td>generic</td>        <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>      </tr>      <tr>        <td>on</td>        <td>string</td>        <td>-</td>        <td>before</td>        <td>          <dl>            <dt>before</dt><dd>Wird ausgelöst BEVOR die Anweisung ausgeführt wird.</dd>            <dt>after</dt><dd>Wird ausgelöst NACHDEM die Anweisung oder Transaktion erfolgreich ausgeführt wurde. Es wird nicht ausgelöst, falls die Anweisung einen Fehler verursacht hat.</dd>            <dt>instead</dt><dd>Wird ausgelöst ANSTATT der Anweisung. Die Anweisung selbst wird nicht ausgeführt. Diese Option wird nicht von allen DBMS unterstützt. Allerdings: sie kann bei Bedarf (mit einigen Einschränkungen) unter Verwendung von PHP-Code emuliert werden.</dd>          </dl>        </td>      </tr>      <tr>        <td>insert</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>auslösen bei Insert-Anweisungen</td>      </tr>      <tr>        <td>update</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>auslösen bei Update-Anweisungen</td>      </tr>      <tr>        <td>delete</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>auslösen bei Delete-Anweisungen</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Trigger sind ein Feature von Datenbanksystemen, welches es erlaubt, auf bestimmte Datenbankereignisse mit der Ausführung von Code zu reagieren. Trigger werden durch Insert-, Update- oder Delete-Anweisungen, oder eine Kombination dieser, ausgelöst. Sie werden entweder vor (before), nachdem (after) oder anstatt (instead) der Anweisung ausgeführt. Nach dem Auslösen eines Triggers, wird der angegebene Code durch die Datenbank ausgeführt.</p>  <p>Die Syntax der Implementierung des Triggers hängt jedoch stark vom gewählten DBMS ab. Nicht alle DBMS unterstützen alle Features. Zum Beispiel: unterstützen nicht alle DBMS Trigger, die anstatt (instead) einer Anweisung ausgeführt werden und diese ersetzen.</p>  <p>Beachten Sie, dass ein Trigger eine benutzerdefinierte Funktion impliziert. Einige DBMS verlangen daher, dass diese Funktion explizit erzeugt und für den Trigger nur der Name der Funktion angeben wird. Andere DBMS erlauben, dass Sie den Funktionscode zusammen mit dem Trigger angeben.</p>  <h5>Implementierung</h5>  <p>Wenn ein Trigger eine Funktionalität verwendet, die durch das gewählte DBMS nicht unterstützt wird, wird dieses beim Versuch den Trigger zu erstellen einen Fehler melden. Die Implementierung selbst braucht dies nicht zu prüfen.</p>  <p>Trigger, welche die DBMS-Einstellung &quot;generic&quot; verwenden, müssen emuliert werden. In diesem Fall muss der Code durch die XDDL-kompatible Software, anstatt durch die Datenbank, ausgeführt werden. Die Implementierung kann die erforderliche Syntax für den Code selbst festlegen.  Für diesen Fall wird empfohlen, dass das Attribut Code für derartige Trigger beschränkt wird auf gültige Callbacks (Funktions- oder Methodennamen). Das Yana Framework verlangt, dass das Attribut Code für emulierte Trigger ein gültiger Name einer nutzerdefinierten PHP-Funktion sein muss. Nähere Informationen zu diesem Thema finden Sie auch im Handbuch zur Datenbank-Schnittstelle.</p></div><h4><a name="article_xddl_constraint"></a>Element Constraint</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_constraint">ELEMENT constraint</a> (#PCDATA)  ATTRIBUTE       name        string       dbms        string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diesen Constraint identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>dbms</td>        <td>string</td>        <td>-</td>        <td>generic</td>        <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Ein Constraint ist ein boolescher Ausdruck, der jederzeit erfüllt sein muss, damit die Tabellenzeile gültig ist. Die Datenbank sollte dies sicherstellen. Für Datenbanken, welche dieses Feature nicht haben, kann der DBMS-Typ &quot;generic&quot; gesetzt werden, um dieses zu simulieren.</p>  <h5>Implementierung</h5>  <p>Wenn ein Constraint den DMBS-Typ &quot;generic&quot; verwendet und die XDDL-Implementierung nicht sicherstellen kann, dass die Datenbank das Feature unterstützt, dann muss diese den Constraint anstelle der Datenbank validieren.  Die Implementierung kann die erforderliche Syntax für den Code selbst festlegen. Bei der Simulation dürfen Constraints auf Spalten äquivalent zu Constraints auf Tabellen behandelt werden.  Das Yana Framework verwendet PHP als Sprache zur Definition generischer Constraints.  Es liefert dazu ein assoziatives Array $ROW, welches Kopien der Werte der aktuellen Zeile beinhaltet. Die Schlüssel dieses Arrays entsprechen den Spaltennamen in Kleinbuchstaben.</p></div><h4><a name="article_xddl_bool"></a>Element Bool</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_constraint">ELEMENT bool</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>yes</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>no</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Boolean dürfen zwei Werte annehmen: True und False.</p>  <h5>Implementierung</h5>  <p>Boolesche Werte werden nicht von allen DBMS unterstützt , jedoch können diese durch die Verwendung von Integer-Spalten leicht simuliert werden.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_boolean.png" alt="Checkbox"/></p>  <p> Eingaben vom Typ Boolean werden beim Editieren als  Checkbox repräsentiert. Beim Anzeigen der Spalte, wird eine Grafik  eingefügt, welche den Status des Feldes repräsentiert.</p>  <p>HTML:</p>  <pre class="codeexample">&lt;input type="checkbox" value="true" name="{name}"/&gt;</pre>  <pre class="codeexample">undefined &lt;input type="radio" value="*" name="{name}"/&gt;null &lt;input type="radio" value="true" name="{name}"/&gt;false &lt;input type="radio" value="false" name="{name}"/&gt;</pre>  <pre class="codeexample">&lt;select name="{name}"&gt;&lt;option value="*"&gt;null&lt;/option&gt;&lt;option value="true"&gt;true&lt;/option&gt;&lt;option value="false"&gt;false&lt;/option&gt;&lt;/select&gt;</pre></div><h4><a name="article_xddl_default"></a>Element Default</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_default">ELEMENT default</a> (#PCDATA)  ATTRIBUTE       dbms            string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>dbms</td>        <td>string</td>        <td>-</td>        <td>generic</td>        <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Bei neu erstellten Datensätzen werden Spalten, für welche kein anderer Wert angegeben wurde, automatisch auf den Default-Wert gesetzt.</p>  <h5>Implementierung</h5>  <p>Der Typ des Werts hängt vom Typ der Spalte ab. Der physische Default-Wert hängt zusätzlich auch vom DBMS ab.<br/> Ein gutes Beispiel ist der Datentyp Boolean, der durch PostgreSQL unterstützt wird und dessen physischer Default-Wert daher True oder False ist. Für MySQL wird diese Spalte jedoch als TinyInt gespeichert, mit den Default-Werden 1 oder 0.<br/> Jedoch sind die DBMS-unabhängigen (generic) Default-Werte True oder False. Die Implementierung muss diese Werte automatisch umwandeln.</p></div><h4><a name="article_xddl_color"></a>Element Color</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_color">ELEMENT color</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>no</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Color enthalten einen Farbwert in Hexadezimalschreibweise mit führendem '#'-Zeichen.     Beispiel: #F0F0F0.</p>  <h5>Implementierung</h5>  <p>Diese Spalten können als Texte mit einer Länge 7 Zeichen umgesetzt werden.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_color.png" alt="colorpicker"/></p>  <p> Die Darstellung sollte als Input-Steuerelement erfolgen. Zusätzlich kann eine Eingabehilfe für Nutzer implementiert werden. </p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="color" {required="notnull"} value="{default}" name="{name}"/&gt;</pre></div><h4><a name="article_xddl_integer"></a>Element Integer</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_integer">ELEMENT integer</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       autoincrement   bool       unsigned        bool       fixed           bool       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>autoincrement</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Autoincrement ist ein MySQL-Feature, welches jedoch für andere DBMS emuliert werden kann. Es kann jedoch nur auf Spalten vom Typ Integer angewendet werden. Sie sollten beachten, dass die Benutzereingabe Vorrang vor dem AutoIncrement hat, welches lediglich einen Default-Wert darstellt.</td>      </tr>      <tr>        <td>unsigned</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Zahl ohne Vorzeichen muss stets ein positiver Wert sein. Das bedeutet, jeder Wert kleiner als 0 ist ungültig. Eine Implementierung muss einen Fehler melden, wenn für eine vorzeichenlose Spalte ein negativer Wert gegeben wird. (Beachten Sie, dass MySQL automatisch und ohne Warnung einen negativen Wert durch 0 ersetzt.)</td>      </tr>      <tr>        <td>fixed</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Setzt die Eigenschaft &quot;zerofill&quot; für MySQL. Für Zahlen fester Länge muss der Wert stets auf die definierte volle Anzahl an Ziffern erweitert werden, indem führende Nullen ergänzt werden. Falls das Attribut length nicht gesetzt ist, muss das Attribut fixed ignoriert werden.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Ziffern.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>no</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Integer können jede ganze Zahl enthalten, die durch die Datenbank und Programmiersprache angezeigt werden kann.</p>  <h5>Implementierung</h5>  <p>Die oberen und unteren Grenzen für Zahlenwerte hängen vom Typ des Systems ab. Im Allgemeinen: liegen auf 32-Bit-System die darstellbaren Zahlen im Bereich [-2^31, 2^31]. Für 64-Bit-Systeme können die Zahlen größer sein[-2^63, 2^63]. Allerdings nur, wenn sämtliche verwendete Software 64-Bit integer-Werte unterstützt.</p>  <p>Beachten Sie! 64-bit-und 32-Bit- Anwendungen müssen nicht kompatibel sein. Besonders, wenn Sie einen 64-Bit-Datenbankserver mit einer 32-Bit-Anwendung oder umgekehrt verwenden. Seien Sie gewarnt, dass ein Zahlenüberlauf oder -unterlauf auftreten kann, wenn eine große 64-Bit in eine kleine 32-Bit Zahl umgewandelt wird. Beachten Sie, dass das für Datums- und Zeitangaben ebenso gilt!</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_string.png" alt="Input"/></p>  <p>Einzeilige Texte und Zahlen werden beim Editieren der     Spalte als Inputfeld dargestellt. Ist die Spalte nicht editierbar, wird     der Inhalt als Textzeile dargestellt.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="number" step="1" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_float"></a>Element Float</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_float">ELEMENT float</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       unsigned        bool       length          integer       precision       integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>unsigned</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Zahl ohne Vorzeichen muss stets ein positiver Wert sein. Das bedeutet, jeder Wert kleiner als 0 ist ungültig. Eine Implementierung muss einen Fehler melden, wenn für eine vorzeichenlose Spalte ein negativer Wert gegeben wird. (Beachten Sie, dass MySQL automatisch und ohne Warnung einen negativen Wert durch 0 ersetzt.)</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Ziffern.</td>      </tr>      <tr>        <td>precision</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Definiert die Länge der Nachkommastellen. Wenn vorhanden, muss das Attribut length ebenfalls gesetzt sein. Die maximale vollen Stellen ist: length - precision. Beachten Sie, dass der Wert precision nicht größer sein darf als das Attribut length.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>no</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Float können jede Zahl enthalten, die durch die Datenbank und Programmiersprache angezeigt werden kann. Dabei kann es sich entweder um ganze Zahlen, Fließkommazahlen, oder Festpunktzahlen (mit fester Anzahl Nachkommastellen) handeln.</p>  <h5>Implementierung</h5>  <p>Die oberen und unteren Grenzen für Werte hängen vom Typ des Systems ab. Beachten Sie, dass für Fließkommazahlen die &quot;maximale Länge&quot; die maximale Anzahl an Ziffern, inklusive der gebrochenen Stellen, meint. Daher werden Sie für sehr große oder sehr kleine Zahlen Genauigkeit verlieren. Für Festkommazahlen werden Maximum und Minimum um die Anzahl der für die Darstellung der Nachkommastellen reservierten Dezimalstellen reduziert.</p>  <p>Beachten Sie! 64-bit-und 32-Bit- Anwendungen müssen nicht kompatibel sein. Besonders, wenn Sie einen 64-Bit-Datenbankserver mit einer 32-Bit-Anwendung oder umgekehrt verwenden. Seien Sie gewarnt, dass ein Zahlenüberlauf oder -unterlauf auftreten kann, wenn eine große 64-Bit in eine kleine 32-Bit Zahl umgewandelt wird. Beachten Sie, dass das für Datums- und Zeitangaben ebenso gilt!</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_string.png" alt="Input"/></p>  <p>Einzeilige Texte und Zahlen werden beim Editieren der     Spalte als Inputfeld dargestellt. Ist die Spalte nicht editierbar, wird     der Inhalt als Textzeile dargestellt.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="number" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_range"></a>Element Range</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_range">ELEMENT range</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       min             float       max             float       step            float       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>min</td>        <td>float</td>        <td>ja</td>        <td>-</td>        <td>Kleinster erlaubter Wert.</td>      </tr>      <tr>        <td>max</td>        <td>float</td>        <td>ja</td>        <td>-</td>        <td>Größter erlaubter Wert.</td>      </tr>      <tr>        <td>step</td>        <td>float</td>        <td>-</td>        <td>1.0</td>        <td>Minimale Schrittweite.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Range können jede Zahl enthalten, die durch die Datenbank und Programmiersprache angezeigt werden kann. Dabei kann es sich entweder um ganze Zahlen, Fließkommazahlen, oder Festpunktzahlen (mit fester Anzahl Nachkommastellen) handeln.</p>  <h5>Implementierung</h5>  <p>Dieser Typ muss analog zu Spalten vom Typ Float behandelt werden. Die Angabe der Attribute "min" und "max" impliziert einen oder mehrere Constraints.     Der Wert der Spalte darf nicht kleiner als "min" und nicht größer als "max" sein.     Das Attribut "max" darf nicht kleiner als "min" sein.     Die Spalte muss mindestens 2 gültige Werte erlauben.     Das heißt: "min" + "step" muss kleiner oder gleich "max" sein.     Der Wert "max" - "min" sollte ein Vielfaches von "step" betragen.     Der Wert "step" darf nicht negativ sein.</p>  <h5>Darstellung</h5>  <p>Dargestellt werden Zahlen dieses Typs als horizontaler Schieberegler ("imprecise number-input control").     Die Wahl der genauen Umsetzung darf dem Client vorbehalten werden.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="range" {required="notnull"} min="{min}" max="{max}" step="{step}" name="{name}"/&gt;</pre></div><h4><a name="article_xddl_string"></a>Element String</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_string">ELEMENT string</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Zeichen.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ String können eine einzelne Linie Text enthalten.</p>  <h5>Implementierung</h5>  <p>Beachten Sie, dass String-Werte keine Zeilenumbrüche enthalten dürfen. Dabei handelt es sich um die Zeichen \f, \r und \n. Aus Sicherheitsgründen dürfen Werte das Zeichen \#0 nicht enthalten.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_string.png" alt="Input"/></p>  <p>Einzeilige Texte und Zahlen werden beim Editieren der     Spalte als Inputfeld dargestellt. Ist die Spalte nicht editierbar, wird     der Inhalt als Textzeile dargestellt.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="text" maxlength="{length}" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_mail"></a>Element Mail</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_mail">ELEMENT mail</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Zeichen.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Mail können jede gültige E.-Mailadresse enthalten.</p>  <h5>Implementierung</h5>  <p>Mails werden als Werte vom Typ String implementiert. Die Syntax von E.-Mailadressen wird in <a href="http://www.ietf.org/rfc/rfc0822.txt">RFC 822</a> spezifiziert.  Für PHP-Implementierungen wird zur Validierung von E.-Mailadressen folgender Code empfohlen: filter_var($email, FILTER_VALIDATE_EMAIL) === true. Andere Implementierungen können den folgenden regulären Ausdruck verwenden: [\w\d-_\.]{1,}\@[\w\d-_\.]{2,}\.[\w\d-_\.]{2,}.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_mail2.png" alt="HTML-Code"/></p>  <p>Beim Editieren wird die Spalte als Inputfeld dargestellt. Dies ist identisch zur Darstellung eines Strings.</p>  <p>Eingaben vom Datentyp &quot;mail&quot; sollten bei der Darstellung im Browser automatisch verschlüsselt werden,    um Datendiebstahl zu erschweren. Dies gilt grundsätzlich für alle angezeigten E.-Mailadressen.    Die Umsetzung erfolgt im Yana Framework automatisch in der Darstellungsschicht.    Eingriffe von Hand sich nicht erforderlich.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="email" maxlength="{length}" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_url"></a>Element Url</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_url">ELEMENT url</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Zeichen.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ URL entsprechen dem Typ &quot;String&quot;, mit dem Unterschied,     dass geprüft wird ob die Eingabe eine syntaktisch korrekte URL ist.</p>  <h5>Implementierung</h5>  <p>URLs werde als Werte vom Typ String implementiert. Die Syntax von URIs ist in <a href="http://tools.ietf.org/html/rfc3986">RFC 3986</a> spezifiziert. Für PHP-Implementierungen wird zur Validierung folgender Code empfohlen: filter_var($url, FILTER_VALIDATE_URL) === true.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_url.png" alt="Input"/></p>  <p>Einzeilige Texte und Zahlen werden beim Editieren der    Spalte als Inputfeld dargestellt. Ist die Spalte nicht editierbar, wird    der Inhalt als Textzeile dargestellt.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="url" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_password"></a>Element Password</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_password">ELEMENT password</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Eine Spalte vom Typ Password wird verwendet, um verschlüsselte Passwörter zu verwalten.</p>  <h5>Implementierung</h5>  <p>Passwörter sind Hashwerte. Die Werte müssen aus der Nutzereingabe mit einem Hash-Algorithmus, wie MD5, berechnet werden. Passwörter dürfen nicht als Klartext gespeichert sein.</p>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_password.png" alt="Password"/></p>  <p>Passwörter werden nicht als Text angezeigt, sondern als Input-Element vom Typ &quot;password&quot;.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="password" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_inet"></a>Element Inet</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_inet">ELEMENT inet</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Inet bieten die Möglichkeit, automatisch die IP-Adresse des Nutzers zu speichern.</p>  <h5>Implementierung</h5>  <p>Spalten vom Typ Inet werden als Werte vom Typ String implementiert. Die Implementierung muss IPv4 und IPv6 unterstützen. Die Syntax von IPv6 wird in <a href="http://tools.ietf.org/html/rfc2460">RFC 2460</a> spezifiziert.</p>  <p>Für PHP-Implementierungen wird zur Validierung folgender Code empfohlen: filter_var($inet, FILTER_VALIDATE_IP) === true. Andere Implementierungen können die folgenden regulären Ausdrücke verwenden:</p>  <dl>     <dt>IPv4:</dt><dd>\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}</dd>     <dt>IPv6:</dt><dd>[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}:[a-f0-9]{1,4}</dd>  </dl>  <h5>Darstellung</h5>  <p> <img src="data/abb_type_inet.png" alt="Input"/></p>  <p>In der Regel werden Spalten dieses Typs nicht als editierbar markiert.     Falls doch, wird ein Inputfeld angezeigt.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="text" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_text"></a>Element Text</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_text">ELEMENT text</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Zeichen.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Text können mehrere Textzeilen enthalten. Ihre Länge ist nicht begrenzt.</p>  <h5>Implementierung</h5>  <p>Beachten Sie, dass die Länge aus technischen Gründen beschränkt sein kann. Der physische Datentyp hängt vom gewählten DBMS ab. Darüber hinaus kann das DBMS das Erstellen eines Index auf einer Textspalte verweigern, oder einen Volltextindex mit spezifischen Eigenschaften erstellen.</p>  <p>Aus Sicherheitsgründen dürfen Werte das Zeichen \#0 nicht enthalten.</p>  <p>Alle für HTML reservierten Zeichen müssen maskiert werden. Zusätzlich kann die Implementierung Ein- und Ausgabefilter definieren. Diese können zum Beispiel verwendet werden, um Smilies umzuwandeln und/oder Spam und Floods zu unterbinden.</p>  <p>Zum Beispiel implementiert, das Yana Framework  mehrere Filter, um offensichtlichen Vandalismus zu verhindern.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_text.png" alt="Textarea"/></p>  <p>Mehrzeilige Texte werden beim Editieren als Textareafelder dargestellt.    Ist die Spalte nicht editierbar, wird der Inhalt als Fließtext dargestellt.    Bei zu langen Texten werden Scrollbalken erzeugt (CSS: &quot;overflow: auto&quot;).</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;textarea maxlength="{length}" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_html"></a>Element Html</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_html">ELEMENT html</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       length          integer       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Zahl an Zeichen.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ HTML können mehrere Zeilen Hypertext im XHTML-Format enthalten.</p>  <h5>Implementierung</h5>  <p>Sie sollten bedenken, dass Hypertext Tags und Entitäten enthalten kann. Die Bestimmung der wahren Länge eines solchen Textes kann heikel sein. </p>  <p>Es dürfen keine Dateien (wie zum Beispiel Grafiken) an den HTML-Inhalt angehängt oder eingebettet werden. Jedoch darf die Spalte einen Tag enthalten, welcher auf eine Datei verweist, welche an anderer Stelle gespeichert ist.</p>  <p>Aus Sicherheitsgründen dürfen Werte das Zeichen \#0 nicht enthalten.</p>  <p>Zusätzlich kann die Implementierung Ein- und Ausgabefilter definieren. Zum Beispiel um XSS-Angriffe und Vandalismus zu verhindern.</p>  <h5>Darstellung</h5>  <p>Um HTML-Spalten zu editieren, kann die Implementierung einen eingebetteten HTML-Editor verwenden. Eigenschaften und Verhalten dieses Editors sind nicht spezifiziert. Für die Ausgabe müssen HTML-Spalten als interpretierter Hypertext, gemäß den Anforderungen des XHTML 1.0 Standards, oder eines Nachfolgers dieses Standards (z.Bsp. HTML 5), dargestellt werden.</p></div><h4><a name="article_xddl_date"></a>Element Date</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_date">ELEMENT date</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Date werden verwendet, um ein Datum ohne Zeit, oder Zeitzone zu verwalten.</p>  <h5>Implementierung</h5>  <p>Der physische Datentyp hängt vom gewählten DBMS ab. Für DBMS, welche diesen Typ nicht unterstützten, kann dies über den Typ Integer simuliert werden. </p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_date.png" alt="Select"/></p>  <p>Beim Editieren können Selectboxen angezeigt werden, welche die Eingabe erleichtern.</p>  <p>Eingaben werden als Text dargestellt.     Die Darstellung kann je nach gewählter Landessprache abweichen.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="date" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_time"></a>Element Time</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_time">ELEMENT time</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Time werden verwendet, um ein Datum mit Zeit und Zeitzone zu verwalten.</p>  <h5>Implementierung</h5>  <p>Der physische Datentyp hängt vom gewählten DBMS ab. Für DBMS, welche diesen Typ nicht unterstützten, kann dies über den Typ Integer simuliert werden. </p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_time.png" alt="Select"/></p>  <p>Beim Editieren können Selectboxen angezeigt werden, welche die Eingabe erleichtern.</p>  <p>Eingaben werden als Text dargestellt.     Die Darstellung kann je nach gewählter Landessprache und Zeitzone abweichen.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="datetime" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_timestamp"></a>Element Timestamp</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_timestamp">ELEMENT timestamp</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Timestamp werden verwendet, um ein Datum mit Zeit in <abbr title="Universal Time Coordinated (koordinierte Weltzeit)">UTC</abbr> zu verwalten.</p>  <p>Dieser Typ ist identisch zu Time, abgesehen von der technischen Umsetzung.</p>  <h5>Implementierung</h5>  <p>Der physische Datentyp hängt vom gewählten DBMS ab. Gewöhnlich wird der Wert als ganze Zahl gespeichert und zurückgegeben.</p>  <p>Beachten Sie, dass es bei einigen Betriebssystemen Probleme mit negativen Zeitstempeln geben kann, beispielsweise auf älteren Win32-Systemen.</p>  <p>Achten Sie darauf, nicht den Wert 0 (1.1.1970) mit NULL (undefiniert) zu verwechseln.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_time.png" alt="Select"/></p>  <p>Beim Editieren können Selectboxen angezeigt werden, welche die Eingabe erleichtern.</p>  <p>Eingaben werden als Text dargestellt.     Die Darstellung kann je nach gewählter Landessprache und Zeitzone abweichen.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;input type="datetime-local" {required="notnull"} name="{name}"/&gt;</pre></div><h4><a name="article_xddl_enum"></a>Element Enum</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_enum">ELEMENT enum</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*, <a href="#article_xddl_option">option</a>+)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Der Datentyp Enum ist ein &quot;Aufzählungstyp&quot; (Enumeration).    Der Liste der gültigen Werte kann über Option-Elemente vorgeben werden.</p>  <p>Beachten Sie, dass der Default-Wert (falls angegeben) ein gültiges Element des Aufzählungstyps sein muss.</p>  <h5>Implementierung</h5>  <p>Aufzählungstypen werden als Texte gespeichert. Der Wert entspricht dem Attribut value der gewählten Option.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_enum.png" alt="Select"/></p>  <p>Beim Editieren wird eine Select-Box erzeugt.     Alternativ können Radio-Buttons verwendet werden.     Die Elemente entsprechen den Option-Elementen des Tags.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;select name="{name}"&gt;&lt;option value=""&gt;null&lt;/option&gt;&lt;option value="1"&gt;1&lt;/option&gt;&lt;option value="2"&gt;2&lt;/option&gt;...&lt;option value="n"&gt;n&lt;/option&gt;&lt;/select&gt;</pre></div><h4><a name="article_xddl_option"></a>Element Option</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_option">ELEMENT option</a> (#PCDATA)  ATTRIBUTE       value        string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>value</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Text oder Integer-Wert für diese Option.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Eine Option entspricht einem gültigen Element eines Aufzählungstyps. Diese hat eine Beschreibung als Text (pcdata) und einen Wert. Nur der Wert wird in der Datenbank gespeichert. Die Beschreibung (pcdata) wird nur in der Nutzeroberfläche (anstatt des Werts) angezeigt.</p>  <p>Die Beschreibung stellt die Option in lesbarem Text dar. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</p>  <p>Wenn ein für den Aufzählungstyp ungültiger oder undefinierter Wert in der Datenbank gefunden wird, muss in der Nutzeroberfläche genau der gespeicherte Wert anzeigt werden, ohne diesen umzuwandeln. Die Implementierung kann zusätzlich einen Fehler melden.</p></div><h4><a name="article_xddl_set"></a>Element Set</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_enum">ELEMENT set</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*, <a href="#article_xddl_option">option</a>+)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Der Datentyp &quot;set&quot; entspricht dem Typ &quot;enum&quot;, gestattet es jedoch, mehrere Werte auszuwählen.</p>  <p>Beachten Sie, dass der Default-Wert (falls angegeben) ein gültiges Element des Aufzählungstyps sein muss.</p>  <h5>Implementierung</h5>  <p>Der physische Datentyp hängt vom gewählten DBMS ab. Einige DBMS bieten eine native Unterstützung für diesen Typ. Diese sollte verwenden werden, wenn sie verfügbar ist. Andernfalls können die Eingaben als durch Kommata getrennte Texte gespeichert werden. Die Werte entsprechen den Werten der gewählten Optionen.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_set.png" alt="Checkbox"/></p>  <p>Beim Editieren wird eine Liste von Checkboxes erzeugt.     Alternativ kann eine Select-Box verwendet werden, welche die Auswahl mehrerer Optionen gestattet.     In beiden Fällen entsprechen die Werte und Beschriftungen den Option-Elementen des Tags.</p>  <p>HTML5:</p>  <pre class="codeexample">&lt;label&gt;&lt;input type="checkbox" name="{name}[]" value="1"&gt; 1 &lt;/label&gt;&lt;label&gt;&lt;input type="checkbox" name="{name}[]" value="2"&gt; 2 &lt;/label&gt;...&lt;label&gt;&lt;input type="checkbox" name="{name}[]" value="n"&gt; n &lt;/label&gt;</pre>  <pre class="codeexample">&lt;select multiple="multiple" name="{name}"&gt;&lt;option value=""&gt;null&lt;/option&gt;&lt;option value="1"&gt;1&lt;/option&gt;&lt;option value="2"&gt;2&lt;/option&gt;...&lt;option value="n"&gt;n&lt;/option&gt;&lt;/select&gt;</pre></div><h4><a name="article_xddl_list"></a>Element List</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_list">ELEMENT list</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ List sind numerische Arrays die als Werte Zeichenketten enthalten.</p>  <h5>Implementierung</h5>  <p>PostgreSQL bietet native Unterstützung für Arrays. Für andere DBMS muss dieses Feature simuliert werden.  Dies kann implementiert werden, indem die Werte als serialisierte Zeichenfolge oder durch Kommata getrennte Aufzählung der Elemente gespeichert werden. Diese Zeichenfolge sollte, wenn sie geladen wird, deserialisiert, und als Array zurückgegeben werden.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_list.png" alt="Select"/></p>  <p>Listen werden beim Editieren als Liste von Inputelementen dargestellt.     Es wird zusätzlich ein Steuerelement zum Entfernen und Hinzufügen von Einträgen angezeigt.</p>  <p>Ist das Element nicht editierbar, so werden seine Elemente als Liste aufgezählt.</p>  <p>Die Listendarstellungen <b>können</b> nummeriert sein.</p></div><h4><a name="article_xddl_array"></a>Element Array</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_array">ELEMENT array</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Eine Spalte vom Typ Array ist (möglicherweise mehrdimensionales) Array von Zeichenfolgen.</p>  <h5>Implementierung</h5>  <p>Für die meisten DBMS muss dieses Feature simuliert werden.  Dies kann implementiert werden, indem die Werte als serialisierte Zeichenfolge gespeichert werden.  Diese Zeichenfolge sollte, wenn sie geladen wird, deserialisiert, und als Array zurückgegeben werden.  Für diesen Fall wird empfohlen, die Zeichenfolge in JSON zu kodieren.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_array.png" alt="Array"/></p>  <p>Arrays werden beim Editieren als Paare von Schlüsseln und Werten dargestellt.     Es wird zusätzlich ein Steuerelement zum Entfernen und Hinzufügen von Einträgen angezeigt.</p>  <p>Ist das Element nicht editierbar, so werden seine Elemente als mehrdimensionale Listen aufgezählt.     Schlüssel und Werte werden optisch voneinander getrennt dargestellt.     Die Darstellung <b>kann</b> als aufklappbares Baummenü erfolgen.</p></div><h4><a name="article_xddl_file"></a>Element File</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_file">ELEMENT file</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       notnull         bool       maxsize         integer       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>maxsize</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Größe der Datei in Bytes.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Der Datentyp &quot;file&quot; dient dem Speichern von Dateien (&quot;binary large objects&quot;).</p>  <h5>Implementierung</h5>  <p>Die Dateien selbst sollten nach dem Upload aus Gründen der besseren Performance im Dateisystem verbleiben.    Um Speicherplatz zu sparen, kann eine Komprimierung (z.Bsp. GZip) verwendet werden.    Die Komprimierung sorgt außerdem dafür, dass die auf dem Server    gespeicherten Dateien nicht ausführbar sind und ein potentieller    Angreifer den Upload nicht missbrauchen kann, um Schadcode zu übertragen.</p>  <p>Die Datei sollte aus Sicherheitsgründen so abgespeichert werden, dass diese für den Client nicht direkt abrufbar ist.    Beim Download der Datei sollte diese automatisch entpackt werden, so    dass der Nutzer keine Nachteile aus der Komprimierung erfährt und auch    kein Dekomprimierungsprogramm installiert haben muss.    Um trotzdem einen schnelleren Download zu gewährleisten, können die Daten, falls der    Browser des Nutzers diese Funktionalität anbietet, automatisch als komprimierter Datenstrom    übertragen werden. Der Browser übernimmt das Entpacken selbstständig.    Ein Eingreifen von Hand ist nicht erforderlich.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_file.png" alt="Array"/></p>  <p>Beim Editieren wird ein Uploadfeld zum Hochladen einer neuen Datei und    ein Link für den Download der aktuell gespeicherten Datei angezeigt.    Die Implementierung kann für Dateien deren Mime-Type bekannt ist eine Vorschau anbieten.</p></div><h4><a name="article_xddl_image"></a>Element Image</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_image">ELEMENT image</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*)  ATTRIBUTE       name            string       notnull         bool       width           integer       height          integer       ratio           bool       background      string       maxsize         integer       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>width</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die Breite des Bildes in Pixel</td>      </tr>      <tr>        <td>height</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die Höhe des Bildes in Pixel</td>      </tr>      <tr>        <td>ratio</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Betrifft nur den Prozess des Anpassens der Größe von Bildern, für welche die Attribute height und width angegeben sind. In allen anderen Situationen muss das Attribut ignoriert werden. Hat dieses Attribut den Wert &quot;yes&quot;, muss das Seitenverhältnis des Bildes bei der Veränderung der Größe beibehalten werden. Hat es den Wert &quot;no&quot;, muss das Bild auf die angegebene Größe gestreckt oder gestaucht werden.</td>      </tr>      <tr>        <td>background</td>        <td>hex-value</td>        <td>-</td>        <td>-</td>        <td>Betrifft nur den Prozess des Anpassens der Größe von Bildern, für welche das Attribut ratio auf &quot;yes&quot; gesetzt ist und die Attribute height und width angegeben sind. In diesem Fall können Sie die Hintergrundfarbe angeben. In allen anderen Situationen muss das Attribut ignoriert werden. Der Wert muss ein hexadezimaler Farbwert sein. Beispiel: #f0a080</td>      </tr>      <tr>        <td>maxsize</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>Die maximale Größe des Bildes in Bytes.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten des Typs Image sind Dateien (binary large objects).     Diese müssen eine Grafik eines unterstützten Typs sein und sollten auf der Nutzeroberfläche als Bild angezeigt werden können.</p>  <h5>Implementierung</h5>  <p>Die Grafikdatei muss beim Upload automatisch geprüft und gegebenenfalls angepasst werden.     Sollte die gegebene Datei keine gültige Grafik sein, muss die Implementierung einen Fehler melden.     Die Anpassung der Grafik muss gemäß den Attributen &quot;width&quot;, &quot;height&quot;, &quot;ratio&quot; und &quot;background&quot; erfolgen.     Die Größe der Grafik wird auf die angegebene Höhe und Breite angepasst.     Falls das Attribut &quot;ratio&quot; auf &quot;no&quot; gesetzt ist und Breite und Höhe gegeben sind, so erfolgt     eine asymmetrische Anpassung der Bildgröße auf exakt die angegeben Werte.     Andernfalls wird das Bild in Höhe und/oder Breite so angepasst, dass die Bildsymmetrie (also das Seitenverhältnis) erhalten bleibt.     Sollte durch diese Änderung ein leerer Teil der Canvas entstehen, so wird dieser Teil mit einer Hintergrundfarbe gefüllt.     Die Hintergrundfarbe wird über das Attribut &quot;background&quot; angegeben.     Sollte keine Hintergrundfarbe gegeben sein, so kann die Software selbstständig entscheiden, welche Farbe verwendet wird.</p>  <p>Beachten Sie: nicht alle Grafiken sind geeignet für die Darstellung in einem Browser.     Zum Beispiel haben typischerweise viele Browser (und andere Programme) Probleme mit der Darstellung     von Grafiken, welche CMYK-kodierte Farben verwenden.</p>  <p>Grafikdateien sollten aus Gründen der Performance außerhalb der Datenbank gespeichert werden.     Eine Komprimierung von Bitmapgrafiken ist in der Regel nicht sinnvoll und sollte vermieden werden.</p>  <p>Eine Liste der gültigen Grafikformate und/oder Regeln für deren Interpretation werden in diesem Dokument nicht spezifiziert.     Die Behandlung von Vektorgrafiken wird in diesem Dokument nicht spezifiziert.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_image.png" alt="Uploadfeld"/></p>  <p> Spalten vom Datentyp Image werden als Vorschau (Thumbnail) mit    einem Uploadfeld zum Einfügen oder Ersetzen der gespeicherten Grafik dargestellt.    Beim Klick auf das Thumbnail sollte die vollständige Grafik angezeigt werden.    Für die Erstellung der Vorschau sollte die Implementierung ebenfalls die Attribute ratio und background berücksichtigen.</p></div><h4><a name="article_xddl_reference"></a>Element Reference</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_reference">ELEMENT reference</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_constraint">constraint</a>*, <a href="#article_xddl_default">default</a>*)  ATTRIBUTE       name            string       table           string       column          string       label           string       notnull         bool       unique          bool       readonly        bool       title           string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diese Spalte identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>table</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Name der Zieltabelle.</td>      </tr>      <tr>        <td>column</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Der Name der Zielspalte, welche die Werte der Referenz enthält (Werte müssen eindeutig sein).  Die Werte in in dieser Spalte werden als Wert der Referenz gespeichert.</td>      </tr>      <tr>        <td>label</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Der Name einer Zielspalte, welche die Beschriftungen enthält (Werte sollten eindeutig sein). Die Spalte sollte eine lesbare Beschreibung enthalten, welche dem User angezeigt wird.</td>      </tr>      <tr>        <td>notnull</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Eine Spalte, die mit not-null definiert ist, darf keine undefinierten (NULL-)Werte enthalten.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Constraint bedeutet , dass die Spalte keinen Wert mehrfach enthalten darf. Beachten Sie, dass ein Unique-Constraint technisch einen Unique-Index auf dieser Spalte impliziert und umgekehrt.</td>      </tr>      <tr>        <td>readonly</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Sie können die Spalte auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Hinweis: Zeilen können weiterhin hinzugefügt oder gelöscht werden, jedoch darf die Spalte nicht aktualisiert werden.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein Text welcher in der Nutzeroberfläche zur Beschriftung des mit der Spalte verbundenen Steuerelementes verwendet werden kann. Beachten sie, dass der Text ein Platzhalter sein darf, welcher für die angezeigte Sprache übersetzt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Spalten vom Typ Reference werden verwendet um Fremdschlüssel zu repräsentieren. Der echte Typ der Spalte hängt vom Typ der Zielspalte ab.</p>  <h5>Implementierung</h5>  <p>Eine Referenz impliziert nicht automatisch einen Foreign-Key-Constraint.</p>  <p>Nur der Wert wird in der Datenbank gespeichert. Der physische Typ und die Eigenschaften der Spalte werden daher von der in die Zielspalte geerbt. Wenn der physische Typ der Zielspalte sich ändert, muss sich der physische Typ der Referenzspalte auch ändern. Wenn die Zielspalte keinen passenden Typ hat, muss die Implementierung einen Fehler melden.</p>  <h5>Darstellung</h5>  <p><img src="data/abb_type_reference.png" alt="Selectbox"/></p>  <p>Beim Editieren wird eine Select-Box erzeugt.    Das Menü wird mit den Einträgen der verlinkten Tabelle aufgefüllt.    Die Beschriftungen werden aus der Spalte &quot;label&quot; und die Werte aus der Spalte &quot;column&quot; in der Zieltabelle entnommen.</p></div><h4><a name="article_xddl_foreign"></a>Element Foreign</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_foreign">ELEMENT foreign</a> (<a href="#article_xddl_key">key</a>+)  ATTRIBUTE       name            string       table           string       match           string       ondelete        string       onupdate        string       deferrable      bool  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diesen Foreign-Key-Constraint identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>table</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Name der Zieltabelle.</td>      </tr>      <tr>        <td>match</td>        <td>string</td>        <td>-</td>        <td>simple</td>        <td> full | partial | simple </td>      </tr>      <tr>        <td>ondelete</td>        <td>string</td>        <td>-</td>        <td>no-action</td>        <td> no-action | restrict | cascade | set-null | set-default </td>      </tr>      <tr>        <td>onupdate</td>        <td>string</td>        <td>-</td>        <td>no-action</td>        <td> no-action | restrict | cascade | set-null | set-default </td>      </tr>      <tr>        <td>deferrable</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Deferrable bedeutet, dass der DBS bis zum Ende der Transaktion warten sollte, bevor hinzugefügte oder aktualisierte Fremdschlüssel geprüft werden. <br/> Das wird in Situationen verwendet, in denen Daten innerhalb einer Transaktion sowohl in die Eltern- als auch in die Kindtabelle eingefügt werden, oder wenn kreisförmige Referenzen erzeugt werden (sofern das DBMS dies unterstützt).</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Fremdschlüssel dienen dazu, referentielle Integrität zwischen Tabellen zu gewährleisten. Dieses Feature wird nicht von allen DBMS unterstützt. Die Implementierung kann dieses Feature emulieren.</p>  <p>Jeder Fremdschlüssel besteht aus mindestens einer Quelle und einem Ziel. Beachten Sie, dass die Datentypen der Quellspalten eines Fremdschlüssels von den Datentypen der Zielspalten abhängen. Spalten, welche einen Fremdschlüssel enthalten, sollten als Typ &quot;reference&quot; definiert werden. In diesem Fall muss die Implementierung den korrekten Datentyp automatisch festlegen.</p>  <p>Die Attribute &quot;ondelete&quot; und  &quot;onupdate&quot; definieren, wie das DBMS auf eine Änderung der Referenz reagieren soll.</p>  <dl>    <dt> no-action </dt>      <dd>Die Referenz in der Kindtabelle darf nicht auf einen Wert gesetzt werden, den keine Zeile in der Elterntabelle entspricht.</dd>    <dt> restrict </dt>      <dd>Der Wert eines Schlüssels in der Elterntabelle darf nicht verändert werden, falls noch eine Referenz auf diesen Wert existiert.</dd>    <dt> cascade </dt>      <dd>Wenn der Schlüssel in der Elterntabelle gelöscht oder aktualisiert wird, werden alle darauf verweisenden Spalten in der Kindtabelle auch aktualisiert oder gelöscht.</dd>    <dt> set-null </dt>      <dd>Wenn der Schlüssel in der Elterntabelle sich ändert, wird der Wert der Referenz auf NULL gesetzt.</dd>    <dt> set-default </dt>      <dd>Wenn der Schlüssel in der Elterntabelle sich ändert, wird der Wert der Referenz auf den Default-Wert zurückgesetzt.</dd>  </dl>  <p>Das Attribut &quot;match&quot; definiert, wann das DBMS die referentielle Integrität als erfüllt betrachten soll. Dies betrifft nur zusammengesetzte Fremdschlüssel, welche mehrere Spalten verwenden.</p>  <dl>    <dt> full </dt>      <dd>Alle Spalten müssen die Bedingung erfüllen.</dd>    <dt> partial </dt>      <dd>Mindestens eine Spalte muss die Bedingung erfüllen.</dd>    <dt> simple </dt>      <dd>Alle Spalten, die einen Wert haben, müssen die Bedingung erfüllen (manche Spalten können null sein).</dd>  </dl>  <h5>Implementierung</h5>  <p>Das Attribut &quot;deferrable&quot; wird von einigen DBMS nicht unterstützt. Beachten Sie, dass diese Eigenschaft nicht simuliert werden kann. Verschiedene DBMS haben verschiedene Herangehensweisen, um dieses Problem zu umgehen. Z.Bsp. das vorübergehende Deaktivieren von Constraints. Nähere Informationen finden Sie in Ihrem Handbuch.</p>  <p>Das Attribut &quot;match&quot; wird durch einige DBMS nicht unterstützt. Dies betrifft nur zusammengesetzte Fremdschlüssel, welche mehrere Spalten verwenden. Dieses Feature wird selten verwendet und sollte für Datenbankanwendungen aus Gründen der Kompatibilität vermieden werden.</p>  <p>Einige Werte der Attribute &quot;onupdate&quot; und &quot;ondelete&quot; werden durch einige DBMS nicht unterstützt. Diese können simuliert werden durch die Verwendung von Trigger.</p></div><h4><a name="article_xddl_key"></a>Element Key</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_key">ELEMENT key</a> EMPTY  ATTRIBUTE       name           string       column         string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Name der Spalte in der Quelltabelle.</td>      </tr>      <tr>        <td>column</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Name der Spalte in der Zieltabelle. Der Default-Wert ist der Primärschlüssel der Zieltabelle.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Eine Referenz einer Quell- auf eine Zielspalte. Wenn ein Fremdschlüssel mehr als eine Referenz definiert, handelt es sich um einen sogenannten &quot;zusammengesetzten&quot; Fremdschlüssel (compound foreign key). Beachten Sie, dass zusammengesetzte Schlüssel sehr kompliziert in der Verarbeitung sind, und nicht von allen DBMS unterstützt werden. Zusammengesetzte Schlüssel sollten wenn möglich vermieden werden.</p></div><h4><a name="article_xddl_index"></a>Element Index</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_index">ELEMENT index</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_column">column</a>*)  ATTRIBUTE       name           string       unique         bool       clustered      bool       title          string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Ein eindeutiger Name welcher diesen index identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>      </tr>      <tr>        <td>unique</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Ein Unique-Index impliziert stets einen Unique-Constraint. Ein Unique-Constraint bedeutet, dass die Spalte keinen Wert mehrfach enthalten darf.</td>      </tr>      <tr>        <td>clustered</td>        <td>bool</td>        <td>-</td>        <td>no</td>        <td>Besagt, dass alles Spalten im Tablespace in der Reihenfolge dieses Index gespeichert werden sollen. Das ist eine Einstellung zur Verbesserung der Performance.</td>      </tr>      <tr>        <td>title</td>        <td>string</td>        <td>-</td>        <td>-</td>        <td>Title ist ein Beschriftungstext, der in der Nutzeroberfläche angezeigt werden sollte wenn das Objekt anzeigt wird.</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Indexes werden verwendet, um die Leistung von Abfragen zu verbessern. Ein Index ist eine sortierte Liste von Spaltenwerten. Das Durchsuchen eines Index ist gewöhnlich schneller als die Suche über eine ganze Tabelle. Jedoch: das Erzeugen und Verwalten eines Indexes erzeugt einen Overhead an Rechenzeit, Insert- und Update-Anweisungen werden daher langsamer wenn Indexe verwendet werden.</p>  <h5>Implementierung</h5>  <p>Beachten Sie: es ist nicht erforderlich einen Unique-Constraint auf einen Primärschlüssel explizit anzulegen. Primärschlüssel haben bereits implizit einen Unique-Constraint.</p>  <p>Wichtig!  Selbst wenn ein Unique-Index besteht, muss die Implementierung nicht unbedingt melden, dass die Spalte einen Unique-Constraint besitzt. Es wird empfohlen Unique-Indexes nicht zu verwenden, wenn das Gleiche mit einem Constraint ausgedrückt werden kann. Beachten Sie, dass ein Unique-Constraint nicht über mehrere Spalten definiert werden kann. In diesem Fall sollten Sie einen Unique-Index verwenden.</p>  <p>Clustered Indexes betreffen ausschließlich MSSQL. Ein clustered Index bedeutet, dass der DBS versuchen soll, Werte die im Index nah beieinander liegen auch im Tablespace nah beieinander abzulegen, damit diese beim Lesen der Tabelle in den gleichen Speicherblock passen.<br/> In den meisten Fällen würde erwartet, dass ein clustered Index auf dem Primärschlüssel erzeugt wird (dies ist ohnehin der Standardfall), oder auf einer stattdessen zur Sortierung verwendeten Spalte. Pro Tabelle darf nur ein clustered Index angelegt werden.  Wenn das Attribut clustered eines Index auf &quot;yes&quot; gesetzt wird, dann muss die Implementierung prüfen, ob in der Tabelle bereits ein anderer clustered Index definiert ist.  Falls dies der Fall ist, so muss das Attribut clustered dieses Index auf &quot;no&quot; gesetzt werden.  Die Implementierung kann einen Fehler melden, wenn zwei clustered Indexes in einer Tabelle gefunden werden.</p></div><h4><a name="article_xddl_column"></a>Element Column</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_column">ELEMENT column</a> EMPTY  ATTRIBUTE       name           string       sorting        string       length         string  </pre></div>    <h5>Attribute</h5>    <table class="syntax">      <tr>        <th>Attribut</th>        <th>Typ</th>        <th>Pflicht</th>        <th>Default</th>        <th>Beschreibung</th>      </tr>      <tr>        <td>name</td>        <td>string</td>        <td>ja</td>        <td>-</td>        <td>Name der indexierten Spalte in der Quelltabelle.</td>      </tr>      <tr>        <td>sorting</td>        <td>string</td>        <td>-</td>        <td>ascending</td>        <td>In einem Index kann zum Zweck der Optimierung jede Spalte getrennt auf- oder absteigend sortiert werden. Das wird insbesondere für Indexe über mehrere Spalten verwendet.<dl>              <dt>ascending</dt>              <dd>Sortierung erfolgt in aufsteigender Reihenfolge</dd>              <dt>descending</dt>              <dd>Sortierung erfolgt in absteigender Reihenfolge</dd>            </dl>        </td>      </tr>      <tr>        <td>length</td>        <td>integer</td>        <td>-</td>        <td>-</td>        <td>maximale Länge der im Index gespeicherten Werte</td>      </tr>    </table>  <h5>Beschreibung</h5>  <p>Die Liste der in einem Index hinterlegten Spalten gibt an, welche Spalten einer Tabelle in den Index aufgenommen, und wie diese Werte gespeichert werden.</p>  <h5>Implementierung</h5>  <p>Das Attribut length dient der Optimierung der Performance und wird nur in MySQL verwendet. Andere DBMS unterstützen dieses Argument nicht. Beachten Sie, dass das Attribut length nicht größer sein darf als die Länge der Quellspalte.<br/> Die Implementierung kann automatisch entscheiden, ob ein Volltextindex angelegt werden soll, falls das DBMS dieses Feature unterstützt.</p></div><h3><a name="article_xddl_views"></a>Views</h3><div class="box">Grundsätzlich werden über &quot;Views&quot; Select-Abfragen abgebildet. Daher können diese mehrere Tabellen einbeziehen, Daten aggregieren oder Informationen ausblenden. Für den Nutzer können sie sich wie echte Tabellen verhalten. Views werden weitgehend für Formulare und Benutzerschnittstellen verwendet.<br/> Jedoch sollten Sie beachten, dass es einige Beschränkungen gibt. Wenn Sie Daten in einem View ändern wollen, muss der View aktualisierbar (updatable) sein. Die Unterstützung dieses Features hängt vom gewählten DBMS ab. Manche Hersteller beschränken dies auf bestimmte (sehr einfache) Szenarien. Einfacher gesagt, ein &quot;updatable View&quot; muss den Primärschlüssel und die Quelltabelle für alle Spalten des Views wissen. Die Where-Klausel der Abfrage spezifiziert eine Art Constraint eines Views und kann fordern, dass jede aktualisierte oder eingefügte Spalte diesem Constraint entspricht und somit wieder im View enthalten ist.</div><h4><a name="article_xddl_view"></a>Element View</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_view">ELEMENT view</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_field">field</a>+, <a href="#article_xddl_select">select</a>*)&gt;  ATTRIBUTE       name        string       readonly    bool       tables      string       where       string       orderby     string       sorting     string       checkoption string       title       string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name welcher diesen View identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>readonly</td>      <td>boole</td>      <td>-</td>      <td>no</td>      <td>Sie können den View auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Ein View, welcher schreibgeschützt ist, kann nicht aktualisiert werden (ist nicht updatable).</td>    </tr>    <tr>      <td>tables</td>      <td>nmtokens</td>      <td>-</td>      <td>-</td>      <td>Eine durch Kommata getrennte Liste von Tabellen, welche im aktuellen View verwendet werden.      Wenn die Liste mehr als eine Tabelle enthält, so ist die erste die Basistabelle, und alle weiteren Tabellen werden mit dieser über einen Join verknüpft.<br/>      Vergessen Sie nicht eine Where-Klausel für die verknüpften Tabellen zu definieren.</td>    </tr>    <tr>      <td>where</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Das ist eine generische Information. Sie setzt die Where-Klausel des Views.</td>    </tr>    <tr>      <td>orderby</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Eine durch Kommata getrennte Liste von Spalten, nach denen die Ausgabe sortiert wird. Standardmäßig wird nach dem Primärschlüssel der Tabelle sortiert.</td>    </tr>    <tr>      <td>sorting</td>      <td>string</td>      <td>-</td>      <td>ascending</td>      <td>          <dl>            <dt>ascending</dt>            <dd>Sortierung erfolgt in aufsteigender Reihenfolge</dd>            <dt>descending</dt>            <dd>Sortierung erfolgt in absteigender Reihenfolge</dd>           </dl>       </td>    </tr>    <tr>      <td>checkoption</td>      <td>string</td>      <td>-</td>      <td>none</td>      <td>          <dl>            <dt>none</dt>            <dd>keine Prüfung</dd>            <dt>cascaded</dt>            <dd>rekursive Prüfung</dd>            <dt>local</dt>            <dd>nur lokale Prüfung</dd>          </dl>      </td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>        <td>Title ist ein Beschriftungstext, der in der Nutzeroberfläche angezeigt werden sollte wenn das Objekt anzeigt wird.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Das &quot;View&quot;-Element definiert den Namen, die Dokumentation und allgemeine Eigenschaften eines Datenbank-Views. Dies sind seine Basistabellen, Where-Klausel und andere Informationen, welche es einer Anwendung erlauben sollen, die Elemente des Views einer echten Tabelle zuzuordnen.  Dies sollte es einer Implementierung ermöglichen, einfache und updatable Views für solche DBMS zu simulieren, welche dieses Feature nicht unterstützen.  Eine Implementierung kann die Simulation von Views mit Hilfe der generischen Informationen unterstützen.  Die Implementierung kann einen Fehler melden, falls es ihr nicht möglich ist einen View zu simulieren und das DBMS das geforderte Feature nicht unterstützt.</p>  <h5>Implementierung</h5>  <p>Die Implementierung muss einen View als &quot;updatable&quot; (aktualisierbar) betrachten, sofern das Attribut &quot;readonly&quot; nicht auf &quot;yes&quot; gesetzt ist.  Sie kann jedoch entscheiden, dass ein View keine Änderungen erlaubt, wenn ein erforderlicher Primärschlüssel fehlt.  Wo dies möglich ist kann die Implementierung automatisch einen Primärschlüssel zur generischen Abfrage hinzunehmen, um den View updatable zu machen.  Für DBMS, welche updatable Views nicht unterstützen, kann die Implementierung diese simulieren, indem sie Insert- oder Update-Anweisungen basierend auf den gegebenen generischen Informationen selbst erzeugt.  Die Implementierung kann einen Fehler melden, wenn der Nutzer versucht einen View für ein betroffenes DBMS zu ändern und sie nicht in der Lage ist, das gewünschte Verhalten zu simulieren.</p>  <p>Das Attribut &quot;where&quot; definiert die Where-Klausel des Views.     Diese Information muss bei der Simulation des Views beachtet werden.     Eine Implementierung kann die korrekte Syntax für dieses Element selbst definieren.     Beachten Sie! Folgende Schreibweise wird nicht empfohlen &quot;time &lt; now()&quot; weil die Funktion &quot;now()&quot; zwischen verschiedenen DBMS nicht kompatibel ist. Sie können jedoch zusätzlich abweichende SQL-Abfragen für ein bestimmtes Ziel-DBMS Ihrer Wahl definieren. Die vom Yana Framework unterstützte Syntax für generische Where-Klauseln ist: {[column]=[value]{ AND [column]=[value]}*}.</p>  <p>Das Attribut &quot;checkoption&quot; steuert die Auswertung der Where-Klausel. Der Unterschied zwischen 'local' und 'cascaded' betrifft nur Situationen, in denen ein View rekursiv auf einem anderen View aufgebaut wird und der Elternview selbst einen Constraint (Check-Option) definiert. In diesem Fall hindert die Einstellung 'local' den DBS daran, die Check-Option(en) des Elternviews rekursiv zu prüfen. Beachten Sie, dass diese Einstellung nicht von allen DBMS unterstützt wird.<br/> Z.Bsp. wird von MySQL und PostgreSQL dieses Feature unterstützt , während MSSQL keine Unterstützung bietet.</p></div><h4><a name="article_xddl_select"></a>Element Select</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_select">ELEMENT select</a> (#PCDATA)  ATTRIBUTE       dbms     string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>dbms</td>      <td>string</td>      <td>-</td>      <td>generic</td>      <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Das &quot;select&quot; Element ist eine DBMS-abhängige SQL-Anweisung. Diese muss den definierten Namen der Basistabellen, Spalten und anderen View-Eigenschaften entsprechen.  Für einfache Views kann die generische Information bereits ausreichend sein, so dass keine zusätzlichen Select-Elemente angegeben werden müssen.  Daher sollte das Select-Element falls möglich vermieden werden.</p></div><h4><a name="article_xddl_field"></a>Element Field</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_field">ELEMENT field</a> EMPTY  ATTRIBUTE       table        string       column       string       alias        string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>table</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Name der Basistabelle</td>    </tr>    <tr>      <td>column</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Name der Basisspalte</td>    </tr>    <tr>      <td>alias</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>optionaler Alias</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Eine Spaltenreferenz, welche den Namen einer Spalte im View (siehe Attribut &quot;alias&quot;) dem Namen der physischen Tabelle und Spalte zuordnet, auf welcher diese basiert.</p></div><h3><a name="article_xddl_forms"></a>Formulare</h3><div class="box">Dieser Abschnitt definiert die Syntax von Elementen die erforderlich sind, um die Struktur von Formularen zu definieren, welche an Objekte in der Datenbank gebunden sind. Diese Formulare können durch eine Client-Anwendung verwendet werden und beziehen sich auf Datenbankelemente, welche innerhalb des gleichen Dokuments definiert wurden. Formulare binden eine Darstellung (Template) an eine Datenquelle (Tabelle oder View). Die Implementierung kann die erforderliche Syntax und Interpretation der Templates selbst festlegen. Diese Aspekte sind in diesem Dokument nicht spezifiziert.</div><h4><a name="article_xddl_form"></a>Element Form</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_form">ELEMENT form</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_input">input</a>*, <a href="#article_xddl_form">form</a>*, <a href="#article_xddl_event">event</a>*)  ATTRIBUTE       name        string       table       string       template    string       key         string       allinput    bool       title       string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name welcher dieses Formular identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name welcher dieses Formular identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>table</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Name einer Quelltabelle oder eines Views. Beachten Sie, dass der View updatable sein sollte. Andernfalls sollte das Formular nicht editierbar sein.</td>    </tr>    <tr>      <td>template</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Das Attribut template kann einen beliebigen Text enthalten. Die Implementierung zur Generierung des Formulars kann eine Liste gültiger Werte für dieses Attribut festlegen. Das Template sollte alle erforderlichen Informationen liefern, welche die Implementierung zur Darstellung des Formulars benötigt.</td>    </tr>    <tr>      <td>key</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Für jedes eingebettete Subformular gilt, dass dessen Basistabelle über einen Fremdschlüssel direkt mit der Basistabelle des Elternformulars verbunden sein muss. Sollte es mehrere passende Fremdschlüssel geben, so kann das Attribut key angeben, über welchen Fremdschlüssel die Tabellen verknüpft werden sollen. Fehlt das Attribut key, so muss die Implementierung den ersten passenden Fremdschlüssel verwenden. Die Implementierung kann einen Fehler melden, falls kein passender Fremdschlüssel existiert, oder das Attribut key auf einen ungültigen Fremdschlüssel verweist.</td>    </tr>    <tr>      <td>allinput</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Das Attribut allinput gibt an, ob beim Erzeugen des Formulars automatisch nicht definierte Spalten der Basistabelle in das Formular übernommen werden sollen. Dies dient dazu redundante Angaben zu vermeiden. Hat dieses Attribut den Wert &quot;yes&quot;, so muss die Implementierung für alle fehlenden Tabellenspalten im Formular Input-Elemente mit der Default-Belegung erstellen. Die Namen der Elemente müssen den Spaltennamen entsprechen.</td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>        <td>Title ist ein Beschriftungstext, der in der Nutzeroberfläche angezeigt werden sollte wenn das Objekt anzeigt wird.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Formulare sind benannte Objekte, welche als Eingabe für Formular- und Oberflächengeneratoren benutzt werden. Sie müssen mindestens eine Basistabelle und ein Template festlegen. Die Basistabelle darf natürlich auch ein (updatable) View sein.</p>  <h5>Implementierung</h5>  <p>Formulare sind kein Feature der Datenbank. Sie müssen für alle bekannten DBMS durch Software generiert werden. Der Inhalt des Formulars basiert jedoch auf dem Datenbankschema, welches in der XDDL-Datei definiert ist. Basierend auf diesen Informationen sollte die Implementierung Select-, Update-, Insert- oder Delete-Anweisungen selbstständig generieren.</p>  <h5>Darstellung</h5>  <p>In einer Ausgabe als HTML, sollten Formulare als Form-Elemente angezeigt werden. Die Darstellung des Formulars muss im mit dem Form-Element verbundenen Template definiert sein.</p>  <p>Formulare dürfen verschachtelt sein und Subformulare enthalten, deren Elemente aus der gleichen, oder anderen Tabellen stammen können. Eingebettete Subformulare können kurch Verwendung des Tags &quot;fieldset&quot; dargestellt werden. Das Attribut title kann als Wert für ein &quot;legend&quot;-Element des Tags verwendet werden.</p></div><h4><a name="article_xddl_input"></a>Element Input</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_input">ELEMENT input</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_grant">grant</a>*, <a href="#article_xddl_event">event</a>*)  oder, falls das Input-Element sich auf keine Tabellenspalte in der Datenbank beziehen soll:  <a href="#article_xddl_input">ELEMENT input</a> ( (<a href="#article_xddl_array">array</a> | <a href="#article_xddl_bool">bool</a> | <a href="#article_xddl_color">color</a> | <a href="#article_xddl_date">date</a> | <a href="#article_xddl_enum">enum</a> | <a href="#article_xddl_file">file</a> | <a href="#article_xddl_float">float</a> |                <a href="#article_xddl_html">html</a> | <a href="#article_xddl_image">image</a> | <a href="#article_xddl_inet">inet</a> | <a href="#article_xddl_integer">integer</a> | <a href="#article_xddl_list">list</a> | <a href="#article_xddl_mail">mail</a> | <a href="#article_xddl_password">password</a> |                <a href="#article_xddl_range">range</a> | <a href="#article_xddl_reference">reference</a> | <a href="#article_xddl_set">set</a> | <a href="#article_xddl_string">string</a> | <a href="#article_xddl_text">text</a> | <a href="#article_xddl_time">time</a> |<a href="#article_xddl_timestamp">timestamp</a> |                <a href="#article_xddl_url">url</a>), <a href="#article_xddl_event">event</a>*)  ATTRIBUTE       name        string       label       string       hidden      bool       readonly    bool       cssclass    string       tabindex    integer  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name welcher das Formularfeld identifiziert. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>label</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Das Attribut label ist ein Beschriftung welche Informationen zum Inhalt des Formularfelds liefert.</td>    </tr>    <tr>      <td>hidden</td>      <td>bool</td>      <td>-</td>        <td>no</td>      <td>Das Formularfeld darf in der Nutzeroberfläche nicht sichtbar sein, wenn der Wert dieses Attributs auf &quot;yes&quot; gesetzt wird. Andernfalls soll das Attribut ignoriert werden.</td>    </tr>    <tr>      <td>readonly</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Sie können das Formularfeld auf schreibgeschützt setzen, um zu verhindern dass Änderungen vorgenommen werden. Ein Formularfeld, welches schreibgeschützt ist, kann nicht editiert werden.</td>    </tr>    <tr>      <td>cssclass</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Eine HTML-basierte Nutzeroberfläche sollte Id-Attribute und CSS-Klassen für Formularfelder automatisch bereitstellen. Zusätzlich kann dieses Attribut verwendet werden um eine nutzerdefinierte CSS-Klasse hinzuzufügen.</td>    </tr>    <tr>      <td>tabindex</td>      <td>integer</td>      <td>-</td>      <td>0</td>      <td>Eine HTML-basierte Nutzeroberfläche sollte den Tab-Index für Formularfelder automatisch erstellen. Alternativ kann dieses Attribut verwendet werden um einen nutzerdefinierten Wert festzulegen. Der Tab-Index definiert die Reihenfolge, in welcher Formularfelder den Eingabefokus erhalten, wenn der Nutzer die Tabulatortaste des Keyboards drückt.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Das Input-Element bezeichnet ein einzelnes Formularfeld.</p>  <p>Wenn sich dabei auf ein echtes Feld in der Datenbank bezogen wird, so bezeichnet das Attribut &quot;name&quot; den Namen der Spalte. Andernfalls muss die Spalte innerhalb des Elements direkt deklariert werden.</p>  <h5>Darstellung</h5>  <p>Eine HTML-basierte Nutzeroberfläche sollte dies darstellen als &quot;input&quot;-Element oder etwas vergleichbares, abhängig vom Typ der zugrundeliegenden Spalte. Wenn das Attribute &quot;readonly&quot; auf &quot;yes&quot; gesetzt ist, sollte das Element nicht editierbar sein. Die Implementierung sollte CSS Class- und/oder Id-Attribute für jedes Formularfeld automatisch erzeugen. Zusätzlich muss, wenn das Attribut &quot;cssclass&quot; gesetzt wird,  dieser Wert zum Attribut Class des Tags hinzugefügt werden. Wenn das Attribut &quot;tabindex&quot; angegeben ist, muss es in die Attributliste des Steuerelements kopiert werden. Falls das &quot;input&quot;-Element durch mehr als ein HTML-Element umgesetzt wird, so muss das Attribut tabindex auf das erste editierbare Feld gesetzt werden.</p></div><h4><a name="article_xddl_event"></a>Element Event</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_event">ELEMENT event</a> (#PCDATA)  ATTRIBUTE       name     string       language string       title    string       label    string       icon     image  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Ein eindeutiger Name welcher das Ereignis identifiziert. Sollte kleingeschrieben und ein gültiger Funktionsname sein.</td>    </tr>    <tr>      <td>language</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Programmiersprache in welcher die Ereignisbehandlung implementiert ist. Kann eine beliebige Zeichenkette sein. Falls diese Option nicht angegeben ist, kann die Implementierung selbst festlegen, wie das Ereignis zu behandeln ist. Das Yana Framework wird den Bereich PCDATA in diesem Fall als Namen einer statischen Methode in PHP interpretieren, welche die Ereignisbehandlung implementiert.</td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Attribut title zur Verwendung in anklickbaren Links.</td>    </tr>    <tr>      <td>label</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Beschriftung von anklickbaren Links.</td>    </tr>    <tr>      <td>icon</td>      <td>image</td>      <td>-</td>      <td>-</td>      <td>Grafikdatei zur Verwendung als Icon für anklickbare Links.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Das Ereignis wird ausgelöst, wenn der Benutzer im angezeigten Formular eine bestimmte Aktion auslöst, wie das Absenden des Formulars, das Anklicken eines Downloads, oder was vergleichbares. Die verfügbaren Typen von Ereignissen müssen durch das gewählte Template definiert werden. Die Implementierung kann selbst definieren, wie das Ereignis ausgewertet werden soll. Das Attribut &quot;name&quot; definiert den Namen des Ereignisses, und der PCData-Abschnitt den Namen der aufzurufenden Funktion.</p>  <p>Beispiel: Ereignis &quot;submit&quot; mit PCData &quot;foo&quot; wird die Formulardaten über die  Methode POST zur Server-Anwendung mit der URL &quot;?action=foo&quot; senden, wenn der Benutzer das Formular absendet (den &quot;submit&quot; Button betätigt). Die Implementierung muss definieren, was &quot;submit&quot; für im Falle des angegebenen Formulartemplates tatsächlich bedeutet.</p>  <h5>Darstellung</h5>  <p>Die Darstellung des Elements hängt von den Attributen language und name ab.</p>  <p>Für die Sprache PHP, oder wenn das Attribut language leer ist, wird empfohlen zur Darstellung einen &quot;A&quot;-Tag neben dem Formularfeld zu verwenden. Der Inhalt des HTML-Tags besteht aus dem Attribut label und/oder einem Image-Tag, dessen Attribut &quot;src&quot; aus dem Attribut &quot;icon&quot; übernommen wird. Das Attribute &quot;href&quot; des HTML-Tags sollte eine Referenz auf PHP_SELF und den Namen der Aktion als Parameter beinhalten, in der Form &quot;action={name}&quot;. Als Wert des Feldes sollte als zweiter Parameter &quot;target[{primärschlüssel}]={wert}&quot; angegeben werden.</p>  <p>Beispiel:</p>  <pre class="codeexample">  &lt;action name=&quot;foo&quot; label=&quot;klick mich&quot;      icon=&quot;common_files/icon.png&quot;/&gt;  &lt;a href=&quot;?action=foo&amp;target[12]=bar&quot;&gt;    klick mich    &lt;img src=&quot;common_files/icon.png&quot;/&gt;  &lt;/a&gt;</pre>  <p>Für die Sprache JavaScript, muss das Attribut name eine gültige Bezeichnung für ein Ereignis in JavaScript sein, und der Abschnitt PCDATA muss gültigen JavaScript-Code enthalten.</p>  <p>Beispiel:</p>  <pre class="codeexample">  &lt;action name=&quot;onchange&quot; language=&quot;javascript&quot;&gt;validate(this)&lt;/action&gt;  &lt;input ... onchange=&quot;validate(this)&quot;/&gt;</pre>  <p>Wenn ein &quot;label&quot; oder &quot;icon&quot; angegeben sind, soll die Aktion ausgeführt werden wenn das &quot;label&quot; und/oder &quot;icon&quot; angeklickt worden sind.</p>  <p>Beispiel:</p>  <pre class="codeexample">  &lt;action name=&quot;onchange&quot; label=&quot;prüfen&quot;      icon=&quot;common_files/validate.png&quot;      language=&quot;javascript&quot;&gt;validate('foo')&lt;/action&gt;  &lt;input ... onchange=&quot;validate('foo')&quot; /&gt;  &lt;a onclick=&quot;validate('foo')&quot;&gt;      prüfen      &lt;img src=&quot;common_files/validate.png&quot;/&gt;  &lt;/a&gt;</pre>  <p>Die Umsetzung kann alternativ als Button erfolgen.</p>  <p>Beispiel:</p>  <pre class="codeexample">  &lt;action name=&quot;submit&quot; label=&quot;abschicken&quot;      title=&quot;Klick mich!&quot;      icon=&quot;common_files/submit.png&quot;      language=&quot;php&quot;&gt;foo&lt;/action&gt;  &lt;button type=&quot;submit&quot; title=&quot;Klick mich!&quot; name=&quot;foo&quot;&gt;      &lt;img src=&quot;common_files/submit.png&quot;/&gt;      abschicken  &lt;/button&gt;</pre></div><h3><a name="article_xddl_functions"></a>Funktionen</h3><div class="box">Dieser Abschnitt definiert die Syntax aller Elemente die erforderlich sind um nutzerdefinierte Funktionen zu deklarieren, welche innerhalb des Kontextes der Datenbank verwendet werden sollen. Funktionen bestehen aus der Signaturinformation und dem Funktionsrumpf. Beachten Sie: Während die Signatur der Funktion unter mehreren DBMS kompatibel sein kann, muss dies für die Implementierung nicht zutreffen.</div><h4><a name="article_xddl_function"></a>Element Function</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_function">ELEMENT function</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_implementation">implementation</a>+)  ATTRIBUTE       name        string       title       string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Name der Funktion. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>title</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Title ist ein Beschriftungstext, der in der Dokumentation des Objektes angezeigt werden sollte.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Eine nutzerdefinierte Funktion mit dem angegebenen Namen. Die Funktion darf maximal eine Implementierung für jedes unterstützte DMBS geben.</p></div><h4><a name="article_xddl_implemetation"></a>Element Implemetation</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_implemetation">ELEMENT implementation</a> (<a href="#article_xddl_param">param</a>*, <a href="#article_xddl_return">return</a>?, <a href="#article_xddl_code">code</a>)  ATTRIBUTE       dbms        string       language    string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>dbms</td>      <td>string</td>      <td>-</td>      <td>generic</td>      <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>    </tr>    <tr>      <td>language</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die vorgesehene Programmiersprache. Dies betrifft nur DBMS, welche mehr als eine Sprache unterstützen.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Die Implementierung definiert die Funktionssignatur und den Quellcode. Die Anzahl der Parameter muss in jedes DBMS (und jedes Implementation-Element) identisch sein.</p>  <h5>Implementierung</h5>  <p>Falls das Attribut dbms auf &quot;generic&quot; gesetzt ist, kann die XDDL-Implementierung entscheiden, ob die generische Definition der Funktion kompatibel mit einem bestimmten DBMS ist. Falls diese entscheidet, dass die Definition nicht kompatibel ist, kann sie versuchen die Funktion zu simulieren. Für diesen Fall kann die Implementierung die erforderliche Syntax für die Unterelemente &quot;code&quot;, &quot;param&quot; und &quot;return&quot; selbst festlegen. Falls die Definition der erforderlichen Syntax nicht entspricht, kann die XDDL-Implementierung einen Fehler melden.</p>  <p>Beachten Sie, dass das Attribut &quot;language&quot; DBMS-abhängig ist. Die meisten DBMS sollten zumindest die Sprache &quot;SQL&quot; unterstützen, während andere auch &quot;Java&quot;, &quot;C&quot; oder auch mehr unterstützen können.<br/> Wenn keine Sprache gegeben wird, wird die default Sprache verwendet. Beachten Sie, dass die Implementierung nicht prüfen muss, ob die angegebene Sprache vom angegebenen DBMS unterstützt wird.</p>  <p>Für simulierte Funktionen muss das Attribut language leer sein.</p></div><h4><a name="article_xddl_param"></a>Element Param</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_param">ELEMENT param</a> EMPTY  ATTRIBUTE       name     string       type     string       mode     string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>eindeutige Parameterbezeichnung</td>    </tr>    <tr>      <td>type</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>DBMS-abhängiger Datentyp</td>    </tr>    <tr>      <td>mode</td>      <td>string</td>      <td>-</td>      <td>in</td>      <td>Das Attribute &quot;mode&quot; identifiziert das Element als<dl>              <dt>in</dt>              <dd>Eingabeparameter (Wertparameter)</dd>              <dt>out</dt>              <dd>Ausgabeparameter (Übergabe per Referenz)</dd>              <dt>inout</dt>              <dd>Referenzparameter (Übergabe per Referenz)</dd>          </dl>      </td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Eine Parameterdefinition als ein Teil der Funktionssignatur. Das Attribut &quot;mode&quot; definiert das Verhalten des Parameters. Der Typ des Parameters ist vom DBMS abhängig.</p>  <p>Beispiel:</p>  <pre class="codeexample">  &lt;function name=&quot;foo&quot;&gt;    &lt;implementation&gt;      &lt;param name=&quot;p1&quot; type=&quot;string&quot; mode=&quot;in&quot;/&gt;      &lt;param name=&quot;p2&quot; type=&quot;float&quot; mode=&quot;inout&quot;/&gt;      &lt;param name=&quot;p3&quot; type=&quot;int&quot; mode=&quot;out&quot;/&gt;      &lt;return&gt;int&lt;/return&gt;      &lt;code&gt;...&lt;/code&gt;    &lt;/implementation&gt;  &lt;/function&gt;  Kann interpretiert werden als:  int foo ( string $p1,  float &amp;$p2,  int &amp;$p3 = null ) { ... }  </pre>  <p>Beachten Sie, dass manche DBMS nur Eingabeparameter (Wertparameter) unterstützen. In diesem Fall muss das Attribut mode den Wert &quot;in&quot; haben. Die Implementierung kann einen Fehler melden, wenn eine nicht unterstützte Definition gefunden wird.</p></div><h4><a name="article_xddl_return"></a>Element Return</h4><div class="box">  <div class="codeexample"><pre>  ELEMENT return (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Der durch die Funktion zurückgegebene Datentyp. Diese Einstellung ist DBMS-abhängig.</p>  <p>Wenn kein Rückgabewert definiert, oder die Angabe leer ist, so wird der Defaultwert &quot;void&quot; verwendet, was bedeutet, dass die Funktion keinen Wert zurückgibt. Falls die Funktion mehr als einen Wert zurückgeben muss, sollten stattdessen Ausgabeparameter (mode=out) verwendet werden.<br/> Beachten Sie, dass in MySQL Funktionen, die keinen Rückgabewert haben, &quot;Methoden&quot; genannt werden.</p></div><h4><a name="article_xddl_code"></a>Element Code</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_code">ELEMENT code</a> (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Der Funktionsrumpf. Die Syntax des Inhaltes hängt von den Parametern für DBMS und Programmiersprache ab. Wenn das DBMS  auf &quot;generic&quot; gesetzt ist, dann wird dieser Code durch die Server-Anwendung ausgeführt. Für diesen Fall kann die Implementierung die erforderliche Syntax selbst festlegen. Es wird empfohlen, dass das Element code darauf beschränkt wird, den Namen einer Funktion anzugeben, welche die Implementierung aufrufen kann. Alle Eingabeparameter werden an diese Funktion weitergeleitet. Beachten Sie, dass generische Funktionen innerhalb von SQL-Anweisungen nicht verwendet werden können, weil diese nicht vom DBMS ausgeführt werden.</p></div><h3><a name="article_xddl_changelogs"></a>Aktualisierungen (ChangeLog)</h3><div class="box">Dieser Abschnitt definiert die Syntax aller Elemente die notwendig sind, um signifikante Änderungen der Datenbank nachzuvollziehen, welche eine Aktualisierung der physischen Datenbankstruktur erfordern. Das schließt kürzlich erstellte, umbenannte, modifizierte und gelöschte Datenbankobjekte ein. Für weitere Aktionen, welche durch diese Definition nicht abgedeckt sind, können SQL-Anweisungen können angegeben wird. Implementierungen können eine Funktion bereitstellen, welche die erforderlichen SQL-Anweisungen generiert, um eine gegebene Datenbank auf eine spätere Version des XDDL-Dokumentes zu aktualisieren. Das ChangeLog sollte jede Information enthalten, die notwendig, ist um solch eine Aktion durchzuführen.</div><h4><a name="article_xddl_changelog"></a>Element Changelog</h4><div class="box">  <div class="codeexample"><pre>  ELEMENT changelog (<a href="#article_xddl_create">create</a>|<a href="#article_xddl_rename">rename</a>|<a href="#article_xddl_drop">drop</a>|<a href="#article_xddl_update">update</a>|<a href="#article_xddl_sql">sql</a>|<a href="#article_xddl_change">change</a>)*  </pre></div>  <h5>Beschreibung</h5>  <p>Das Element changelog einer Datenbankdefinition wird benutzt, um Änderungen zu dokumentieren. Updates müssen in absteigender Reihenfolge nach ihrer Versionsnummer sortiert sein. Dies bedeutet, dass das erste Element stets der letzten Änderung entspricht.<br/> Die Aktualisierungen enthalten den Typ der Änderung, eine Versionsnummer, und das geänderte Element. Eine Beschreibung der Änderung kann als PCDATA  hinzugefügt werden.</p>  <h5>Implementierung</h5>  <p>Das ChangeLog kann für automatisierte Aktualisierungen der Datenbank verwendet werden. Der Implementierung kann eine Anwendung zur Verfügung stellen, welche das ChangeLog analysiert und das Schema der Datenbank von einer gegebenen Versionsnummer auf eine spätere Version aktualisiert. Diese Implementierung sollte versuchen, alle Änderungen innerhalb einer Transaktion durchzuführen. Im Fall eines nicht behebbaren Fehlers, sollte sie versuchen, sämtliche Änderungen zurückzunehmen.</p></div><h4><a name="article_xddl_create"></a>Element Create</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_create">ELEMENT create</a> (<a href="#article_xddl_description">description</a>?)  ATTRIBUTE       name        string       subject     string       version     string       ignoreError bool  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Eindeutiger Name des geänderten Objektes. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>subject</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>table | column | index | view | sequence | trigger | constraint</td>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dokumentiert die Erstellung eines neuen Datenbankelements. Der Typ des Elements wird als Attribut &quot;subject&quot; gespeichert. Das Element selbst wird über das Attribut &quot;name&quot; identifiziert. Der Name muss ein eindeutiger Bezeichner des Elements sein. Wo erforderlich muss dieser die Namensräume spezifizieren, innerhalb derer der Name des Elements eindeutig ist. In diesem Fall muss das Zeichen &quot;.&quot; als Trennzeichen verwendet werden. Die Implementierung kann einen Fehler melden, wenn das Element nicht gefunden wurde oder nicht eindeutig ist. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten.</p></div><h4><a name="article_xddl_rename"></a>Element Rename</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_rename">ELEMENT rename</a> (<a href="#article_xddl_description">description</a>?)  ATTRIBUTE       name        string       subject     string       version     string       ignoreError bool       oldname     string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Eindeutiger Name des geänderten Objektes. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>subject</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>table | column | index | view | sequence | trigger | constraint</td>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>    <tr>      <td>oldname</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Vorheriger Name des umbenannten Objektes. Hinweis: Für Tabellenspalten muss der Name den Namen der Tabelle enthalten (&quot;table.column&quot;).</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dokumentiert die Umbenennung eines existierenden Datenbankelements. Der Typ des Elements wird als Attribut &quot;subject&quot; gespeichert. Das Element selbst wird über das Attribut &quot;name&quot; identifiziert. Der vorherige Name des Elements wird als Attribut &quot;oldname&quot; gespeichert. Der Name muss ein eindeutiger Bezeichner des Elements sein. Wo erforderlich muss dieser die Namensräume spezifizieren, innerhalb derer der Name des Elements eindeutig ist. In diesem Fall muss das Zeichen &quot;.&quot; als Trennzeichen verwendet werden. Die Implementierung kann einen Fehler melden, wenn das Element nicht gefunden wurde oder nicht eindeutig ist. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten.</p></div><h4><a name="article_xddl_drop"></a>Element Drop</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_drop">ELEMENT drop</a> (<a href="#article_xddl_description">description</a>?)  ATTRIBUTE       name        string       subject     string       version     string       ignoreError bool  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Eindeutiger Name des geänderten Objektes. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>subject</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>table | column | index | view | sequence | trigger | constraint</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dokumentiert die Löschung eines existierenden Datenbankelements. Der Typ des Elements wird als Attribut &quot;subject&quot; gespeichert. Das Element selbst wird über das Attribut &quot;name&quot; identifiziert. Der Name muss ein eindeutiger Bezeichner des Elements sein. Wo erforderlich muss dieser die Namensräume spezifizieren, innerhalb derer der Name des Elements eindeutig ist. In diesem Fall muss das Zeichen &quot;.&quot; als Trennzeichen verwendet werden. Die Implementierung kann einen Fehler melden, wenn das Element nicht gefunden wurde oder nicht eindeutig ist. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten.</p>  <p>Eine typische Situation, in welcher das Attribut &quot;ignoreError&quot; mit dem Wert &quot;yes&quot; üblicherweise verwendet wird ist die Löschung eines Elements. Gewöhnlich soll eine Datenbankaktualisierung nicht fehlschlagen, wenn ein Element nicht gelöscht werden kann, weil es nicht (mehr) existiert.</p>  <p>Beachten Sie, dass einige DBMS außer Stande sind, gelöschte Datenbankelemente wiederherzustellen. Im Fehlerfall kann diese Einschränkung Auswirkungen auf das Verhalten der Implementierung haben, welche die Datenbankstruktur aktualisiert.</p></div><h4><a name="article_xddl_update"></a>Element Update</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_update">ELEMENT update</a> (<a href="#article_xddl_description">description</a>?)  ATTRIBUTE       name        string       subject     string       version     string       ignoreError bool       property    string       value       string       oldvalue    string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>Eindeutiger Name des geänderten Objektes. Sollte kleingeschrieben und ein valider XML-, SQL-Bezeichner sein.</td>    </tr>    <tr>      <td>subject</td>      <td>string</td>      <td>ja</td>      <td>-</td>      <td>table | column | index | view | sequence | trigger | constraint</td>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>    <tr>      <td>property</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Gibt an welche Eigenschaft des Objektes aktualisiert worden ist.</td>    </tr>    <tr>      <td>value</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Der neue Wert der Eigenschaft, welche aktualisiert  wird. Die Syntax dieses Attributs kann durch die Implementierung festgelegt werden. Der Wert kann ein serialisierter Text sein.</td>    </tr>    <tr>      <td>oldvalue</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Der alte Wert der geänderten Eigenschaft. Die Syntax dieses Attributs kann durch die Implementierung festgelegt werden. Der Wert kann ein serialisierter Text sein.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dokumentiert die Änderung eines existierenden Datenbankelements. Der Typ des Elements wird als Attribut &quot;subject&quot; gespeichert. Das Element selbst wird über das Attribut &quot;name&quot; identifiziert. Der Name muss ein eindeutiger Bezeichner des Elements sein. Wo erforderlich muss dieser die Namensräume spezifizieren, innerhalb derer der Name des Elements eindeutig ist. In diesem Fall muss das Zeichen &quot;.&quot; als Trennzeichen verwendet werden. Die Implementierung kann einen Fehler melden, wenn das Element nicht gefunden wurde oder nicht eindeutig ist. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten. Wo verfügbar kann die geänderte Eigenschaft (property), sowie deren alter (oldvalue) und neuer Wert (value) angegeben werden.</p></div><h4><a name="article_xddl_sql"></a>Element Sql</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_sql">ELEMENT sql</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_sqlcode">code</a>)  ATTRIBUTE       version     string       ignoreError bool       dbms        string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>dbms</td>      <td>string</td>      <td>-</td>      <td>generic</td>      <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dokumentiert eine nutzerdefinierte SQL-Anweisung, welche ausgeführt werden soll. Die Ausführung kann auf einen bestimmten DBMS beschränkt werden. SQL-Anweisungen können für jegliche weiteren Aktionen verwendet werden, welche durch andere Elemente dieser Definition nicht abgedeckt sind. Z.Bsp. um Daten in eine kürzlich erstellte Tabelle zu kopieren. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten. Das Code-Element muss den SQL-Code enthalten.</p></div><h4><a name="article_xddl_sqlcode"></a>Element Code</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_sqlcode">ELEMENT code</a> (#PCDATA)  </pre></div>  <h5>Beschreibung</h5>  <p>Enthält den auszuführenden SQL-Code. Die Syntax des Inhaltes hängt vom Parameter DBMS ab. </p></div><h4><a name="article_xddl_change"></a>Element Change</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_change">ELEMENT change</a> (<a href="#article_xddl_description">description</a>?, <a href="#article_xddl_logparam">logparam</a>*)  ATTRIBUTE       version     string       ignoreError bool       type        string       dbms        string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>version</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Die Version, auf welche sich der Eintrag bezieht.</td>    </tr>    <tr>      <td>ignoreError</td>      <td>bool</td>      <td>-</td>      <td>no</td>      <td>Wird verwendet, um der Funktion, welche die Aktualisierung durchführt, mittzuteilen, wie diese reagieren soll, falls dieser Schritt während der Aktualisierung der Datenbankstruktur einen Fehler verursacht. Für den Wert &quot;yes&quot; sollte die Aktualisierung der Datenbank fortgesetzt werden, selbst wenn dieser Schritt fehlschlägt. Für den Wert &quot;no&quot; sollte die Aktualisierung gestoppt und alle vorherigen Änderungen zurückgenommen werden.</td>    </tr>    <tr>      <td>dbms</td>      <td>string</td>      <td>-</td>      <td>generic</td>      <td>Der Name des Ziel-DBMS. Der Wert &quot;generic&quot; bedeutet, dass die Definition für jedes DBMS zutreffend ist. Gewöhnlich wird das als Rückfalloption für DBMS verwendet, an welche Sie entweder beim Erstellen der Datenbankstruktur noch nicht gedacht haben, oder welche das fragliche Feature nicht unterstützen.</td>    </tr>    <tr>      <td>type</td>      <td>string</td>      <td>-</td>      <td>default</td>      <td>Ein beliebiger Text, welcher den Typ der Änderung eindeutig identifiziert.</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Dies ist ein generisches Element zum Ergänzen von nutzerdefinierten Typen von Aktualisierungen.     Eine Implementierung zur Ausführung dieses Updates muss es erlauben, für jeden angegebenen Typ eine Funktion oder Methode zu definieren, welche das Element behandelt.     Dieser Funktion oder Methode müssen die LogParam-Elemente als Parameter übergeben werden, in der Reihenfolge ihrer Definition.     Die Ausführung kann auf einen bestimmten DBMS beschränkt werden. Das Description-Element kann zu Dokumentationszwecken verwendet werden und beliebigen Text enthalten.</p></div><h4><a name="article_xddl_logparam"></a>Element Logparam</h4><div class="box">  <div class="codeexample"><pre>  <a href="#article_xddl_logparam">ELEMENT logparam</a> (#PCDATA)  ATTRIBUTE       name     string  </pre></div>  <h5>Attribute</h5>  <table class="syntax">    <tr>      <th>Attribut</th>      <th>Typ</th>      <th>Pflicht</th>      <th>Default</th>      <th>Beschreibung</th>    </tr>    <tr>      <td>name</td>      <td>string</td>      <td>-</td>      <td>-</td>      <td>Name des Parameters</td>    </tr>  </table>  <h5>Beschreibung</h5>  <p>Ein Parameter, welcher an die aufgerufene Funktion übergeben wird. Der PCDATA-Bereich enthält den Wert des Parameters. Optional kann ein Name vergeben werden.     Es dürfen keine zwei Parameter mit dem gleichen Namen definiert werden.</p></div><h2><a name="article_sml"></a>Das SMLDateiformat</h2><p> Die Bezeichnung "SML" ist eine Abkürzung für "Simple MarkupLanguage". Das SML-Format wurde zwischen 2001 und 2003 mit dem Zielentwickelt, eine leicht verständliche und syntaktisch saubereDarstellung zu schaffen, welches von einer breiten Masse der Nutzerakzeptiert werden würde. </p><p> SML ist gleichermaßen verwandt mit "JSON" ("JavaScript ObjectNotation") und "XML" ("Extensible Markup Language"). Es ist semantischgleich mächtig zu JSON. Dies heißt, alle Konstrukte, welche in JSONausgedrückt werden können, können ebenso im SML-Format dargestelltwerden und umgekehrt. Es ist dennoch wichtig zu betonen, dass SMLunabhängig von JSON entwickelt wurde. Beide Dialekte haben keinerleigemeinsame historische Schnittpunkte. </p><p> Vereinfacht ausgedrückt, verwendet SML eine Semantik,vergleichbar mit der von JSON und eine Syntax vergleichbar mit der vonXML. Es verbindet somit die unter Nutzern weithin akzeptierteTag-Darstellung mit einer intuitiven Semantik. </p><h3> Zweck des SML-Formats</h3><p> Aufgabe des Dateiformats ist es, nicht-rekursive Datenfelderin Form einer sequentiellen Datei zu repräsentieren. Diese Datenfelderkönnen entweder numerisch oder assoziativ sein und beliebige skalareWerte, oder wiederum andere Datenfelder enthalten, welchen den gleichenAnforderungen genügen müssen. Referenzen sind nicht zugelassen. Objektewerden analog zu JSON dargestellt, indem ihre öffentlichenObjektvariablen in Form eines assoziativen Datenfeldes gespeichertwerden. Enthaltene nicht skalare Werte werden rekursiv behandelt. </p><p> Zweck dieses Dateiformats ist es, Parameter zu speichern, umKomponenten des Frameworks zu initialisieren. Zweck ist es nicht,größere Datenmengen in diesem Format zu speichern. Insbesondere ist dasSML-Format nicht konzipiert als Ersatz für XML. </p><p> Unendliche Rekursionen werden nicht erkannt. </p><h4>Diskussion zu Erkennung unendlicher Rekursionen</h4><p> Zur Begründung ist Folgendes zu sagen: Der Test, ob einebeliebige Struktur unendliche Rekursionen aufweist ist nicht trivial.Der übliche Ansatz ist eine Pfadprüfung. Dabei fällt jedoch jeweils einOverhead von T = O(n) Schritten an, wobei n der Länge des Pfadesentspricht. Der Beweis dieser unteren Schranke für die Laufzeit isttrivial. Um Overhead zu vermeiden könnte in Betracht gezogen werden,diese Prüfung nur alle x Verarbeitungsschritte durchzuführen, wobei fürdie positive, ganze Zahl x mit x &gt; 1 ein geeigneter Wert gewähltwerden sollte. Trotz dieser potentiellen Optimierung ist damit zurechnen, dass sich für das gesamte Programm inklusive Pfadprüfung einequadratische Laufzeit ergibt. Dies ist in für viele Anwendungen jedochnicht akzeptabel. Aus Gründen der Performance wurde daher absichtlichdarauf verzichtet. </p><p> An dieser Stelle möchte ich anmerken, dass der naive Ansatz,die Zahl der Elemente zu bestimmen und zu prüfen, ob die Zahl derIterationen die Zahl der Elemente übersteigt, selbstverständlich nichtpraktikabel ist. Um alle Elemente zu "zählen", müsste eine vollständigeTraversion durchgeführt werden. Falls diese jedoch einen unendlichrekursiven Pfad enthalten sollte, so würde das Programm niemalsterminieren und das Ergebnis wäre somit undefiniert. </p><h3>Von XML zu SML</h3><p> Die Aufgabe Dateien für die Initialisierung, beziehungsweiseKonfiguration eines Frameworks bereitzustellen, ist nicht ganz trivial.Weil das Framework eine Vielzahl von Plugins besitzen kann, derenKonfigurationsoptionen in den gleichen Dateien abgelegt werden sollenwie die restliche Konfiguration. Anzahl, Struktur, Typ und Benennungdieser Daten ist zur Entwurfszeit jedoch unbekannt. Eventuell sind diePlugins, mit denen das Framework arbeiten wird, zu diesem Zeitpunktauch noch gar nicht geschrieben. Um unter diesen Umständen überhaupt imVoraus eine sinnvolle DTD oder Schema angeben zu können, ist es nurlogisch sich auf natürliche Eigenschaften der Variablen zurückzuziehen.Stabile Eigenschaften wie beispielsweise der Datentyp einer Variablensind geeignet um eine Struktur abzuleiten, welche vorhersagbar ist,weil sie durch stabile syntaktische Eigenschaften von PHP diktiertwerden. </p><p> Weil PHP nicht streng typisiert ist und Referenzen, sowieObjekte per Definition kein Teil dieser Konfiguration sein dürfen,bleiben die Menge der skalaren Variablen und die Menge der Datenfelder.Dementsprechend werden analog zwei verschiedene Arten von Knotendefiniert. Für die Darstellung skalarer Variablen soll der Tag &quot;scalar"eingeführt werden. Dieser darf lediglich CDATA-Abschnitte enthalten &#8211;was gerade einem skalaren Kontext entspricht &#8211; jedoch keine weiterenTags, respektive Elemente. Für die Darstellung von Datenfeldern sollder Tag &quot;array&quot; eingeführt werden. Dieser darf wiederum keineCDATA-Bereiche enthalten, sondern lediglich weitere Tags. Diese Tagsrepräsentieren die Elemente des Datenfelds. Weil XML ein eindeutigesWurzelelement verlangt, wird zudem der Tag &quot;root&quot; eingeführt. WeitereTags werden nicht benötigt. </p><p> Betrachten Sie das folgende Beispiel, welches zweiDatenfelder darstellt. </p><div class="box"><pre><code><span style="font: 10pt Courier New;"><span class="xml1-processinginstruction">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><span class="xml1-doctypesection">&lt;!DOCTYPE example SYSTEM &quot;example.dtd&quot;&gt;</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">b</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">c</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">1</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">a</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">c</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">b</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">q</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">r</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">s</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">			</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">t</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[wert]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span></span></code></pre></div><p> An diesem Beispiel fallen einige Besonderheiten auf. Erstensist das Element &quot;root" völlig ohne semantische Bedeutung. Es existierteinzig und allein, weil die Syntax es erfordert. </p><p> Etwas künstlich wirken auch die leeren Tags. Sie sind zwarenthalten, aber es ist nicht ganz klar, wie diese in Bezug aufVariablen interpretiert werden sollen. PHP erfordert keine Definitionvon Variablen vor der ersten Verwendung. Eine Initialisierung einerzuvor nicht existierenden Variable, geschweige einer Konstante, mit&quot;null" ist somit nicht wirklich sinnvoll. Zumal in einerKonfigurationsdatei ein null-Wert semantisch keinen Sinn machen wird.Daher soll per Konvention festgelegt werden, dass auf leere Tagskomplett verzichtet werden sollte. Zugriffe auf leere oder nichtexistierende Tags werden gemäß der in PHP üblichen Konventionen zuboolean &quot;false" ausgewertet. </p><p> Weiterhin ist absehbar, dass diese Darstellung bei größerenDatenmengen unübersichtlich werden könnte. Betrachtet manbeispielsweise den Fall, dass ein Datenfeld möglicherweise 50 oder mehrEinträge aufweist, welche zudem eventuell noch tief verschachtelt sindund große CDATA-Abschnitte mit mehreren Zeilenumbrüchen enthalten, dannist anzunehmen, dass die Lesbarkeit beeinträchtigt wäre. Es wäre fürdie Lesbarkeit also von Vorteil, wenn aus einem End-Tag direkt ablesbarwäre, welches Element denn nun gerade geschlossen wurde. </p><p> Die gesonderte Kennzeichnung der CDATA-Abschnitte, könnteebenfalls die Lesbarkeit beeinträchtigen, zumal sich der Sinn für denXML-unerfahrenen Laien nicht trivial erschließen muss. Zudem verlangendie zuvor getroffenen Festlegungen explizit, dass an dieser Positionohnehin gar nichts anderes als ein CDATA-Abschnitt folgen darf, weshalbeine Auszeichnung keinen echten Mehrwert bringt, sondern wiederumlediglich eine syntaktische Ursache hat. Es gibt einen seltenenAusnahmefall, nämlich dass der CDATA-Abschnitt einen schließenden&quot;scalar"-Tag enthält. Diese Fall kann jedoch auch mit Hilfe vonEntities umgangen werden, sodass die Kennzeichnung insgesamt obsoleteist. </p><p> Abschließend soll die Schreibweise der Tags betrachtetwerden. Beispielsweise die Bezeichnung &quot;&lt;arrayname="b"&gt;". Diese Schreibweise könnte auf Laien, überfrachtetund unnötig kompliziert wirken. Denn: dass es sich um ein Datenfeldhandeln muss, wird bereits aus der Struktur des Elements deutlich, weiles nur ein einziges anderes Element gibt. Der Tag &quot;scalar" kann aberaus rein syntaktischen Gründen an dieser Stelle gar nicht stehen, weildieser keine Tags, sondern nur CDATA enthalten darf. Extra zu erwähnen,dass es sich um ein Datenfeld handelt ist somit im Grunde überflüssig.Das Attribut &quot;name" ist allen Tags gemeinsam. Dies ergibt sichzwangsläufig aus syntaktischen Eigenschaften von PHP. Das Attributentspricht also dem Bezeichner der Variable in PHP. Intuitiver wäre esstatt er Bezeichnung &quot;array" oder &quot;scalar" den Bezeichner der Variablenals Tag zu benutzen. Analog gilt die gleiche Betrachtung für den Tag&quot;scalar". </p><p> Berücksichtigt man alle diese Einwände so lässt sich folgendevereinfachte Darstellung gewinnen. </p><div class="box"><pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">c</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">q</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">q</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">s</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">s</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">t</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">wert</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">t</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span></span></code></pre></div><p> Auch ohne umfangreiche Erläuterung ist erkennbar, dass beideVarianten inhaltlich das Gleiche ausdrücken. Ebenso sollte vermutlichkeine Diskussion darüber erforderlich sein, welche der beidenSchreibweisen intuitiver erfassbar, oder leichter lesbar wäre. </p><p align="justify"> Aufgrund ihrer syntaktischenEigenschaften ist diese Variante jedoch kein wohlgeformtes XML-Dokumentmehr. Beispielsweise gibt es mehr als ein Wurzelelement und zudem ist&quot;0" in XML kein gültiger Name für einen Tag. Es war somit notwendigeine andere Bezeichnung zu wählen. Diese Bezeichnung ist &quot;SML" für&quot;simple markup language", in Anlehnung an &quot;XML" (&quot;eXtensible markuplanguage"). </p><h3> Syntaktische Eigenschaften</h3><p> Gegenüber XML verlangt SML eine Reihe abweichendersyntaktischer Eigenschaften. Zunächst ist zu erwähnen, dass dieKodierung einer Datei in UTF-8 oder UTF-16, wie beispielsweise bei XMLüblich, leider in vielen Sprachen nach wie vor noch zu Problemen beimLesen der Dateien führen kann. Zu diesen Sprachen zählen zumgegenwärtigen Zeitpunkt unter anderem Perl 5 und bedauerlicherweise PHP4. Dies ist zwar ein Versäumnis der Entwickler und keine Eigenschaftvon XML als solches, dennoch stellt es einen inakzeptablen Zustand dar,wenn es darum geht eine Anwendung zu initialisieren. Daher ist essinnvoll für die Zwecke der Initialisierung des Frameworks von derVerwendung dieser Kodierungen abzusehen. Als Zeichensatz wird ISOLatin-1 verwendet. Zeichen, welche darin nicht enthalten sind, solltendurch geeignete Entitäten kodiert werden. </p><p> Abweichend von der XML-Syntax wird für SML nicht gefordert,dass das Dokument nur einen einzigen Tags als Wurzelelement enthaltendarf. Sollte ein Dokument einen Wald aus mehreren Bäumen enthalten, sowerden diese implizit als Kindelemente eines anonymen, virtuellenWurzelelements enthalten. </p><p> Als weitere syntaktische Eigenschaft fordert das SML-Format,dass alle öffnenden Tags durch einen in gleicher Weise benanntenschließenden Tag geschlossen werden müssen. Bei der Benennung der Tagskommt es nicht auf die Schreibweise an. Es wird nicht zwischen Groß-und Kleinschreibung unterschieden. </p><p> Weiterhin muss per Konvention nach jedem schließenden Tagzwingend ein Zeilenumbruch erscheinen. Vor einem öffnenden Tag dürfenper Konvention lediglich Whitespace-Zeichen eingefügt werden. Ein Tagkann entweder nur Textinhalt (&quot;CData") oder weitere Tags enthalten,aber nicht beides gleichzeitig. Falls der Tag einen CDATA-Abschnittenthält, müssen der Starttag und der Endtag auf der gleichen Zeilesein. Falls der Tag weitere Tags enthält, muss nach dem Starttag einZeilenumbruch erfolgen. Zeilenumbrüche in CDATA-Abschnitten könnendurch die Escapesequenz &quot;\n" ausgedrückt werden. </p><p> Alle CDATA-Abschnitte außerhalb eines Tags oder Abschnittewelche nicht der Syntax entsprechen, werden als Kommentare behandeltund bei der Verarbeitung der Datei ignoriert. Eine besondere Markierungvon CDATA-Abschnitten oder Kommentaren, wie in XML üblich, entfällt. </p><p> Die Verwendung der XML-typischen Schreibweise für leere Tags,beispielsweise "&lt;br /&gt;" ist nicht gestattet(verwenden sie "&lt;br&gt;&lt;/br&gt;" stattdessen). </p><p> Abschließend soll gelten, dass auf die Verwendung vonAttributen verzichtet werden soll. </p><p> Der Grund für diese recht restriktive Syntax wird deutlicherbei Betrachtung eines einfachen Beispiels. </p><h4>Beispiel</h4><p> Im Folgenden sollen Beispiele beschrieben werden, welchezeigen, auf welche Weise native Datentypen in PHP-Skripten durch dasSML-Format darstellbar sind. </p><h5>skalare Variablen</h5><div class="box"><pre><code><b>Darstellung in PHP-Code:</b>&lt;?php$a = 1;$b = 'string';$c = 12.5;$d = true;?&gt;<b>äquivalente Darstellung in SML:</b><span style="color: #000080">&lt;a&gt;</span>1<span style="color: #000080">&lt;/a&gt;</span><span style="color: #000080">&lt;b&gt;</span>string<span style="color: #000080">&lt;/b&gt;</span><span style="color: #000080">&lt;c&gt;</span>12.5<span style="color: #000080">&lt;/c&gt;</span><span style="color: #000080">&lt;d&gt;</span>true<span style="color: #000080">&lt;/d&gt;</span></code></pre></div><p> An dieser Stelle ist es wichtig eine syntaktischeEinschränkungen von PHP zu verstehen. Eine PHP-Funktion kann nur eineneinzelnen Rückgabewert besitzen. (Der Fall, dass der Funktion Parameterper Referenz übergeben werden, wird hier nicht betrachtet.) EinePHP-Funktion welche den Inhalt des SML-Dokuments auswertet und alsRückgabewert liefert, ist daher gezwungen, die Inhalte in Form einesArrays zu repräsentieren. Die Inhalte dieses Arrays können wiederum inVariablen innerhalb des Kontext des aufrufenden Programmfragmentskopiert werden, wodurch der ursprüngliche Zustand wiederhergestelltwird. </p><p> Um ein zweites Beispiel zu nennen: Dokumente in JSO-Notationunterliegen den gleichen Einschränkungen. </p><h5>numerische Datenfelder</h5><div class="box"><pre><code><b>Darstellung in PHP-Code:</b>&lt;?php$A = array();$A[0] = 1;$A[1] = 'string';$A[2] = 12.5;$A[1000] = true;$B = array();$B[0] = 2;?&gt;<b>äquivalente Darstellung in SML:</b><span style="color: #000080">&lt;A&gt;    &lt;0&gt;</span>1<span style="color: #000080">&lt;/0&gt;    &lt;1&gt;</span>string<span style="color: #000080">&lt;/1&gt;    &lt;2&gt;</span>12.5&lt;<span style="color: #000080">/2&gt;    &lt;1000&gt;</span>true<span style="color: #000080">&lt;/1000&gt;&lt;/A&gt;&lt;B&gt;    &lt;0&gt;</span>2<span style="color: #000080">&lt;/0&gt;&lt;/B&gt;</span></code></pre></div><h5>assoziative Datenfelder</h5><div class="box"><pre><code><b>Darstellung in PHP-Code:</b>&lt;?php$SCREEN = array();$SCREEN[&quot;width&quot;] = 1024;$SCREEN[&quot;height&quot;] = 768;$SCREEN[&quot;depth&quot;] = &quot;32-Bit&quot;;?&gt;<b>äquivalente Darstellung in SML:</b><span style="color: #000080">&lt;SCREEN&gt;    &lt;width&gt;</span>1024<span style="color: #000080">&lt;/width&gt;    &lt;height&gt;</span>768<span style="color: #000080">&lt;/height&gt;    &lt;depth&gt;</span>32-Bit<span style="color: #000080">&lt;/depth&gt;&lt;/SCREEN&gt;</span></code></pre></div><h5>mehrdimensionale und gemischte Datenfelder</h5><div class="box"><pre><code><b>Darstellung in PHP-Code:</b>&lt;?php$A = array();$A[&quot;a&quot;] = 1;$A[&quot;b&quot;] = 2;$A[0] = &quot;drei&quot;;$B = array();$B[0] = true;$B[&quot;a&quot;] = 1000;$B[&quot;b&quot;] = array();$B[&quot;b&quot;][0] = 1;$B[&quot;b&quot;][1] = 2;$B[&quot;b&quot;][&quot;a&quot;] = 3;?&gt;<b>äquivalente Darstellung in SML:</b><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">drei</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">A</span><span class="xml1-symbol">&gt;&lt;</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1000</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">		</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">a</span><span class="xml1-symbol">&gt;</span><span class="xml1-whitespace">	</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">b</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">B</span><span class="xml1-symbol">&gt;</span></span></code></pre></div><p> Wie aus den obigen Beispielen ersichtlich, eignet sich dasbeschriebene Format gut um skalare Variablen und Datenfelderdarzustellen, welche üblicherweise als Parameter für dieInitialisierung des Frameworks in Frage kommen dürften. Die Angabeeines Typs ist nicht erforderlich, weil PHP nicht streng typisiert ist.Der Typ einer Variablen ist zur Laufzeit folglich dynamisch. Dieeinzige notwendige Unterscheidung findet zwischen skalaren Werten undDatenfeldern statt. Diese Unterscheidung ist trivialerweise anhand derSyntax möglich. </p><h3> Alternativen zu SML</h3><p> Zu dem für dieses Framework verwendeten SML-Dateiformat gibtes eine Anzahl populärer Alternativen. Der folgende Abschnitt wirdeinige dieser Alternativen vorstellen, vergleichen und die Ergebnissediskutieren. </p><p> Im Folgenden sollen verschiedene Teilaspekte betrachtetwerden: </p><p> Da nicht ausgeschlossen werden kann, dass eine Bearbeitungdes Quelltextes der Dateien teilweise von Hand erfolgen muss, ist derLesbarkeit des Quelltextes ein Kriterium, das beleuchtet werden soll.Die Syntax sollte im Idealfall intuitiv zu erfassen sein. Insbesondereist dies wichtig, da zum gegenwärtigen Zeitpunkt nur für eineUntermenge der Gesamtheit der Konfigurationsmerkmale des Frameworkseine grafische Oberfläche bereitgestellt werden kann. In Anbetracht derFülle an Optionen ist es darüber hinaus auch auf absehbare Zeit eherunwahrscheinlich, dass eine vollständige Abdeckung erreicht werdenkann. Es stellt sich ohnehin die Frage, ob dies überhaupt wünschenswertwäre. Schließlich sollte auch berücksichtigen werden, dass esprinzipiell erfahrene Anwender gibt, welche bewusst und absichtlich aufdie Funktionen einer &quot;schwerfälligen" GUI verzichten, weil sie dieseeher als Behinderung anstatt als Bereicherung empfinden. </p><p> Ein interessanter Faktor ist auch die Performance, da das Dateiformateinem eventuell zeitkritischen Zweck genügen soll, nämlich derInitialisierung des Frameworks. Begründet dadurch, dass die Dateien beijedem Aufruf des Frameworks neu gelesen und dabei eventuell auch durcheinen Parser untersucht werden müssen bevor ihre Informationenverfügbar sind, sollte dieser Vorgang mit möglichst geringen Kosten imHinblick auf die Rechenzeit auskommen. Nicht immer ist ein sinnvollerVergleich möglich, wo sich ein Vergleich jedoch anbietet sollte erdurchgeführt werden. </p><p> Darüber hinaus sollten die Grenzen des jeweiligenDateiformats beachtet werden. Wenn es Faktoren gibt, welche dazu führenkönnen, dass ein Einsatz unter bestimmten Bedingungen nicht mehrsinnvoll ist, sollten diese genannt werden. </p><h4>XML-Parser</h4><p> Die Portabilität der Dateien in andere Programmiersprachenist eine der Stärken von XML. Parser für XML sind in denFunktionsumfang nahezu jeder modernen Skript- oder Programmierspracheintegriert. Dies fällt jedoch für dieses Anwendungsgebiet &#8211; dieInitialisierung des Frameworks &#8211; nicht ins Gewicht, da die für dieUmsetzung des Frameworks gewählte Sprache ist PHP und Implementierungendes Frameworks in anderen Sprachen existieren zurzeit nicht. </p><p> Das aktuelle Werkzeug der Wahl zur Behandlung von XML,welches gleichermaßen für PHP 4 als auch PHP 5 verfügbar ist, ist zumgegenwärtigen Zeitpunkt der interne XML-Parser. Dieser XML-Parserbesitzt allerdings eine Schwachstelle. Er ist lediglich zum Lesen vonXML-Dateien verwendbar, nicht jedoch zum Schreiben. EineImplementierung zum Erzeugen von XML-Dateien ist erst für PHP abVersion 5 als Standardkomponente enthalten. </p><p> Hinzu kommt, dass mithilfe des XML-Parsers ein assoziativesDatenfeld aus einer XML-Datei zu erstellen ähnlich vielProgrammieraufwand benötigt, wie für das Schreiben eines Skripts fürdas Laden einer SML-Datei erforderlich gewesen ist. Allerdings ist diesmit dem Risiko verbunden, dass sich die Implementierung des XML-Parsersin einer späteren Veröffentlichung der Sprache möglicherweiseverändert, auch wenn dies grundsätzlich unwahrscheinlich ist.Zudem gibt es keine sonstigen wesentlichen Vorteile dieserImplementierung, abgesehen von der allgemeinen Beliebtheit von XML alsDialekt. </p><p> Als weiteres Argument wäre die Performance zu beleuchten.Dies gestaltet sich jedoch alles andere als unproblematisch und dieErgebnisse sind nur unter Vorbehalt zu betrachten, da diese abhängigsind vom eingesetzten Werkzeug. Derer gibt es viele für das XML-Format,selbst wenn sich auf PHP als solches beschränkt wird. </p><p> Um einen Vergleich anstellen zu können, soll ein einfachesXML-Dokument geladen und in ein Datenfeld übertragen werden. </p><p> Zum Vergleich hier der Quelltext des verwendetenXML-Dokuments. </p><div class="box"><pre><code><span style="font: 10pt Courier New;"><span class="xml1-processinginstruction">&lt;?xml version=&quot;1.0&quot;?&gt;</span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;  </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">channel</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Test</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">language</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">de-de</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">0</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testeintrag 1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[Testeintrag]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">1</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testeintrag 2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:53 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[Testeintrag]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">2</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testeintrag 3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[Testeintrag]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;</span><span class="xml1-whitespace"> </span><span class="xml1-symbol">/&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">array</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">3</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">title</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Linktest</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">pubDate</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:36 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">description</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-cdatasection">&lt;![CDATA[Testeintrag]]&gt;</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">link</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">scalar</span><span class="xml1-whitespace"> </span><span class="xml1-attributename">name</span><span class="xml1-symbol">=&quot;</span><span class="xml1-attributevalue">author</span><span class="xml1-symbol">&quot;&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">scalar</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;  </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">array</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">root</span><span class="xml1-symbol">&gt;</span></span></code></pre></div><p> Anschließend das Gleiche im SML-Format. </p><div class="box"><pre><code><span style="font: 10pt Courier New;"><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">channel</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Test</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">language</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">de-de</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">language</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag 1</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">0</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag 2</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:23:53 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">1</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">2</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag 3</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:18 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">2</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">3</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Linktest</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">title</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Do, 9 Jun 2005 13:24:36 +0200</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">pubDate</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testeintrag</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">description</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">about:blank</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">link</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span class="xml1-symbol">&lt;</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">Testautor</span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">author</span><span class="xml1-symbol">&gt;</span><span class="xml1-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span class="xml1-symbol">&lt;/</span><span class="xml1-elementname">3</span><span class="xml1-symbol">&gt;&lt;/</span><span class="xml1-elementname">channel</span><span class="xml1-symbol">&gt;</span></span></code></pre></div><p> Zum Vergleich wird PHP 4 mit dem im Standard enthaltenenXML-Parser herangezogen. Dabei wird so vorgegangen, dass vor und nachjedem Parsen jeweils mithilfe des Befehls &quot;microtime" eine Messungdurchgeführt wird. Die Differenz zwischen beiden Werten wird inMillisekunden ausgegeben. Es kommt dabei nicht darauf an, wie vieleMillisekunden die eine oder andere Technik schneller ist. Das objektivzu beurteilen ist mit diesem Testverfahren selbstverständlichunmöglich, denn das Verfahren ist viel zu rudimentär um repräsentativeErgebnisse zu liefern. </p><p> Die Konfiguration des Testsystems kann in diesem Fallvernachlässigt werden, da lediglich die Größenordnung der Differenzzwischen beiden Techniken betrachtet werden soll. </p><p> Äußert problematisch für eine objektive Bewertung ist zudemder unglückliche Umstand, dass der XML-Parser zur Behandlung derStart-Tags, End-Tags und CDATA-Bereiche Einschübe aus handgeschriebenemPHP-Code benötigt. Es wäre somit denkbar, dass Effekte durch mehr oderminder performanten PHP-Code das Ergebnis der Messung verfälschen.Daher wird der XML-Parser sowohl einmal mit einer vergleichbarenImplementierung, als auch ein zweites Mal zum Vergleich ohne irgendeineImplementierung gemessen. </p><p> Ziel des Tests ist es nicht, ein Votum zu treffen für oder gegenden Einsatz des XML-Parsers. Vielmehr soll sich zeigen, ob es deutlicheUnterschiede zwischen beiden Varianten gibt. Insbesondere, ob dieSML-Variante um Größenordnungen langsamer als der XML-Parser ist. Dieskönnte einen Hinweis darauf liefern, dass die gefundene Lösungmöglicherweise aus Gründen schlechter Performance nicht für dasFramework geeignet sein könnte. </p><p> Für diese recht bescheidene Aufgabenstellung sollte dieseäußert einfache Testmethode trotz allem ausreichend genaue Ergebnisseliefern. </p><table summary="Vergleich der Performance zwischen XML-Parser und SML-Skript (Auszug)" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0" width="766"><colgroup><col style="width: 100px;" /><col style="width: 100px;" /><col style="width: 100px;" /><col style="width: 150px;" /><col style="width: 150px;" /></colgroup><thead> <tr valign="top"><th> XML-Parser <a class="sdfootnoteanc" name="sdfootnote1anc" href="#sdfootnote1sym"> <sup>1</sup></a></th><th> XML-Parser <a class="sdfootnoteanc" name="sdfootnote2anc" href="#sdfootnote2sym"> <sup>2</sup></a></th><th> SML-Skript </th><th> Differenz <br />SML zu XML <a class="sdfootnoteanc" name="sdfootnote1anc0" href="#sdfootnote1sym"> <sup>1</sup></a> </th><th> Differenz <br />SML zu XML <a class="sdfootnoteanc" name="sdfootnote2anc0" href="#sdfootnote2sym"> <sup>2</sup></a> </th></tr></thead> <tbody><tr valign="top"><td> 0,003685s</td><td> 0,001813s</td><td> 0,001626s</td><td> -0,001153s (31%)</td><td> -0,000187s (10%)</td></tr><tr valign="top"><td> 0,003410s</td><td> 0,001666s</td><td> 0,001255s</td><td> -0,002155s (63%)</td><td> -0,000411s (24%)</td></tr><tr valign="top"><td> 0,003367s</td><td> 0,001629s</td><td> 0,001312s</td><td> -0,002055s (61%)</td><td> -0,000317s (19%)</td></tr><tr valign="top"><td> 0,003394s</td><td> 0,001614s</td><td> 0,001240s</td><td> -0,002154s (63%)</td><td> -0,000374s (23%)</td></tr><tr valign="top"><td> 0,003381s</td><td> 0,001618s</td><td> 0,001228s</td><td> -0,002153s (63%)</td><td> -0,000390s (24%)</td></tr><tr valign="top"><td> 0,003386s</td><td> 0,001613s</td><td> 0,001400s</td><td> -0,001986s (59%)</td><td> -0,000213s (13%)</td></tr><tr valign="top"><td> 0,003387s</td><td> 0,001620s</td><td> 0,001296s</td><td> -0,002091s (61%)</td><td> -0,000324s (20%)</td></tr><tr valign="top"><td> 0,003658s</td><td> 0,001617s</td><td> 0,001247s</td><td> -0,002411s (65%)</td><td> -0,000370s (22%)</td></tr><tr valign="top"><td> 0,003678s</td><td> 0,001633s</td><td> 0,001454s</td><td> -0,002224s (60%)</td><td> -0,000179s (10%)</td></tr><tr valign="top"><td> 0,003725s</td><td> 0,001613s</td><td> 0,001573s</td><td> -0,002152s (58%)</td><td> -0,000040s (2%)</td></tr></tbody></table><p style="font-size: 12px; margin-left: 0cm; margin-right: 0cm; margin-top: 0.21cm; font-style: italic;" align="left"> Vergleich der Performance zwischen XML-Parserund SML-Skript (Auszug) </p><div id="sdfootnote1"><p class="sdfootnote"> <a class="sdfootnotesym" name="sdfootnote1sym" href="#sdfootnote1anc">1</a>XML-Parser bei Verwendung einer zum SML-Skript vergleichbarenImplementierung </p></div><div id="sdfootnote2"><p class="sdfootnote"> <a class="sdfootnotesym" name="sdfootnote2sym" href="#sdfootnote2anc">2</a>XML-Parser im Leerlauf, ohne Verarbeitung der Eingabe </p></div><p> Betrachtet man den obigen, kurzen Auszug der Ergebnisse sofällt einerseits auf, dass der mit PHP-Code bestückte XML-Parserweniger performant agiert hat als das SML-Skript. Dies könnte jedochwie bereits erwähnt auch eine Frage weniger performanter Programmierungsein. Betrachtet man jedoch Spalte 2 (&quot;XML-Parser 2") im Vergleich zuSpalte 3 (&quot;SML-Skript") so sieht man, dass auch in diesem Fall dieSML-Variante nah bei den Werten des XML-Parsers liegt. Dies istinsbesondere bemerkenswert, da der XML-Parser in diesem Fall gar keinErgebnis produzierte, da keine Implementierung zur Bearbeitung desInhalts angegeben wurde. Aus diesem Grunde kann das Argument, dass eineungünstig gewählte Implementierung den XML-Parser verlangsamt habenkönnte, nicht mehr aufrecht erhalten werden. </p><p> Dieser Test lieferte folglich keinen Hinweis darauf, dass dieLeistungsfähigkeit der Implementierung einen negativen Effekt auf diePerformance der gesamten Anwendung ausüben könnte. </p><h4>SimpleXML</h4><p> Syntaktisch gesehen unterscheidet sich die Benutzung vonSimpleXML für den Entwickler nur unwesentlich von der Verwendung desSML-Skripts, wie der nachfolgende Quellcodeauszug verdeutlicht. </p><pre class="box">&lt;?php$sml = SML::getFile(&quot;test.config&quot;);$xml = simplexml_load_file(&quot;test.xml&quot;);?&gt;</pre><p> <br />Der einzige offensichtliche Unterschied liegt im Typ des Rückgabewerts.Während die SML-Variante ein assoziatives Datenfeld als Ergebnisliefert, gibt SimpleXML ein Objekt vom Typ &quot;SimpleXMLElement" zurück.Man mag geteilter Auffassung darüber sein, welche Variante dieglücklichere Wahl ist. </p><p> Gegen SimpleXML spricht, dass es die Namenvon Tags und Attributen auf Namen von Objekten und der Eigenschaften inPHP ab. Das ist problematisch, weil diese in PHP und XML jeweilsunterschiedliche Zeichen enthalten dürfen. Zum Beispiel betrifft diesdas Zeichen '-', welches in PHP nicht für die Benennung von Variablenverwendet werden darf. Folglich kann man zum Zeitpunkt der Erstellungdieses Dokuments über SimpleXML auf einen Tag namens&lt;foo-bar&gt; nur sehr umständlich zugreifen. </p><h4>Initialisierungsdateien</h4><p> Initialisierungsdateien, häufig abgekürzt mit der Dateiendung&quot;ini&quot;, sind ihrerseits eine geeignete Alternative, sofern keineAbbildung von komplexen Strukturen erforderlich ist. Die Darstellungvon Schlüsseln, insbesondere bei tief verschachtelten Informationen,kann jedoch im Einzelfall unübersichtlich werden. Das Format bietetsyntaktisch einen einfachen Aufbau. Allerdings müssen dem Format einigeAbstriche gegenüber XML zugestanden werden. Es fehlt zum Beispiel dietypische Schreibweise in Form von Tags, welche derzeit populär ist. DasErstellen einer DTD oder einer vergleichbaren Datei, welche dieStruktur des Dateiformats beschreibt, ist sowohl praktisch als auch austheoretischen Überlegungen heraus nicht möglich. Dies ist jedoch keinNachteil. Bedenkt man, dass die vordergründige Aufgabe diesesDateiformats darin besteht, eine Abbildung von beliebig strukturiertenassoziativen Datenfeldern aus einer Skript- oder Programmierspracheheraus auf ein Dateiformat zu realisieren, wird deutlich, dass dieVorgabe einer statischen Struktur nicht sinnvoll ist.Ideal wäre eine Kombination, welche die Vorteile beider Formate in sichvereint. </p><p> Der folgende Quellcodeauszug zeigt ein Beispiel für eineInitialisierungsdatei. </p><div class="box"><pre><code><b><span style="color: #000080">[STORE\0]</span></b>type=bookauthor=Dr. A Beispiel<b><span style="color: #000080">[STORE\0\TITLE]</span></b>main=Protomateriesubtitle=Alpha et Omega<b><span style="color: #000080">[STORE\1]</span></b>type=cdauthor=Barbara Sänger<b><span style="color: #000080">[STORE\1\TITLE]</span></b>main=Best-Of</code></pre></div><h4>JSON</h4><p> Eine weitere Alternative ist die Verwendung von JSON. ImFolgenden ein Beispiel: </p><div class="box"><pre><code><span style="font: 10pt Courier New;"><span class="jscript1-string">&quot;STORE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{</span><span class="jscript1-space">    </span><span class="jscript1-string">&quot;0&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;type&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;book&quot;</span><span class="jscript1-symbol">,</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;author&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Dr. A Beispiel&quot;</span><span class="jscript1-symbol">,</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;TITLE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;main&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Protomaterie&quot;</span><span class="jscript1-symbol">,</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;subtitle&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Alpha et Omega&quot;</span><span class="jscript1-space">        </span><span class="jscript1-symbol">}</span><span class="jscript1-space">    </span><span class="jscript1-symbol">},</span><span class="jscript1-space">    </span><span class="jscript1-string">&quot;1&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;type&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;cd&quot;</span><span class="jscript1-symbol">,</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;author&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Barbara S&auml;nger&quot;</span><span class="jscript1-symbol">,</span><span class="jscript1-space">        </span><span class="jscript1-string">&quot;TITLE&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-symbol">{</span><span class="jscript1-space">            </span><span class="jscript1-string">&quot;main&quot;</span><span class="jscript1-space"> </span><span class="jscript1-symbol">:</span><span class="jscript1-space"> </span><span class="jscript1-string">&quot;Best-Of&quot;</span><span class="jscript1-space">        </span><span class="jscript1-symbol">}</span><span class="jscript1-space">    </span><span class="jscript1-symbol">}}</span></span></code></pre></div><h4>Verwendung von &quot;serialize" und &quot;unserialize"</h4><p> PHP bietet die Möglichkeit, ähnlich wie beispielsweise Java,mit den Befehlen &quot;serialize" und &quot;unserialize" Variablen zuserialisieren und wiederherzustellen. </p><p> Der folgende Quellcodeauszug zeigt ein Beispiel. </p><div class="box"><pre>a:1:{s:7:&quot;CHANNEL&quot;;a:7:{s:5:&quot;TITLE&quot;;s:4:&quot;Test&quot;;s:4:&quot;LINK&quot;;s:11:&quot;about:blank&quot;;s:8:&quot;LANGUAGE&quot;;s:5:&quot;de-de&quot;;i:0;a:4:{s:5:&quot;TITLE&quot;;s:13:&quot;Testeintrag 1&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Do, 9 Jun 2005 13:23:18 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:11:&quot;Testeintrag&quot;;s:6:&quot;AUTHOR&quot;;s:9:&quot;Testautor&quot;;}i:1;a:4:{s:5:&quot;TITLE&quot;;s:13:&quot;Testeintrag 2&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Do, 9 Jun 2005 13:23:53 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:11:&quot;Testeintrag&quot;;s:6:&quot;AUTHOR&quot;;s:9:&quot;Testautor&quot;;}i:2;a:4:{s:5:&quot;TITLE&quot;;s:13:&quot;Testeintrag 3&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Do, 9 Jun 2005 13:24:18 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:11:&quot;Testeintrag&quot;;s:6:&quot;AUTHOR&quot;;s:9:&quot;Testautor&quot;;}i:3;a:5:{s:5:&quot;TITLE&quot;;s:8:&quot;Linktest&quot;;s:7:&quot;PUBDATE&quot;;s:29:&quot;Do, 9 Jun 2005 13:24:36 +0200&quot;;s:11:&quot;DESCRIPTION&quot;;s:11:&quot;Testeintrag&quot;;s:4:&quot;LINK&quot;;s:11:&quot;about:blank&quot;;s:6:&quot;AUTHOR&quot;;s:9:&quot;Testautor&quot;;}}}</pre></div><p> Diese Lösung ist ohne Zweifel sehr performant. Der Befehl&quot;unserialize" arbeitet mit dieser Eingabe noch einmal um den Faktor 2schneller als SimpleXML. Problematisch ist jedoch die Lesbarkeit deserzeugten Datenstroms. Für händische Eingriffe ist diese Darstellungoffensichtlich denkbar ungeeignet. Da eine gute Lesbarkeit für dasFramework jedoch unabdingbar ist, wurde von einer Realisierung indieser Form bis auf Weiteres abgesehen. </p><p class="header"> weiterführende Literatur</p><ol class="roman"><li>Self-PHP, http://www.selfphp.info</li><li>Offizielle PHP Webseite, http://www.php.net</li></ol><h2>Spam und Flooding</h2><h3> Definition</h3><p> Unerwünschte Werbung in E-Mails, Foren oder Gästebüchern sindein aktuelles Thema. In diesem Abschnitt wird erläutert, was mandarunter versteht und es werden einige Methoden erläutert, mit denenDritte &quot;Spamming&quot; oder &quot;Flooding&quot; betreiben. Anschließend wird gezeigt,auf welche Weise in diesem Framework versucht wird, diesen Bedrohungenzu begegnen. </p><p> Zwischen &quot;Spam&quot; und &quot;Floods&quot; gibt es trotz oberflächlicherÄhnlichkeiten einen feinen Unterschied, welcher im Folgenden dargelegtwird. </p><p> Unter &quot;Spam&quot; versteht man die mehrmalige, unaufgeforderteÜbermittlung von medialen Inhalten an eine Person oder eine Gruppe vonPersonen. Beispielsweise das unaufgeforderte Versenden von E-Mails mitWerbeinhalten an Dritte. Aber auch massenhafte, unaufgeforderte Anrufesind eine Form von &quot;Spam&quot;. Der Versand von Spam ist in vielen Ländern(darunter Europa und die USA) illegal und wird strafrechtlich verfolgt.</p><p> Die Webseite &quot;spamhaus.org&quot; definiert &quot;Spam&quot; wie folgt. </p><div class="box"><p> <cite> The word " <dfn> Spam </dfn> " asapplied to Email means Unsolicited Bulk Email ("UBE"). </cite> </p><ol><li> <cite> (Bulk) the recipient's personal identity andcontext are irrelevant because the message is equally applicable tomany other potential recipient </cite></li><li> <cite> (Unsolicited) the recipient has notverifiably granted deliberate, explicit, and still-revocable permissionfor it to be sent </cite></li></ol><p> <cite> A message is Spam only if it is bothUnsolicited and Bulk. </cite> </p></div><p> Unter &quot; <dfn> Flooding </dfn> &quot; versteht mandas mutwillige, unaufgeforderte &quot;überfluten&quot; eines Mediums mitInhalten. Floods zielen darauf ab, den normalen Betrieb eines Mediumszu stören. Beispielsweise das massenhafte Veröffentlichen sinnfreierTexte in einem öffentlichen Forum. Aber auch eine Person, welche eineöffentliche Veranstaltung durch permanente Zwischenrufe stört, betreibtdem Grunde nach eine Form von Flooding. Flooding kann in einigen Fällenillegal sein. Beispielsweise dann, wenn ein wirtschaftlicher Schadenentsteht. </p><p> In der Regel wird &quot;Spam&quot; mit der Intention erstellt,Werbebotschaften zu vermitteln. Wohingegen &quot;Floods&quot; meist eher eineForm von Vandalismus darstellen. </p><h3>Spam in Foren und Gästebüchern</h3><p> Ein zunehmendes Problem stellt der Spam in Foren undGästebüchern dar. Aber auch Blogs und Wikis sind betroffen. Meistwerden solche Einträge zwar schnell aufgespürt und wieder entfernt,aber die Beseitigung unerwünschter Einträge dieser Art kostet Zeit undGeld. Im Folgenden Abschnitt wird beschrieben, auf welche Weise einAngreifer dabei vorgehen könnte und es werden Mittel und Wegeaufgezeigt, dem angemessen zu begegnen. </p><p> Der Angreifer geht dabei wie folgt vor. Zunächst sucht er einanfälliges Skript eines Gästebuches oder Forums, welches eineausreichend große Verbreitung im Internet besitzt. Er untersucht dieFormulare zum Erstellen neuer Einträge und notiert die Bezeichnungender erforderlichen Formularfelder. Der Angreifer späht bestimmtetypische Texte innerhalb der Anwendung aus. Unter Verwendung dieserTexte als Suchbegriffe, findet er bei Suchdiensten Webseiten, auf denendas Skript installiert ist. </p><p> Der Angreifer erstellt eine Liste der URLs dieser Seiten,welche er in einer Datei ablegt. Mit Hilfe eines kurzen Programms trägter, beispielsweise über einen anonymen Proxyserver, asynchron in einereinfachen Schleife Werbebotschaften in alle Formulare der Liste ein. </p><p> Wenn der Angreifer Glück hat, indexieren obendreinSuchmaschinen wie Google diese Seiten bevor der zuständigeAdministrator die Werbung entfernt. Auf diese Weise erhöhen in dieWerbebotschaft eingebettete Hyperlinks obendrein den PageRank der sobeworbenen Internetangebote, was dazu führen kann, dass diese beiSuchmaschinen leichter auf den vorderen Plätzen landen. </p><p> Es gibt mehrere Methoden solche Angriffe abzuwehren. </p><h4>Reaktive Maßnahmen</h4><p> Die einfachste Möglichkeit besteht darin, schlicht undergreifend die URL zu ändern. Üblicherweise arbeiten die Skripte dermeisten Angreifer asynchron. Es fällt dem Angreifer somit in der Regelnicht sofort auf, wenn eine Webseite nicht mehr erreichbar ist. Es istdavon auszugehen, dass der Angreifer um die URL zu korrigieren entwederauf das Update der Suchmaschine wartet, was durchaus 8 Wochen dauernkann, oder die Webseite selbst erneut besuchen und den neuen Link vonHand extrahieren muss. In beiden Fällen sollte das Opfer vorübergehendRuhe vor dem Angreifer haben. </p><p> Für das Framework ist das Ändern der URL ohne Schwierigkeitenmöglich. Das ist deshalb so einfach, weil das Framework beliebig vieledurch eine ID-Kennung identifizierte Instanzen der installiertenAnwendungen beziehungsweise Plugins in Form von&quot;Konfigurationsprofilen&quot; verwalten kann. Welche Profile aktiv sind undwelche nicht, erschließt sich jedoch nur für den Webmaster selbst undnicht für den außenstehenden Nutzer. </p><p> Um die URL einer Anwendung zu ändern muss folglich lediglichdas betroffene Profil umbenannt und neu verlinkt werden. Dies ist eineFrage von wenigen Minuten. Der positive Nebeneffekt besteht darin, dassder Angreifer selbst bei synchroner Übertragung, oder bei Prüfung derURL über ein automatisches Programm keinen Fehler 404 (Seite nichtgefunden) vom Server erhält. Selbst bei einer manuellen Prüfung bemerkter durch einen direkten Aufruf der URL nicht, dass er ein inaktivesProfil vor sich hat. Er wird je nach Konfiguration des Frameworksweiterhin Formulare aufrufen und (sofern das Profil nichtschreibgeschützt ist) Beiträge schreiben können. </p><p> Aus persönlicher Erfahrung kann ich berichten, dass sichAngreifer auf diese einfache Weise leicht monatelang in die Irre führenlassen, ohne ihren Fehler zu bemerken. </p><p> Eine weitere Maßnahme ist das Sperren von IPs oderIP-Blöcken. Das ist vor allem dann hilfreich, wenn der Angreifer stetsdie gleichen Proxyserver für seine Angriffe verwendet. Leider ist diesnicht häufig der Fall. Nichtsdestotrotz wurde diese Möglichkeit für dasFramework berücksichtigt und eine entsprechende optionale Funktioneingebaut. Diese Funktion kann zudem auch dazu verwendet werden, beiAnwendungen in einem lokalen Netzwerk mit Zugang zum Internet denZugriff auf die Anwendung auf das lokale Netzwerk zu beschränken undZugriffe aus dem Internet zu untersagen. </p><h4>Präventive Maßnahmen</h4><p> Um von vorn herein zu verhindern, dass ein Angreifer miteinem automatischen Programm Einträge verfassen kann, gibt es dieMöglichkeit in potentiell gefährdete Formulare Grafiken mitkombinierten Zahlen- und Buchstaben-Codes einzubauen. Um einen Eintragschreiben zu können, muss der Besucher den eingeblendeten Codeabtippen. Was für einen menschlichen Betrachter eine leichte Übung ist,gestaltet sich für ein automatisches Programm deutlich schwieriger. </p><p> Die Probleme welche sich für den Angreifer daraus ergebensind vielfältig. Sein Programm muss zunächst erst einmal den aktuellenCode vom Server holen &#8211; selbst wenn es gelingt den Code zu extrahierenkostet dies in jedem Fall Zeit. Eine asynchrone Kommunikation ist dahernicht mehr möglich: die Anfrage muss gesendet und der Code mussempfangen werden. Dadurch besteht aber auch das Risiko, dass dasProgramm möglicherweise durch einen langsamen oder absichtlichmodifizierten Server verlangsamt wird. Außerdem ist es mit deutlichgrößerem programmiertechnischen Aufwand verbunden. </p><p> Es ist davon auszugehen, dass ein Angreifer aus den zuvorgenannten Gründen eine so geschütztes Webanwendung meiden wird. </p><p> Das Framework implementiert eine solche Codeabfrage. DieStandardbibliothek hält zu diesem Zweck die Aktionen&quot;security_get_image&quot; und &quot;security_check_image&quot; bereit, welche mitHilfe der PHP GD-Bibliothek eine Grafik im PNG-Format erzeugen könnenund eine interne Codetabelle zum Vergleich der vom Nutzer eingegebenenDaten verwalten. Diese Tabelle wird durch eine &quot;.htaccess&quot; -Datei voröffentlichen Zugriffen geschützt und in regelmäßigen Zeitabständenautomatisch erneuert. </p><h3> Vandalismus und Flooding in Foren und Gästebüchern</h3><p> Flooding kann sowohl unbeabsichtigt als auch beabsichtigtsein. </p><p> Unbeabsichtigt kann dies beispielsweise dann leichtgeschehen, wenn der Server vorübergehend stark belastet ist. In diesemFall kann es passieren, dass ein einzelner Nutzer, der gerade einenSchreibzugriff auf die Datenbank in Auftrag gegeben hat, ungewohntlange auf die Antwort des Servers warten muss. Aus Ungeduld kann esvorkommen, dass der Nutzer die Refresh-Funktion des Browser benutzt undsomit die Daten ein zweites Mal an den Server sendet, was dazu führt,dass unbeabsichtigt zwei identische Einträge erstellt werden. Selbstwenn die Webseite selbst nur wenig besucht ist, kann dies dennoch rechthäufig vorkommen, wenn die Webseite auf einem &quot;shared server&quot;gespeichert ist. Das heißt: wenn sich die Webseite, auf welcher dasFramework installiert ist, einen Host mit anderen Kunden teilt. Es istnicht unüblich, dass sich je nach Preiskategorie und Anbieter ohneWeiteres 1000 oder sogar 10000 verschiedene Kunden den gleichen Serverund damit die gleichen Ressourcen teilen müssen. </p><p> Beabsichtigtes Flooding ist meist eine Form von&quot;Vandalismus&quot;. Ziele des Angreifers ist es, die normale Nutzung derSeite zu stören beziehungsweise zu erschweren. </p><p> Sowohl beabsichtigtes als auch unbeabsichtigtes Flooding kanndurch automatisierte Maßnahmen vermindert werden. </p><h4 class="western"> Beispielszenario</h4><p> Es sollen zwei Methoden betrachtet werden, mit denen Nutzerden Betrieb der Anwendung versuchen könnten zu stören. Erstens: durchdie Reihung überlanger Zeichenketten ohne Zeilenumbruch, Reihung einerüberlangen Kette von Zeilenumbrüchen, überlangen Texten allgemein, oderübergroßer Grafiken, kann das Layout der Anwendung gestört werden. Diesbewirkt eventuell, dass Teile des grafischen Layouts nicht mehr sodargestellt werden, wie vom Entwickler beabsichtigt. Außerdem könnte esdazu führen, dass andere Nutzer umständlich scrollen müssen, weil dieDarstellung anderer Beiträge dadurch beeinträchtigt wird. </p><p> Die zweite Methode ist das massenhafte Absetzen vonirrelevanten Beiträgen. Dadurch wird es anderen Nutzern erschwert,wichtige Nachrichten zu erkennen und deren Inhalte zu nutzen. DerAngreifer sendet dazu mehrere identische, oder inhaltlich ähnlicheBeiträge nacheinander an den Server. </p><h4 class="western"> Abwendung solcher Szenarien</h4><p> Für die zweite Methode sieht das Framework folgende Lösungvor. Wenn zwei Beiträge nacheinander zur Speicherung vorgesehen werden,wird überprüft ob die Beiträge abgesehen vom Zeitindex den gleichenInhalt haben. Ist dem so, dann wird der zweite Eintrag nichtgespeichert. Dies verhindert insbesondere unabsichtliches Flooding desMediums, erschwert jedoch auch eventuelle Angriffe. </p><p> Zusätzlich gibt es eine Option, welche es erlaubtfestzulegen, wie viele Einträge ein Nutzer prinzipiell nacheinanderschreiben darf. Der Nutzer wird anhand der IP identifiziert. Ist dieOption gesetzt und schreibt der Nutzer nacheinander mehr Einträge alsvorgesehen, ohne dass ein anderer Nutzer in der Zwischenzeit auf einender Beiträge geantwortet hat, dann wird dem Nutzer das Speichernweiterer Beiträge verweigert. </p><p> Für die Abwendung der ersten Methode sorgt eine Reihe vonFiltern. Diese Filter beschränken die Textlänge, begrenzen die Größefür die Darstellung von Grafiken auf Maximalwerte, entfernen auffälligeWiederholungen und erzeugen zwangsweise Zeilenumbrüche, wenn eineZeichenkette von mehr als 80 aufeinander folgenden Zeichen ohneVorkommen eines Whitespace-Zeichen gefunden wird. </p><p> Diese Methoden erschweren einem Angreifer die Störung desnormalen Betriebs, können aber dies nicht grundsätzlich verhindern.Dies wäre auch nicht unbedingt sinnvoll. Dies liegt an einem bekanntenDilemma. Verengt man den Trefferbereich der Filter, dann reduziert sichdie Zahl der Falschmeldungen (&quot;false-positives&quot;) von Einträgen, welcheals Flood-Versuch erkannt werden, aber gar keine sind. Gleichzeitigschlüpfen jedoch auch eine höhere Anzahl echter Angriffe durch das Netzder Filter. Umgekehrt: erweitert man den Trefferbereich der Filter,fängt man mehr Angriffe ab. Allerdings erhöht sich auch die Zahl der&quot;false-positives&quot; dementsprechend. Im Endeffekt wird man somit stetseinen &quot;Trade-off&quot; zwischen ausreichender Sicherheit und ausreichenderVermeidung von Falschmeldungen suchen. </p><p class="header">weiterführende Literatur</p><ol class="roman"><li>spamhaus.org</li><li>PHP Manual. PHP Documentation Group, 23.3.2005,http://php.net/manual/en/</li></ol><h2>Verschlüsselung</h2><p> Um die Sicherheit von Passwörtern zu erhöhen ist es sinnvolldiese zu verschlüsseln. Einwegverschlüsselungsverfahren [I] sind dazugut geeignet. In diesem Abschnitt werden zwei der wichtigsten Vertreterbeschrieben. In PHP sind diese über die Funktionen &quot;md5()&quot;beziehungsweise &quot;crypt()&quot; implementiert. </p><h3> DES-Algorithmus</h3><p> Das DES-Verfahren [II] war viele Jahre lang dasStandard-Verschlüsselungsverfahren in den Vereinigten Staaten. Mit derSteigerung der Rechenleistung, welche in den letzten Jahren zubeobachten war, gilt das einfache DES-Verfahren inzwischen jedoch nichtmehr als sicher. Als sichere Modifikation gilt die dreifachVerschlüsselungsvariante &quot;Triple-DES&quot;. Als Nachfolgeverfahren für DESwurde vom US-amerikanischen National Institute of Standards das sogenannte RIJNDAEL-Verfahren AES [III] gewählt. </p><p> DES ist ein Verfahren welches auf der Binärdarstellung desKlartextes arbeitet. Es erzeugt zunächst eine initiale Permutationdieser Binärdarstellung. Anschließend wird eine Blockchiffre zurVerschlüsselung angewendet. Das DES-Verfahren ist eine Feistel-Chiffre.Feistel-Chiffren wenden mehrmals nacheinander eine interne Blockchiffreauf Teile der Nachricht an um eine Folge von Rundenschlüsseln zuerzeugen. </p><p> Für die Sicherheit von Feistel-Chiffren ist die Sicherheitder verwendeten internen Blockchiffre von entscheidender Bedeutung.Zurzeit wird DES immer noch als sicher genug für die meistenAlltagsanwendungen betrachtet und das Verfahren wird in vielenUmgebungen weiterhin verwendet. Beispielsweise findet DES Anwendung aufUnix-Systemen zur Authentifizierung von Nutzern. </p><h3> MD5-Algorithmus</h3><p> Der MD5-Algorithmus [IV] gehört zur Gruppe der Hashverfahren.Wichtig für die Sicherheit eines Hashverfahrens ist die Eigenschaft derKollisionsfreiheit. Eine Kollision besteht immer dann, wenn für zweiverschiedene Klartexte der gleiche Chiffretext erzeugt wird. Falls eineKollision gefunden wird, so ist es möglich mit Hilfe geeigneterVerfahren den Klartext zu berechnen. Es ist bekannt, dass MD5 nichtkollisionsfrei ist. Jedoch ist unbekannt, ob es überhaupt irgendeineKompressionsfunktion gibt, welche gar keine Kollisionen aufweist. Dahergilt es für die Praxis als ausreichend, wenn es hinreichend schwierigist eine Kollision zu finden. Derartige Verfahren werden als&quot;kollisionsresistent&quot; bezeichnet. Ebenso wichtig ist dieGeschwindigkeit des Algorithmus, denn die Verschlüsselung selbst sollte&#8211; um für die Authentifizierung geeignet zu sein &#8211; möglichst effizientarbeiten. </p><table summary="Vergleich der Performance verschiedener Authentifizierungsverfahren" style="border-color: rgb(0, 0, 0); page-break-after: avoid;" border="1" cellpadding="4" cellspacing="0"><colgroup><col width="85*" /><col width="85*" /><col width="85*" /></colgroup> <thead> <tr valign="top"><th width="33%"> Name des Verfahrens </th><th width="33%"> Blocklänge in Bit </th><th width="33%"> Geschwindigkeit in Prozent </th></tr></thead> <tbody><tr valign="top"><td width="33%"> MD4</td><td width="33%"> 128</td><td width="33%"> 100</td></tr><tr valign="top"><td width="33%"> MD5</td><td width="33%"> 128</td><td width="33%"> 68</td></tr><tr valign="top"><td width="33%"> RIPEMD-128</td><td width="33%"> 128</td><td width="33%"> 39</td></tr><tr valign="top"><td width="33%"> RIPEMD-160</td><td width="33%"> 160</td><td width="33%"> 24</td></tr></tbody></table><p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0.21cm; font-size: 14px; font-style: italic;" align="left"> Vergleich der Performance verschiedenerAuthentifizierungsverfahren </p><p> Die Sicherheit von MD5 ist inzwischen jedoch am Wanken [V].Der Heise-Verlag berichtete zunächst Anfang 2005 darüber, dass esForschern offensichtlich gelungen ist ein schnelleres Verfahren zurBerechnung von MD5-Hashs zu finden, [VI] wodurch das Auffinden vonKollisionen erleichtert würde. Kurze Zeit später, erschien die Meldung,dass es gelungen sei, unterschiedliche Zertifikate mit gleichemMD5-Hash [VII] zu erzeugen. Nur etwas mehr als ein halbes Jahr danachzeigte sich die vorläufige Spitze der Entwicklung [VIII], als eineFirma erstmals offiziell gegen Bezahlung die Dienstleistung anbot, MD5und SHA1 Hashes mithilfe im Voraus berechneter Tabellen zu knacken,solange das Honorar stimmt. Es ist somit nur eine Frage der Zeit, wanndas MD5-Verfahren für sensible Anwendungen nicht mehr genügendSicherheit bieten wird. </p><p> Auch der eigentlich als sicherer geltende Algorithmus SHA-1[IX], der mit einer Bitlänge von 160-Bit im Gegensatz zu MD5 mit128-Bit aufwartet, ist jedoch bereits gebrochen. Wie Schneierberichtete [X], ist es einer Gruppe chinesischer Kryptoanalytiker(Xiaoyun Wang, Yiqun Lisa Yin, Hongbo Yu) von der Universität Shandonggelungen, eine Kollision in SHA-0 beziehungsweise SHA-1 zu finden. FürSHA-0 in 2 <sup>39</sup> Operationsschritten, sowie fürSHA-1 in 2 <sup>69</sup> Schritten. Deutlich schnelleralso als der Brute-Force Ansatz mit etwa 2 <sup>80</sup>erforderlichen Operationsschritten. </p><p> Das Framework verwendet ebenfalls MD5 zur Verschlüsselung vonPasswörtern. Zusätzlich wird SHA-1 zum Erzeugen eindeutiger Session-Idsverwendet. Eine Umstellung der Passwortverschlüsselung von MD5 aufSHA-1 wird zu gegebener Zeit erfolgen. </p><p class="header">weiterführende Literatur</p><ol class="roman"><li> Prof. Dr. Buchmann, J.: Einführung in die Kryptographie,2. Auflage. Springer-Verlag, 2001, Seiten 167 ff., 200 ff.</li><li> FIPS PUB 197 - ADVANCED ENCRYPTION STANDARD. U.S.DEPARTMENT OF COMMERCE; National Institute of Standards and Technology,26.11.2001 <a href="http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf">http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf</a></li><li> FIPS PUB 46-3 - DATA ENCRYPTION STANDARD. U.S. DEPARTMENTOF COMMERCE; National Institute of Standards and Technology, 25.10.1999<a href="http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf">http://csrc.nist.gov/publications/fips/fips46-3/fips46-3.pdf</a></li><li> Rivest, R.: RFC 1321 - The MD5 Message-Digest Algorithm.MIT Laboratory for Computer Science / RSA Data Security Inc.,1992 <a href="http://www.faqs.org/rfcs/rfc1321.html">http://www.faqs.org/rfcs/rfc1321.html</a></li><li> Kaminsky, D.: MD5 To Be Considered Harmful Someday. <a href="http://www.doxpara.com/md5_someday.pdf">http://www.doxpara.com/md5_someday.pdf</a></li><li> Forscher erzeugen unterschiedliche X.509-Zertifikate mitgleichem MD5-Hash. Heise-Verlag, 03.03.2005 <a href="http://www.heise.de/newsticker/meldung/57038">http://www.heise.de/newsticker/meldung/57038</a></li><li> Verunsicherung um Sicherheit von Kryptoalgorithmen.Heise-Verlag, 18.08.2004 <a href="http://www.heise.de/security/news/meldung/50148">http://www.heise.de/security/news/meldung/50148</a></li><li> Passwort-Cracker als Bezahldienst. Heise-Verlag,11.11.2005 <a href="http://www.heise.de/security/news/meldung/66039">http://www.heise.de/security/news/meldung/66039</a></li><li> FIPS PUB 180-1 - SECURE HASH STANDARD. U.S. DEPARTMENT OFCOMMERCE; National Institute of Standards and Technology, 17.04.1995 <a href="http://www.itl.nist.gov/fipspubs/fip180-1.htm">http://www.itl.nist.gov/fipspubs/fip180-1.htm</a></li><li> Schneier, Bruce: SHA-1 Broken. Weblog, 15.02.2005 <a href="http://www.schneier.com/blog/archives/2005/02/sha1_broken.html">http://www.schneier.com/blog/archives/2005/02/sha1_broken.html</a></li></ol><!-- END OF BOOK --><!-- BEGIN navigation --><div class="navline"> <a href="%PREV_URL%" style="position: absolute; left: 75px;"> <img alt="&lt;&lt;" src="data/smr2.gif" /> %PREV_NAME%</a> <a href="index.html">Index</a> <a href="%NEXT_URL%" style="position: absolute; right: 75px;"> %NEXT_NAME% <img alt="&gt;&gt;" src="data/sml2.gif" /></a> </div><!-- END navigation --><!-- BEGIN document foot --><p class="footline"><img alt="Autor: " src="data/home.gif" border="0" />Thomas Meyer, <a title="Yana PHP-Framework Homepage" href="http://www.yanaframework.net">www.yanaframework.net</a></p><!-- END document foot --></body></html>